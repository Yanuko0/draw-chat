"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/whiteboard/[roomId]",{

/***/ "./src/components/Canvas/index.tsx":
/*!*****************************************!*\
  !*** ./src/components/Canvas/index.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"./node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @swc/helpers/_/_to_consumable_array */ \"./node_modules/@swc/helpers/esm/_to_consumable_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-konva */ \"./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var _store_useCanvasStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store/useCanvasStore */ \"./src/store/useCanvasStore.ts\");\n/* harmony import */ var _config_firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config/firebase */ \"./src/config/firebase.ts\");\n/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/database */ \"./node_modules/firebase/database/dist/esm/index.esm.js\");\n/* harmony import */ var _barrel_optimize_names_BiImageAdd_BiZoomIn_BiZoomOut_react_icons_bi__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BiImageAdd,BiZoomIn,BiZoomOut!=!react-icons/bi */ \"__barrel_optimize__?names=BiImageAdd,BiZoomIn,BiZoomOut!=!./node_modules/react-icons/bi/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_MdOutlineZoomOutMap_MdPanTool_react_icons_md__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=MdOutlineZoomOutMap,MdPanTool!=!react-icons/md */ \"__barrel_optimize__?names=MdOutlineZoomOutMap,MdPanTool!=!./node_modules/react-icons/md/index.mjs\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/debounce */ \"./node_modules/lodash/debounce.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _barrel_optimize_names_AiOutlineDown_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AiOutlineDown,AiOutlineUp!=!react-icons/ai */ \"__barrel_optimize__?names=AiOutlineDown,AiOutlineUp!=!./node_modules/react-icons/ai/index.mjs\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/index.min.mjs\");\n/* harmony import */ var _components_StickerPicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/StickerPicker */ \"./src/components/StickerPicker/index.tsx\");\n\n\n\n\n\n\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\nvar Canvas = function(param) {\n    var roomId = param.roomId, nickname = param.nickname;\n    _s();\n    var _useState = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), lines = _useState[0], setLines = _useState[1];\n    var _useState1 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isDrawing = _useState1[0], setIsDrawing = _useState1[1];\n    var _useState2 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isDragging = _useState2[0], setIsDragging = _useState2[1];\n    var _useState3 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), 2), currentLine = _useState3[0], setCurrentLine = _useState3[1];\n    var _useCanvasStore = (0,_store_useCanvasStore__WEBPACK_IMPORTED_MODULE_3__.useCanvasStore)(), tool = _useCanvasStore.tool, strokeWidth = _useCanvasStore.strokeWidth, strokeColor = _useCanvasStore.strokeColor, setStrokeColor = _useCanvasStore.setStrokeColor;\n    var _useState4 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1), 2), scale = _useState4[0], setScale = _useState4[1];\n    var _useState5 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    }), 2), position = _useState5[0], setPosition = _useState5[1];\n    var _useState6 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: window.innerWidth * 2,\n        height: window.innerHeight * 2\n    }), 2), stageSize = _useState6[0], setStageSize = _useState6[1];\n    var _useState7 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), dragMode = _useState7[0], setDragMode = _useState7[1];\n    var _useState8 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), images = _useState8[0], setImages = _useState8[1];\n    var _useState9 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), 2), selectedImage = _useState9[0], setSelectedImage = _useState9[1];\n    var transformerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var _useState10 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), messages = _useState10[0], setMessages = _useState10[1];\n    var _useState11 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(''), 2), newMessage = _useState11[0], setNewMessage = _useState11[1];\n    var _useState12 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isMinimized = _useState12[0], setIsMinimized = _useState12[1];\n    var _useState13 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(160), 2), chatHeight = _useState13[0], setChatHeight = _useState13[1]; // 預設高度 160px (4列)\n    var _useState14 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), users = _useState14[0], setUsers = _useState14[1];\n    var _useState15 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isRoomInfoMinimized = _useState15[0], setIsRoomInfoMinimized = _useState15[1];\n    var _useState16 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(200), 2), roomInfoHeight = _useState16[0], setRoomInfoHeight = _useState16[1]; // 預設高度\n    var _useState17 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), 2), selectionStart = _useState17[0], setSelectionStart = _useState17[1];\n    var _useState18 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), selectedElements = _useState18[0], setSelectedElements = _useState18[1];\n    var _useState19 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isDraggingSelection = _useState19[0], setIsDraggingSelection = _useState19[1];\n    var fabricRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Firebase 監聽\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var roomRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/lines\"));\n            var unsubscribe = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(roomRef, {\n                \"Canvas.useEffect.unsubscribe\": function(snapshot) {\n                    var data = snapshot.val();\n                    if (data) {\n                        setLines(Object.values(data));\n                    } else {\n                        setLines([]);\n                    }\n                }\n            }[\"Canvas.useEffect.unsubscribe\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return unsubscribe();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId\n    ]);\n    // 監聽 Firebase 中的圖片數據\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var imagesRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images\"));\n            var unsubscribe = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(imagesRef, {\n                \"Canvas.useEffect.unsubscribe\": function(snapshot) {\n                    var data = snapshot.val();\n                    if (data) {\n                        setImages(Object.values(data));\n                    } else {\n                        setImages([]);\n                    }\n                }\n            }[\"Canvas.useEffect.unsubscribe\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return unsubscribe();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId\n    ]);\n    // 當選中圖片變化時更新 Transformer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            if (selectedImage && transformerRef.current) {\n                var stage = stageRef.current;\n                if (!stage) return;\n                var node = stage.findOne(\"#\".concat(selectedImage));\n                if (node) {\n                    var _transformerRef_current_getLayer;\n                    transformerRef.current.nodes([\n                        node\n                    ]);\n                    (_transformerRef_current_getLayer = transformerRef.current.getLayer()) === null || _transformerRef_current_getLayer === void 0 ? void 0 : _transformerRef_current_getLayer.batchDraw();\n                }\n            }\n        }\n    }[\"Canvas.useEffect\"], [\n        selectedImage,\n        images\n    ]);\n    // 監聽聊天訊息\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var messagesRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/messages\"));\n            var unsubscribe = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(messagesRef, {\n                \"Canvas.useEffect.unsubscribe\": function(snapshot) {\n                    var data = snapshot.val();\n                    if (data) {\n                        var messageList = Object.entries(data).map({\n                            \"Canvas.useEffect.unsubscribe.messageList\": function(param) {\n                                var _param = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_8__._)(param, 2), id = _param[0], msg = _param[1];\n                                return {\n                                    id: id,\n                                    nickname: msg.nickname,\n                                    text: msg.text,\n                                    timestamp: msg.timestamp\n                                };\n                            }\n                        }[\"Canvas.useEffect.unsubscribe.messageList\"]).sort({\n                            \"Canvas.useEffect.unsubscribe.messageList\": function(a, b) {\n                                return (a.timestamp || 0) - (b.timestamp || 0);\n                            }\n                        }[\"Canvas.useEffect.unsubscribe.messageList\"]);\n                        setMessages(messageList);\n                    } else {\n                        setMessages([]);\n                    }\n                }\n            }[\"Canvas.useEffect.unsubscribe\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return unsubscribe();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var usersRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/users\"));\n            var unsubscribe = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(usersRef, {\n                \"Canvas.useEffect.unsubscribe\": function(snapshot) {\n                    var data = snapshot.val();\n                    if (data) {\n                        var userList = Object.keys(data);\n                        setUsers(userList);\n                    }\n                }\n            }[\"Canvas.useEffect.unsubscribe\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return unsubscribe();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            if (roomId && nickname) {\n                var userRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/users/\").concat(nickname));\n                (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(userRef, {\n                    nickname: nickname,\n                    lastActive: (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.serverTimestamp)()\n                });\n                // 當用戶離開時移除\n                return ({\n                    \"Canvas.useEffect\": function() {\n                        (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(userRef, null);\n                    }\n                })[\"Canvas.useEffect\"];\n            }\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId,\n        nickname\n    ]);\n    var getLineProperties = function(toolType) {\n        switch(toolType){\n            case 'pencil':\n                return {\n                    tension: 0.3,\n                    opacity: 0.9,\n                    strokeWidth: strokeWidth * 0.8,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    globalCompositeOperation: 'source-over',\n                    shadowColor: strokeColor,\n                    shadowBlur: 0.5,\n                    shadowOffsetX: 0.2,\n                    shadowOffsetY: 0.2,\n                    bezier: true\n                };\n            case 'pen':\n                return {\n                    tension: 0.6,\n                    opacity: 1,\n                    strokeWidth: strokeWidth,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    shadowColor: strokeColor,\n                    shadowBlur: 0.2,\n                    bezier: true\n                };\n            case 'brush':\n                return {\n                    tension: 0.4,\n                    opacity: 0.7,\n                    strokeWidth: strokeWidth * 2,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    shadowColor: strokeColor,\n                    shadowBlur: 2,\n                    bezier: true\n                };\n            case 'marker':\n                return {\n                    tension: 0.2,\n                    opacity: 0.5,\n                    strokeWidth: strokeWidth * 2.5,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    shadowColor: strokeColor,\n                    shadowBlur: 0,\n                    bezier: false\n                };\n            case 'eraser':\n                return {\n                    tension: 0.3,\n                    opacity: 1,\n                    strokeWidth: strokeWidth * 2,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    shadowBlur: 0,\n                    bezier: true\n                };\n            default:\n                return {\n                    tension: 0.5,\n                    opacity: 1,\n                    strokeWidth: strokeWidth,\n                    lineCap: 'round',\n                    lineJoin: 'round'\n                };\n        }\n    };\n    var handleWheel = function(e) {\n        e.evt.preventDefault();\n        var scaleBy = 1.1;\n        var stage = e.target.getStage();\n        var oldScale = stage.scaleX();\n        var mousePointTo = {\n            x: stage.getPointerPosition().x / oldScale - stage.x() / oldScale,\n            y: stage.getPointerPosition().y / oldScale - stage.y() / oldScale\n        };\n        var newScale = e.evt.deltaY < 0 ? oldScale * scaleBy : oldScale / scaleBy;\n        setScale(newScale);\n        setPosition({\n            x: -(mousePointTo.x - stage.getPointerPosition().x / newScale) * newScale,\n            y: -(mousePointTo.y - stage.getPointerPosition().y / newScale) * newScale\n        });\n    };\n    var handleMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleMouseDown]\": function(e) {\n            var stage = e.target.getStage();\n            var pos = stage.getRelativePointerPosition();\n            var isRightClick = e.evt.button === 2;\n            var isMiddleClick = e.evt.button === 1;\n            // 檢查是否點擊在圖片上\n            var clickedOnImage = e.target.className === 'Image';\n            // 修改判斷條件\n            if (isRightClick || isMiddleClick || e.evt.ctrlKey || e.evt.metaKey || dragMode) {\n                setIsDragging(true);\n                return;\n            }\n            // 如果是在選擇模點擊圖片，不開始繪製\n            if (tool === 'select' && clickedOnImage) {\n                return;\n            }\n            setIsDrawing(true);\n            var lineProps = getLineProperties(tool);\n            var newLine = (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_9__._)({\n                tool: tool,\n                points: [\n                    pos.x,\n                    pos.y\n                ],\n                strokeColor: tool === 'eraser' ? '#ffffff' : strokeColor\n            }, lineProps);\n            setCurrentLine(newLine);\n            var roomRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/lines\"));\n            var newLineRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.push)(roomRef);\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(newLineRef, newLine);\n        }\n    }[\"Canvas.useCallback[handleMouseDown]\"], [\n        tool,\n        strokeColor,\n        dragMode,\n        roomId\n    ]);\n    var handleMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleMouseMove]\": function(e) {\n            if (isDragging) {\n                var stage = e.target.getStage();\n                setPosition({\n                    x: stage.x() + e.evt.movementX,\n                    y: stage.y() + e.evt.movementY\n                });\n                return;\n            }\n            if (!isDrawing || !currentLine) return;\n            var stage1 = e.target.getStage();\n            var pos = stage1.getRelativePointerPosition();\n            var newLine = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_9__._)({}, currentLine), {\n                points: (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_11__._)(currentLine.points).concat([\n                    pos.x,\n                    pos.y\n                ])\n            });\n            setCurrentLine(newLine);\n            debouncedUpdate(\"rooms/\".concat(roomId, \"/lines/\").concat(lines.length), newLine);\n        }\n    }[\"Canvas.useCallback[handleMouseMove]\"], [\n        isDragging,\n        isDrawing,\n        currentLine,\n        roomId,\n        lines.length\n    ]);\n    var handleMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleMouseUp]\": function() {\n            setIsDrawing(false);\n            setIsDragging(false);\n            setCurrentLine(null);\n            if (tool === 'select' && selectionStart) {\n                var stage = stageRef.current;\n                var pos = stage.getRelativePointerPosition();\n                // 獲取選擇區域內的元素\n                var selected = lines.filter({\n                    \"Canvas.useCallback[handleMouseUp].selected\": function(line) {\n                        return line.points.some({\n                            \"Canvas.useCallback[handleMouseUp].selected\": function(point, i) {\n                                if (i % 2 === 0) {\n                                    var x = point;\n                                    var y = line.points[i + 1];\n                                    return x >= Math.min(selectionStart.x, pos.x) && x <= Math.max(selectionStart.x, pos.x) && y >= Math.min(selectionStart.y, pos.y) && y <= Math.max(selectionStart.y, pos.y);\n                                }\n                                return false;\n                            }\n                        }[\"Canvas.useCallback[handleMouseUp].selected\"]);\n                    }\n                }[\"Canvas.useCallback[handleMouseUp].selected\"]);\n                setSelectedElements(selected);\n                setIsDraggingSelection(true);\n            }\n            setSelectionStart(null);\n        }\n    }[\"Canvas.useCallback[handleMouseUp]\"], [\n        tool,\n        selectionStart,\n        lines\n    ]);\n    var zoomIn = function() {\n        setScale(scale * 1.2);\n    };\n    var zoomOut = function() {\n        setScale(scale / 1.2);\n    };\n    var resetZoom = function() {\n        setScale(1);\n        setPosition({\n            x: 0,\n            y: 0\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var handleResize = {\n                \"Canvas.useEffect.handleResize\": function() {\n                    setStageSize({\n                        width: window.innerWidth * 2,\n                        height: window.innerHeight * 2\n                    });\n                }\n            }[\"Canvas.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return window.removeEventListener('resize', handleResize);\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var handleContextMenu = {\n                \"Canvas.useEffect.handleContextMenu\": function(e) {\n                    e.preventDefault();\n                }\n            }[\"Canvas.useEffect.handleContextMenu\"];\n            window.addEventListener('contextmenu', handleContextMenu);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return window.removeEventListener('contextmenu', handleContextMenu);\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 清除畫布功\n    var handleClearCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleClearCanvas]\": function() {\n            var roomRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/lines\"));\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(roomRef, null);\n        }\n    }[\"Canvas.useCallback[handleClearCanvas]\"], [\n        roomId\n    ]);\n    // 添加清除全部功能\n    var handleClearAll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleClearAll]\": function() {\n            var roomRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId));\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(roomRef, null); // 清除該房間的所有數據\n            setSelectedImage(null); // 重置選中圖片\n        }\n    }[\"Canvas.useCallback[handleClearAll]\"], [\n        roomId\n    ]);\n    var handleDragOver = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    var handleDrop = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var file = e.dataTransfer.files[0];\n        if (file && file.type.startsWith('image/')) {\n            var reader = new FileReader();\n            reader.onload = function(event) {\n                var _event_target;\n                var imgData = (_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result;\n                var imageId = Date.now().toString();\n                var img = new window.Image();\n                img.src = imgData;\n                img.onload = function() {\n                    var newImage = {\n                        id: imageId,\n                        x: e.nativeEvent.offsetX || 100,\n                        y: e.nativeEvent.offsetY || 100,\n                        width: img.width,\n                        height: img.height,\n                        src: imgData\n                    };\n                    // 更新狀態以觸發重新渲染\n                    setImages(function(prevImages) {\n                        return (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_11__._)(prevImages).concat([\n                            newImage\n                        ]);\n                    });\n                    // 同步到 Firebase\n                    var dbImageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(imageId));\n                    (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(dbImageRef, newImage);\n                };\n            };\n            reader.readAsDataURL(file);\n        }\n    };\n    var handleImageTransform = function(imageId, newProps) {\n        var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(imageId));\n        var updatedImage = images.find(function(img) {\n            return img.id === imageId;\n        });\n        if (updatedImage) {\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_9__._)({}, updatedImage, newProps));\n        }\n    };\n    // 添加 stage 引用\n    var stageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // 點擊空白處取消選中\n    var checkDeselect = function(e) {\n        var clickedOnEmpty = e.target === e.target.getStage();\n        if (clickedOnEmpty) {\n            setSelectedImage(null);\n        }\n    };\n    // 防止中鍵點擊的預設行為（通常是自動滾動）\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var preventDefault = {\n                \"Canvas.useEffect.preventDefault\": function(e) {\n                    return e.preventDefault();\n                }\n            }[\"Canvas.useEffect.preventDefault\"];\n            document.addEventListener('mousedown', {\n                \"Canvas.useEffect\": function(e) {\n                    if (e.button === 1) preventDefault(e);\n                }\n            }[\"Canvas.useEffect\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    document.removeEventListener('mousedown', preventDefault);\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 使用防抖優化 Firebase 更新\n    var debouncedUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default()({\n        \"Canvas.useCallback[debouncedUpdate]\": function(path, data) {\n            var dbRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, path);\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(dbRef, data);\n        }\n    }[\"Canvas.useCallback[debouncedUpdate]\"], 30), []);\n    // 優化圖片渲染\n    var imageCache = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Canvas.useMemo[imageCache]\": function() {\n            var cache = {};\n            images.forEach({\n                \"Canvas.useMemo[imageCache]\": function(image) {\n                    if (!cache[image.src]) {\n                        var img = new window.Image();\n                        img.src = image.src;\n                        cache[image.src] = img;\n                    }\n                }\n            }[\"Canvas.useMemo[imageCache]\"]);\n            return cache;\n        }\n    }[\"Canvas.useMemo[imageCache]\"], [\n        images\n    ]);\n    // 使用 memo 優化渲染\n    var renderLines = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Canvas.useMemo[renderLines]\": function() {\n            return lines.map({\n                \"Canvas.useMemo[renderLines]\": function(line, i) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                        points: line.points,\n                        stroke: line.strokeColor,\n                        strokeWidth: line.strokeWidth / scale,\n                        tension: line.tension,\n                        opacity: line.opacity,\n                        dash: line.dash,\n                        lineCap: \"round\",\n                        lineJoin: \"round\",\n                        globalCompositeOperation: line.tool === 'eraser' ? 'destination-out' : 'source-over'\n                    }, i, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 496,\n                        columnNumber: 7\n                    }, _this);\n                }\n            }[\"Canvas.useMemo[renderLines]\"]);\n        }\n    }[\"Canvas.useMemo[renderLines]\"], [\n        lines,\n        scale\n    ]);\n    var renderImages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Canvas.useMemo[renderImages]\": function() {\n            return images.map({\n                \"Canvas.useMemo[renderImages]\": function(image, i) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Image, {\n                                id: image.id,\n                                image: imageCache[image.src],\n                                x: image.x,\n                                y: image.y,\n                                width: image.width,\n                                height: image.height,\n                                draggable: true,\n                                onClick: {\n                                    \"Canvas.useMemo[renderImages]\": function() {\n                                        return setSelectedImage(image.id);\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"],\n                                onDragStart: {\n                                    \"Canvas.useMemo[renderImages]\": function(e) {\n                                        e.evt.stopPropagation();\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"],\n                                onDragMove: {\n                                    \"Canvas.useMemo[renderImages]\": function(e) {\n                                        e.evt.stopPropagation();\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"],\n                                onDragEnd: {\n                                    \"Canvas.useMemo[renderImages]\": function(e) {\n                                        e.evt.stopPropagation();\n                                        var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(image.id));\n                                        (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_9__._)({}, image), {\n                                            x: e.target.x(),\n                                            y: e.target.y()\n                                        }));\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"]\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 516,\n                                columnNumber: 9\n                            }, _this),\n                            (selectedImage === image.id || dragMode) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n                                x: image.x + image.width - 20,\n                                y: image.y - 20,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Circle, {\n                                        radius: 10,\n                                        fill: \"red\",\n                                        onClick: {\n                                            \"Canvas.useMemo[renderImages]\": function() {\n                                                // 刪除圖片\n                                                var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(image.id));\n                                                (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, null);\n                                                setSelectedImage(null);\n                                            }\n                                        }[\"Canvas.useMemo[renderImages]\"]\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 543,\n                                        columnNumber: 13\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                                        points: [\n                                            -5,\n                                            -5,\n                                            5,\n                                            5\n                                        ],\n                                        stroke: \"white\",\n                                        strokeWidth: 2\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 553,\n                                        columnNumber: 13\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                                        points: [\n                                            5,\n                                            -5,\n                                            -5,\n                                            5\n                                        ],\n                                        stroke: \"white\",\n                                        strokeWidth: 2\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 558,\n                                        columnNumber: 13\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 542,\n                                columnNumber: 11\n                            }, _this),\n                            selectedImage === image.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Transformer, {\n                                ref: transformerRef,\n                                boundBoxFunc: {\n                                    \"Canvas.useMemo[renderImages]\": function(oldBox, newBox) {\n                                        var minWidth = 5;\n                                        var minHeight = 5;\n                                        if (newBox.width < minWidth || newBox.height < minHeight) {\n                                            return oldBox;\n                                        }\n                                        return newBox;\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"],\n                                enabledAnchors: [\n                                    'top-left',\n                                    'top-right',\n                                    'bottom-left',\n                                    'bottom-right',\n                                    'middle-left',\n                                    'middle-right',\n                                    'top-center',\n                                    'bottom-center'\n                                ],\n                                rotateEnabled: false,\n                                keepRatio: false,\n                                padding: 5,\n                                anchorSize: 10,\n                                anchorCornerRadius: 5,\n                                borderEnabled: true,\n                                borderStroke: \"#00ff00\",\n                                borderStrokeWidth: 2,\n                                anchorStroke: \"#00ff00\",\n                                anchorFill: \"#ffffff\",\n                                onTransformEnd: {\n                                    \"Canvas.useMemo[renderImages]\": function(e) {\n                                        var node = e.target;\n                                        var scaleX = node.scaleX();\n                                        var scaleY = node.scaleY();\n                                        // 重置縮放\n                                        node.scaleX(1);\n                                        node.scaleY(1);\n                                        var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(image.id));\n                                        (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_9__._)({}, image), {\n                                            x: node.x(),\n                                            y: node.y(),\n                                            width: Math.max(5, node.width() * scaleX),\n                                            height: Math.max(5, node.height() * scaleY)\n                                        }));\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"]\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 566,\n                                columnNumber: 11\n                            }, _this)\n                        ]\n                    }, i, true, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 515,\n                        columnNumber: 7\n                    }, _this);\n                }\n            }[\"Canvas.useMemo[renderImages]\"]);\n        }\n    }[\"Canvas.useMemo[renderImages]\"], [\n        images,\n        imageCache,\n        selectedImage,\n        roomId\n    ]);\n    var handleSendMessage = /*#__PURE__*/ function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function(e) {\n            var messagesRef, newMessageRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        e.preventDefault();\n                        console.log('Attempting to send message:', {\n                            roomId: roomId,\n                            nickname: nickname,\n                            message: newMessage,\n                            timestamp: new Date()\n                        });\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        if (!(newMessage.trim() && nickname && roomId)) return [\n                            3,\n                            3\n                        ];\n                        console.log('Creating message ref for room:', roomId);\n                        messagesRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/messages\"));\n                        newMessageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.push)(messagesRef);\n                        console.log('Setting message data');\n                        return [\n                            4,\n                            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(newMessageRef, {\n                                nickname: nickname,\n                                text: newMessage.trim(),\n                                timestamp: (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.serverTimestamp)()\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log('Message sent successfully');\n                        setNewMessage('');\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        console.log('Missing required fields:', {\n                            hasMessage: Boolean(newMessage.trim()),\n                            hasNickname: Boolean(nickname),\n                            hasRoomId: Boolean(roomId)\n                        });\n                        _state.label = 4;\n                    case 4:\n                        return [\n                            3,\n                            6\n                        ];\n                    case 5:\n                        error = _state.sent();\n                        console.error('Error details:', {\n                            error: error,\n                            errorMessage: error instanceof Error ? error.message : 'Unknown error',\n                            errorStack: error instanceof Error ? error.stack : undefined\n                        });\n                        return [\n                            3,\n                            6\n                        ];\n                    case 6:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function handleSendMessage(e) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    var handleResizeStart = function(e) {\n        e.preventDefault();\n        var handleMouseMove = function(moveEvent) {\n            var chatContainer = document.getElementById('chat-container');\n            if (!chatContainer) return;\n            var containerRect = chatContainer.getBoundingClientRect();\n            var maxHeight = window.innerHeight / 2; // 最大高度為螢幕高度的一半\n            var minHeight = 80; // 最小高度 (2列)\n            var newHeight = Math.max(minHeight, Math.min(maxHeight, containerRect.bottom - moveEvent.clientY));\n            setChatHeight(newHeight + 80); // 加上頭部和輸入框的高度\n        };\n        var handleMouseUp = function() {\n            document.removeEventListener('mousemove', handleMouseMove);\n            document.removeEventListener('mouseup', handleMouseUp);\n        };\n        document.addEventListener('mousemove', handleMouseMove);\n        document.addEventListener('mouseup', handleMouseUp);\n    };\n    var handleRoomInfoResize = function(e) {\n        e.preventDefault();\n        var handleMouseMove = function(moveEvent) {\n            var container = document.getElementById('room-info-container');\n            if (!container) return;\n            var containerRect = container.getBoundingClientRect();\n            var newHeight = Math.max(100, Math.min(400, moveEvent.clientY - containerRect.top));\n            setRoomInfoHeight(newHeight);\n        };\n        var handleMouseUp = function() {\n            document.removeEventListener('mousemove', handleMouseMove);\n            document.removeEventListener('mouseup', handleMouseUp);\n        };\n        document.addEventListener('mousemove', handleMouseMove);\n        document.addEventListener('mouseup', handleMouseUp);\n    };\n    var handleImageUpload = function(e) {\n        var _e_target_files;\n        var file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (file) {\n            var reader = new FileReader();\n            reader.onload = function(event) {\n                var _event_target;\n                var imgData = (_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result;\n                // @ts-ignore\n                fabric__WEBPACK_IMPORTED_MODULE_14__.Image.fromURL(imgData, {\n                    crossOrigin: 'anonymous'\n                }, function(img) {\n                    var _fabricRef_current;\n                    var imageId = Date.now().toString();\n                    var pointer = {\n                        x: e.nativeEvent.offsetX || 100,\n                        y: e.nativeEvent.offsetY || 100\n                    };\n                    img.set({\n                        left: pointer.x,\n                        top: pointer.y,\n                        cornerColor: 'blue',\n                        cornerStrokeColor: 'blue',\n                        cornerSize: 12,\n                        transparentCorners: false,\n                        borderColor: 'blue',\n                        borderScaleFactor: 2,\n                        padding: 5,\n                        data: {\n                            id: imageId,\n                            src: imgData\n                        }\n                    });\n                    (_fabricRef_current = fabricRef.current) === null || _fabricRef_current === void 0 ? void 0 : _fabricRef_current.add(img);\n                    // 同步到 Firebase\n                    var dbImageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(imageId));\n                    (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(dbImageRef, {\n                        id: imageId,\n                        x: img.left,\n                        y: img.top,\n                        width: img.width,\n                        height: img.height,\n                        src: imgData\n                    });\n                });\n            };\n            reader.readAsDataURL(file);\n        }\n    };\n    // 初始化 Fabric.js canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            if (stageRef.current) {\n                var canvasElement = stageRef.current.canvas;\n                fabricRef.current = new fabric__WEBPACK_IMPORTED_MODULE_14__.Canvas(canvasElement, {\n                    width: window.innerWidth,\n                    height: window.innerHeight\n                });\n                // 設置 Fabric.js 的事件處理\n                fabricRef.current.on('object:modified', {\n                    \"Canvas.useEffect\": function(e) {\n                        var obj = e.target;\n                        if (obj && obj.type === 'image') {\n                            var _obj_get;\n                            var imageId = (_obj_get = obj.get('data')) === null || _obj_get === void 0 ? void 0 : _obj_get.id;\n                            if (imageId) {\n                                var _obj_get1;\n                                var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(imageId));\n                                (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, {\n                                    id: imageId,\n                                    x: obj.left,\n                                    y: obj.top,\n                                    width: obj.width * obj.scaleX,\n                                    height: obj.height * obj.scaleY,\n                                    src: (_obj_get1 = obj.get('data')) === null || _obj_get1 === void 0 ? void 0 : _obj_get1.src\n                                });\n                            }\n                        }\n                    }\n                }[\"Canvas.useEffect\"]);\n            }\n            return ({\n                \"Canvas.useEffect\": function() {\n                    var _fabricRef_current;\n                    (_fabricRef_current = fabricRef.current) === null || _fabricRef_current === void 0 ? void 0 : _fabricRef_current.dispose();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 在工具切換時處理 Fabric.js 的交互模式\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            if (fabricRef.current) {\n                if (tool === 'select') {\n                    fabricRef.current.selection = true;\n                    fabricRef.current.forEachObject({\n                        \"Canvas.useEffect\": function(obj) {\n                            obj.selectable = true;\n                        }\n                    }[\"Canvas.useEffect\"]);\n                } else {\n                    fabricRef.current.selection = false;\n                    fabricRef.current.forEachObject({\n                        \"Canvas.useEffect\": function(obj) {\n                            obj.selectable = false;\n                        }\n                    }[\"Canvas.useEffect\"]);\n                }\n                fabricRef.current.renderAll();\n            }\n        }\n    }[\"Canvas.useEffect\"], [\n        tool\n    ]);\n    // 在組件頂部添加 props 檢查\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            console.log('Canvas component props:', {\n                roomId: roomId,\n                nickname: nickname\n            });\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId,\n        nickname\n    ]);\n    // 檢查 Firebase ���接\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            console.log('Firebase database instance:', _config_firebase__WEBPACK_IMPORTED_MODULE_4__.database);\n            // 測試 Firebase 連接\n            var testRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, '.info/connected');\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(testRef, {\n                \"Canvas.useEffect\": function(snapshot) {\n                    console.log('Firebase connection status:', snapshot.val());\n                }\n            }[\"Canvas.useEffect\"]);\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 修改生成更淺色的函數\n    var generatePastelColor = function(seed) {\n        var hash = 0;\n        for(var i = 0; i < seed.length; i++){\n            hash = seed.charCodeAt(i) + ((hash << 5) - hash);\n        }\n        // 調整為更淺的顏色\n        var hue = hash % 360;\n        var saturation = 50 + hash % 20; // 降低飽和度到 50-70%\n        var lightness = 80 + hash % 10; // 提高亮度到 80-90%\n        return \"hsl(\".concat(hue, \", \").concat(saturation, \"%, \").concat(lightness, \"%)\");\n    };\n    var handleStickerSelect = /*#__PURE__*/ function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function(stickerUrl) {\n            var messagesRef, newMessageRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        if (!(nickname && roomId)) return [\n                            3,\n                            2\n                        ];\n                        messagesRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/messages\"));\n                        newMessageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.push)(messagesRef);\n                        return [\n                            4,\n                            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(newMessageRef, {\n                                nickname: nickname,\n                                type: 'sticker',\n                                content: stickerUrl,\n                                timestamp: (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.serverTimestamp)()\n                            })\n                        ];\n                    case 1:\n                        _state.sent();\n                        _state.label = 2;\n                    case 2:\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error('Error sending sticker:', error);\n                        return [\n                            3,\n                            4\n                        ];\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function handleStickerSelect(stickerUrl) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-screen\",\n        onDragOver: function(e) {\n            return e.preventDefault();\n        },\n        onDrop: handleDrop,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Stage, {\n                ref: stageRef,\n                width: window.innerWidth,\n                height: window.innerHeight,\n                onMouseDown: handleMouseDown,\n                onMousemove: handleMouseMove,\n                onMouseup: handleMouseUp,\n                onMouseleave: handleMouseUp,\n                onWheel: handleWheel,\n                scaleX: scale,\n                scaleY: scale,\n                x: position.x,\n                y: position.y,\n                style: {\n                    background: '#ffffff'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                    children: [\n                        renderImages,\n                        renderLines,\n                        currentLine && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                            points: currentLine.points,\n                            stroke: currentLine.strokeColor,\n                            strokeWidth: currentLine.strokeWidth / scale,\n                            tension: currentLine.tension,\n                            opacity: currentLine.opacity,\n                            dash: currentLine.dash,\n                            lineCap: \"round\",\n                            lineJoin: \"round\",\n                            globalCompositeOperation: currentLine.tool === 'eraser' ? 'destination-out' : 'source-over'\n                        }, void 0, false, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 878,\n                            columnNumber: 13\n                        }, _this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                    lineNumber: 874,\n                    columnNumber: 9\n                }, _this)\n            }, void 0, false, {\n                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                lineNumber: 859,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-4 right-4 flex gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"p-2 bg-white rounded-lg shadow-lg hover:bg-gray-100\",\n                        onClick: zoomIn,\n                        title: \"放大\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BiImageAdd_BiZoomIn_BiZoomOut_react_icons_bi__WEBPACK_IMPORTED_MODULE_15__.BiZoomIn, {\n                            size: 24\n                        }, void 0, false, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 902,\n                            columnNumber: 11\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 897,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"p-2 bg-white rounded-lg shadow-lg hover:bg-gray-100\",\n                        onClick: zoomOut,\n                        title: \"縮小\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BiImageAdd_BiZoomIn_BiZoomOut_react_icons_bi__WEBPACK_IMPORTED_MODULE_15__.BiZoomOut, {\n                            size: 24\n                        }, void 0, false, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 909,\n                            columnNumber: 11\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 904,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"p-2 bg-white rounded-lg shadow-lg hover:bg-gray-100\",\n                        onClick: resetZoom,\n                        title: \"重置縮放\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MdOutlineZoomOutMap_MdPanTool_react_icons_md__WEBPACK_IMPORTED_MODULE_16__.MdOutlineZoomOutMap, {\n                            size: 24\n                        }, void 0, false, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 916,\n                            columnNumber: 11\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 911,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"p-2 rounded-lg shadow-lg \".concat(dragMode ? 'bg-blue-500 text-white' : 'bg-white hover:bg-gray-100'),\n                        onClick: function() {\n                            return setDragMode(!dragMode);\n                        },\n                        title: \"拖曳模式\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MdOutlineZoomOutMap_MdPanTool_react_icons_md__WEBPACK_IMPORTED_MODULE_16__.MdPanTool, {\n                            size: 24\n                        }, void 0, false, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 925,\n                            columnNumber: 11\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 918,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        htmlFor: \"imageUpload\",\n                        className: \"p-2 bg-white rounded-lg shadow-lg hover:bg-gray-100 cursor-pointer\",\n                        title: \"上傳圖片\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BiImageAdd_BiZoomIn_BiZoomOut_react_icons_bi__WEBPACK_IMPORTED_MODULE_15__.BiImageAdd, {\n                            size: 24\n                        }, void 0, false, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 932,\n                            columnNumber: 11\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 927,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\",\n                        onClick: handleClearCanvas,\n                        children: \"清除畫布\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 934,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800\",\n                        onClick: handleClearAll,\n                        children: \"清除全部\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 940,\n                        columnNumber: 9\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                lineNumber: 896,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"chat-container\",\n                className: \"fixed bottom-4 left-4 w-144 bg-black bg-opacity-50 rounded-lg shadow-lg z-40\",\n                children: [\n                    !isMinimized && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full h-1 cursor-ns-resize hover:bg-gray-500 absolute -top-1\",\n                        onMouseDown: handleResizeStart,\n                        style: {\n                            backgroundColor: 'transparent'\n                        }\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 955,\n                        columnNumber: 11\n                    }, _this),\n                    !isMinimized && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center p-2 border-b border-white border-opacity-20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-white text-sm font-medium\",\n                                        children: \"聊天室\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 965,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function() {\n                                            return setIsMinimized(true);\n                                        },\n                                        className: \"text-white hover:text-gray-300\",\n                                        children: \"-\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 966,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 964,\n                                columnNumber: 13\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"overflow-y-auto\",\n                                style: {\n                                    height: \"\".concat(chatHeight - 80, \"px\"),\n                                    scrollBehavior: 'smooth'\n                                },\n                                ref: function(el) {\n                                    if (el) {\n                                        el.scrollTop = el.scrollHeight;\n                                    }\n                                },\n                                children: messages.map(function(msg) {\n                                    var userColor = generatePastelColor(msg.nickname);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"px-3 py-2 hover:bg-black hover:bg-opacity-40\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm break-words\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: userColor\n                                                    },\n                                                    children: [\n                                                        msg.nickname,\n                                                        \":\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                    lineNumber: 994,\n                                                    columnNumber: 23\n                                                }, _this),\n                                                msg.type === 'sticker' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-2 text-2xl\",\n                                                    children: msg.content\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                    lineNumber: 998,\n                                                    columnNumber: 25\n                                                }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: userColor\n                                                    },\n                                                    children: [\n                                                        \" \",\n                                                        msg.text\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                    lineNumber: 1000,\n                                                    columnNumber: 25\n                                                }, _this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 993,\n                                            columnNumber: 21\n                                        }, _this)\n                                    }, msg.id, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 989,\n                                        columnNumber: 19\n                                    }, _this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 974,\n                                columnNumber: 13\n                            }, _this)\n                        ]\n                    }, void 0, true),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 p-2 border-t border-gray-700\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StickerPicker__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                onStickerSelect: handleStickerSelect\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1012,\n                                columnNumber: 11\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: newMessage,\n                                onChange: function(e) {\n                                    return setNewMessage(e.target.value);\n                                },\n                                placeholder: \"輸入訊息...\",\n                                className: \"flex-1 px-3 py-1 bg-black bg-opacity-50 text-white border border-white border-opacity-20 rounded focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1013,\n                                columnNumber: 11\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSendMessage,\n                                className: \"px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600\",\n                                children: \"發送\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1020,\n                                columnNumber: 11\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 1011,\n                        columnNumber: 9\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                lineNumber: 949,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"room-info-container\",\n                className: \"absolute top-4 right-4 w-64 bg-black bg-opacity-50 rounded-lg shadow-lg z-40\",\n                style: {\n                    height: isRoomInfoMinimized ? '40px' : \"\".concat(roomInfoHeight, \"px\"),\n                    transition: 'height 0.2s'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center p-2 border-b border-white border-opacity-20\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-white text-sm font-medium\",\n                                children: [\n                                    \"房間\",\n                                    roomId\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1039,\n                                columnNumber: 11\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function() {\n                                    return setIsRoomInfoMinimized(!isRoomInfoMinimized);\n                                },\n                                className: \"text-white hover:text-gray-300\",\n                                children: isRoomInfoMinimized ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineDown_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_17__.AiOutlineDown, {}, void 0, false, {\n                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                    lineNumber: 1044,\n                                    columnNumber: 36\n                                }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineDown_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_17__.AiOutlineUp, {}, void 0, false, {\n                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                    lineNumber: 1044,\n                                    columnNumber: 56\n                                }, _this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1040,\n                                columnNumber: 11\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 1038,\n                        columnNumber: 9\n                    }, _this),\n                    !isRoomInfoMinimized && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"overflow-y-auto px-2\",\n                                style: {\n                                    height: \"\".concat(roomInfoHeight - 70, \"px\")\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"py-2 border-b border-white border-opacity-20\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white text-sm\",\n                                            children: [\n                                                \"在線人數：\",\n                                                users.length\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 1055,\n                                            columnNumber: 17\n                                        }, _this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1054,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"py-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-white text-sm mb-1\",\n                                                children: \"在線成員：\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 1058,\n                                                columnNumber: 17\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                className: \"space-y-1\",\n                                                children: users.map(function(user, index) {\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                        className: \"text-white text-sm pl-2\",\n                                                        children: user\n                                                    }, index, false, {\n                                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                        lineNumber: 1061,\n                                                        columnNumber: 21\n                                                    }, _this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 1059,\n                                                columnNumber: 17\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1057,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1050,\n                                columnNumber: 13\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute bottom-0 left-0 w-full h-1 cursor-ns-resize hover:bg-gray-500\",\n                                onMouseDown: handleRoomInfoResize,\n                                style: {\n                                    backgroundColor: 'transparent'\n                                }\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1070,\n                                columnNumber: 13\n                            }, _this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                lineNumber: 1030,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleImageUpload,\n                style: {\n                    display: 'none'\n                },\n                id: \"imageUpload\"\n            }, void 0, false, {\n                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                lineNumber: 1079,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n        lineNumber: 854,\n        columnNumber: 5\n    }, _this);\n};\n_s(Canvas, \"Zbaz4DW/K8lWgURPdEspt5iwP0E=\", false, function() {\n    return [\n        _store_useCanvasStore__WEBPACK_IMPORTED_MODULE_3__.useCanvasStore\n    ];\n});\n_c = Canvas;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/_c1 = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(Canvas));\nvar _c, _c1;\n$RefreshReg$(_c, \"Canvas\");\n$RefreshReg$(_c1, \"%default%\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDQ3BLLFdBQVU7Z0NBQ1Y0SyxPQUFPO29DQUFFNVEsUUFBUSxHQUF1QixPQUFwQnVCLGlCQUFpQixJQUFHO2dDQUFJOztrREFFNUMsOERBQUM2Tzt3Q0FBSXBLLFdBQVU7a0RBQ2IsNEVBQUMwTDs0Q0FBSzFMLFdBQVU7O2dEQUFxQjtnREFBTTdFLE1BQU13RixNQUFNOzs7Ozs7Ozs7Ozs7a0RBRXpELDhEQUFDeUo7d0NBQUlwSyxXQUFVOzswREFDYiw4REFBQ3lMO2dEQUFFekwsV0FBVTswREFBMEI7Ozs7OzswREFDdkMsOERBQUNrTTtnREFBR2xNLFdBQVU7MERBQ1g3RSxNQUFNZ0MsR0FBRyxDQUFDLFNBQUNnUCxNQUFNQzt5RUFDaEIsOERBQUNDO3dEQUFlck0sV0FBVTtrRUFDdkJtTTt1REFETUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBDQVNqQiw4REFBQ2hDO2dDQUNDcEssV0FBVTtnQ0FDVnVLLGFBQWF2QztnQ0FDYjRDLE9BQU87b0NBQUVNLGlCQUFpQjtnQ0FBYzs7Ozs7Ozs7Ozs7Ozs7MEJBTWhELDhEQUFDVztnQkFDQ3hKLE1BQUs7Z0JBQ0xpSyxRQUFPO2dCQUNQUCxVQUFVNUQ7Z0JBQ1Z5QyxPQUFPO29CQUFFMkIsU0FBUztnQkFBTztnQkFDekJuUCxJQUFHOzs7Ozs7Ozs7Ozs7QUFJWDtHQXpnQ001RTs7UUFLdURqQixpRUFBY0E7OztLQUxyRWlCO0FBMmdDTixvRkFBZWxCLDJDQUFJQSxDQUFDa0IsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsiRDpcXOeri+eRnFxcUmVhY3RMZWFybmluZ1xcTGl2ZUNoYXRSb29tXFxkcmF3XFx3aGl0ZWJvYXJkLWFwcFxcc3JjXFxjb21wb25lbnRzXFxDYW52YXNcXGluZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgS29udmEgZnJvbSAna29udmEnO1xyXG5pbXBvcnQgeyBTdGFnZSwgTGF5ZXIsIExpbmUsIEltYWdlIGFzIEtvbnZhSW1hZ2UsIFRyYW5zZm9ybWVyLCBHcm91cCwgQ2lyY2xlLCBMaW5lIGFzIEtvbnZhTGluZSB9IGZyb20gJ3JlYWN0LWtvbnZhJztcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlTWVtbywgbWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlQ2FudmFzU3RvcmUgfSBmcm9tICcuLi8uLi9zdG9yZS91c2VDYW52YXNTdG9yZSc7XHJcbmltcG9ydCB7IGRhdGFiYXNlIH0gZnJvbSAnLi4vLi4vY29uZmlnL2ZpcmViYXNlJztcclxuaW1wb3J0IHsgcmVmLCBvblZhbHVlLCBzZXQsIHB1c2gsIHNlcnZlclRpbWVzdGFtcCB9IGZyb20gJ2ZpcmViYXNlL2RhdGFiYXNlJztcclxuaW1wb3J0IHsgQmlab29tSW4sIEJpWm9vbU91dCwgQmlJbWFnZUFkZCB9IGZyb20gJ3JlYWN0LWljb25zL2JpJztcclxuaW1wb3J0IHsgTWRPdXRsaW5lWm9vbU91dE1hcCwgTWRQYW5Ub29sIH0gZnJvbSAncmVhY3QtaWNvbnMvbWQnO1xyXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJztcclxuaW1wb3J0IHsgQWlPdXRsaW5lRG93biwgQWlPdXRsaW5lVXAgfSBmcm9tICdyZWFjdC1pY29ucy9haSc7XHJcbmltcG9ydCB7IEtvbnZhRXZlbnRPYmplY3QgfSBmcm9tICdrb252YS9saWIvTm9kZSc7XHJcbmltcG9ydCB7IENhbnZhcyBhcyBGYWJyaWNDYW52YXMgfSBmcm9tICdmYWJyaWMnO1xyXG5pbXBvcnQgKiBhcyBmYWJyaWMgZnJvbSAnZmFicmljJztcclxuaW1wb3J0IFN0aWNrZXJQaWNrZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9TdGlja2VyUGlja2VyJztcclxuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xyXG5cclxuaW50ZXJmYWNlIENhbnZhc1Byb3BzIHtcclxuICByb29tSWQ6IHN0cmluZztcclxuICBuaWNrbmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTGluZUVsZW1lbnQge1xyXG4gIHRvb2w6IHN0cmluZztcclxuICBwb2ludHM6IG51bWJlcltdO1xyXG4gIHN0cm9rZVdpZHRoOiBudW1iZXI7XHJcbiAgc3Ryb2tlQ29sb3I6IHN0cmluZztcclxuICB0ZW5zaW9uPzogbnVtYmVyO1xyXG4gIG9wYWNpdHk/OiBudW1iZXI7XHJcbiAgZGFzaD86IG51bWJlcltdO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSW1hZ2VFbGVtZW50IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxuICBzcmM6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmlja25hbWU6IHN0cmluZztcclxuICB0eXBlPzogJ3RleHQnIHwgJ3N0aWNrZXInO1xyXG4gIHRleHQ/OiBzdHJpbmc7XHJcbiAgY29udGVudD86IHN0cmluZztcclxuICB0aW1lc3RhbXA/OiBudW1iZXIgfCBudWxsO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUm9vbVVzZXIge1xyXG4gIG5pY2tuYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IENhbnZhczogUmVhY3QuRkM8Q2FudmFzUHJvcHM+ID0gKHsgcm9vbUlkLCBuaWNrbmFtZSB9KSA9PiB7XHJcbiAgY29uc3QgW2xpbmVzLCBzZXRMaW5lc10gPSB1c2VTdGF0ZTxMaW5lRWxlbWVudFtdPihbXSk7XHJcbiAgY29uc3QgW2lzRHJhd2luZywgc2V0SXNEcmF3aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2N1cnJlbnRMaW5lLCBzZXRDdXJyZW50TGluZV0gPSB1c2VTdGF0ZTxMaW5lRWxlbWVudCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHsgdG9vbCwgc3Ryb2tlV2lkdGgsIHN0cm9rZUNvbG9yLCBzZXRTdHJva2VDb2xvciB9ID0gdXNlQ2FudmFzU3RvcmUoKTtcclxuICBjb25zdCBbc2NhbGUsIHNldFNjYWxlXSA9IHVzZVN0YXRlKDEpO1xyXG4gIGNvbnN0IFtwb3NpdGlvbiwgc2V0UG9zaXRpb25dID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xyXG4gIGNvbnN0IFtzdGFnZVNpemUsIHNldFN0YWdlU2l6ZV0gPSB1c2VTdGF0ZSh7IHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCAqIDIsIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0ICogMiB9KTtcclxuICBjb25zdCBbZHJhZ01vZGUsIHNldERyYWdNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaW1hZ2VzLCBzZXRJbWFnZXNdID0gdXNlU3RhdGU8SW1hZ2VFbGVtZW50W10+KFtdKTtcclxuICBjb25zdCBbc2VsZWN0ZWRJbWFnZSwgc2V0U2VsZWN0ZWRJbWFnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCB0cmFuc2Zvcm1lclJlZiA9IHVzZVJlZjxLb252YS5UcmFuc2Zvcm1lcj4obnVsbCk7XHJcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKTtcclxuICBjb25zdCBbbmV3TWVzc2FnZSwgc2V0TmV3TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2lzTWluaW1pemVkLCBzZXRJc01pbmltaXplZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2NoYXRIZWlnaHQsIHNldENoYXRIZWlnaHRdID0gdXNlU3RhdGUoMTYwKTsgLy8g6aCQ6Kit6auY5bqmIDE2MHB4ICg05YiXKVxyXG4gIGNvbnN0IFt1c2Vycywgc2V0VXNlcnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcclxuICBjb25zdCBbaXNSb29tSW5mb01pbmltaXplZCwgc2V0SXNSb29tSW5mb01pbmltaXplZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3Jvb21JbmZvSGVpZ2h0LCBzZXRSb29tSW5mb0hlaWdodF0gPSB1c2VTdGF0ZSgyMDApOyAvLyDpoJDoqK3pq5jluqZcclxuICBjb25zdCBbc2VsZWN0aW9uU3RhcnQsIHNldFNlbGVjdGlvblN0YXJ0XSA9IHVzZVN0YXRlPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtzZWxlY3RlZEVsZW1lbnRzLCBzZXRTZWxlY3RlZEVsZW1lbnRzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XHJcbiAgY29uc3QgW2lzRHJhZ2dpbmdTZWxlY3Rpb24sIHNldElzRHJhZ2dpbmdTZWxlY3Rpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IGZhYnJpY1JlZiA9IHVzZVJlZjxGYWJyaWNDYW52YXMgfCBudWxsPihudWxsKTtcclxuXHJcbiAgLy8gRmlyZWJhc2Ug55uj6IG9XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHJvb21SZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vbGluZXNgKTtcclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25WYWx1ZShyb29tUmVmLCAoc25hcHNob3QpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgIHNldExpbmVzKE9iamVjdC52YWx1ZXMoZGF0YSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldExpbmVzKFtdKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuICB9LCBbcm9vbUlkXSk7XHJcblxyXG4gIC8vIOebo+iBvSBGaXJlYmFzZSDkuK3nmoTlnJbniYfmlbjmk5pcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaW1hZ2VzUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2ltYWdlc2ApO1xyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvblZhbHVlKGltYWdlc1JlZiwgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICBzZXRJbWFnZXMoT2JqZWN0LnZhbHVlcyhkYXRhKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0SW1hZ2VzKFtdKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuICB9LCBbcm9vbUlkXSk7XHJcblxyXG4gIC8vIOeVtumBuOS4reWclueJh+iuiuWMluaZguabtOaWsCBUcmFuc2Zvcm1lclxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoc2VsZWN0ZWRJbWFnZSAmJiB0cmFuc2Zvcm1lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudDtcclxuICAgICAgaWYgKCFzdGFnZSkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgbm9kZSA9IHN0YWdlLmZpbmRPbmUoYCMke3NlbGVjdGVkSW1hZ2V9YCk7XHJcbiAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgdHJhbnNmb3JtZXJSZWYuY3VycmVudC5ub2Rlcyhbbm9kZV0pO1xyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVmLmN1cnJlbnQuZ2V0TGF5ZXIoKT8uYmF0Y2hEcmF3KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbc2VsZWN0ZWRJbWFnZSwgaW1hZ2VzXSk7XHJcblxyXG4gIC8vIOebo+iBveiBiuWkqeioiuaBr1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBtZXNzYWdlc1JlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9tZXNzYWdlc2ApO1xyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvblZhbHVlKG1lc3NhZ2VzUmVmLCAoc25hcHNob3QpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LnZhbCgpO1xyXG4gICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMaXN0OiBNZXNzYWdlW10gPSBPYmplY3QuZW50cmllcyhkYXRhKVxyXG4gICAgICAgICAgLm1hcCgoW2lkLCBtc2ddOiBbc3RyaW5nLCBhbnldKSA9PiAoe1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgbmlja25hbWU6IG1zZy5uaWNrbmFtZSxcclxuICAgICAgICAgICAgdGV4dDogbXNnLnRleHQsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbXNnLnRpbWVzdGFtcFxyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4gKGEudGltZXN0YW1wIHx8IDApIC0gKGIudGltZXN0YW1wIHx8IDApKTtcclxuICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlTGlzdCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0TWVzc2FnZXMoW10pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xyXG4gIH0sIFtyb29tSWRdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHVzZXJzUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L3VzZXJzYCk7XHJcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uVmFsdWUodXNlcnNSZWYsIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckxpc3QgPSBPYmplY3Qua2V5cyhkYXRhKTtcclxuICAgICAgICBzZXRVc2Vycyh1c2VyTGlzdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xyXG4gIH0sIFtyb29tSWRdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChyb29tSWQgJiYgbmlja25hbWUpIHtcclxuICAgICAgY29uc3QgdXNlclJlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS91c2Vycy8ke25pY2tuYW1lfWApO1xyXG4gICAgICBzZXQodXNlclJlZiwge1xyXG4gICAgICAgIG5pY2tuYW1lOiBuaWNrbmFtZSxcclxuICAgICAgICBsYXN0QWN0aXZlOiBzZXJ2ZXJUaW1lc3RhbXAoKVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIOeVtueUqOaItumboumWi+aZguenu+mZpFxyXG4gICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIHNldCh1c2VyUmVmLCBudWxsKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9LCBbcm9vbUlkLCBuaWNrbmFtZV0pO1xyXG5cclxuICBjb25zdCBnZXRMaW5lUHJvcGVydGllcyA9ICh0b29sVHlwZTogc3RyaW5nKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHRvb2xUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ3BlbmNpbCc6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHRlbnNpb246IDAuMyxcclxuICAgICAgICAgIG9wYWNpdHk6IDAuOSxcclxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCAqIDAuOCxcclxuICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICBsaW5lSm9pbjogJ3JvdW5kJyxcclxuICAgICAgICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogJ3NvdXJjZS1vdmVyJyxcclxuICAgICAgICAgIHNoYWRvd0NvbG9yOiBzdHJva2VDb2xvcixcclxuICAgICAgICAgIHNoYWRvd0JsdXI6IDAuNSxcclxuICAgICAgICAgIHNoYWRvd09mZnNldFg6IDAuMixcclxuICAgICAgICAgIHNoYWRvd09mZnNldFk6IDAuMixcclxuICAgICAgICAgIGJlemllcjogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgIGNhc2UgJ3Blbic6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHRlbnNpb246IDAuNixcclxuICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsXHJcbiAgICAgICAgICBsaW5lQ2FwOiAncm91bmQnLFxyXG4gICAgICAgICAgbGluZUpvaW46ICdyb3VuZCcsXHJcbiAgICAgICAgICBzaGFkb3dDb2xvcjogc3Ryb2tlQ29sb3IsXHJcbiAgICAgICAgICBzaGFkb3dCbHVyOiAwLjIsXHJcbiAgICAgICAgICBiZXppZXI6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICBjYXNlICdicnVzaCc6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHRlbnNpb246IDAuNCxcclxuICAgICAgICAgIG9wYWNpdHk6IDAuNyxcclxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCAqIDIsXHJcbiAgICAgICAgICBsaW5lQ2FwOiAncm91bmQnLFxyXG4gICAgICAgICAgbGluZUpvaW46ICdyb3VuZCcsXHJcbiAgICAgICAgICBzaGFkb3dDb2xvcjogc3Ryb2tlQ29sb3IsXHJcbiAgICAgICAgICBzaGFkb3dCbHVyOiAyLFxyXG4gICAgICAgICAgYmV6aWVyOiB0cnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgY2FzZSAnbWFya2VyJzpcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdGVuc2lvbjogMC4yLFxyXG4gICAgICAgICAgb3BhY2l0eTogMC41LFxyXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoICogMi41LFxyXG4gICAgICAgICAgbGluZUNhcDogJ3JvdW5kJyxcclxuICAgICAgICAgIGxpbmVKb2luOiAncm91bmQnLFxyXG4gICAgICAgICAgc2hhZG93Q29sb3I6IHN0cm9rZUNvbG9yLFxyXG4gICAgICAgICAgc2hhZG93Qmx1cjogMCxcclxuICAgICAgICAgIGJlemllcjogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgICBjYXNlICdlcmFzZXInOlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0ZW5zaW9uOiAwLjMsXHJcbiAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoICogMixcclxuICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICBsaW5lSm9pbjogJ3JvdW5kJyxcclxuICAgICAgICAgIHNoYWRvd0JsdXI6IDAsXHJcbiAgICAgICAgICBiZXppZXI6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0ZW5zaW9uOiAwLjUsXHJcbiAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgc3Ryb2tlV2lkdGgsXHJcbiAgICAgICAgICBsaW5lQ2FwOiAncm91bmQnLFxyXG4gICAgICAgICAgbGluZUpvaW46ICdyb3VuZCdcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVdoZWVsID0gKGU6IGFueSkgPT4ge1xyXG4gICAgZS5ldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc2NhbGVCeSA9IDEuMTtcclxuICAgIGNvbnN0IHN0YWdlID0gZS50YXJnZXQuZ2V0U3RhZ2UoKTtcclxuICAgIGNvbnN0IG9sZFNjYWxlID0gc3RhZ2Uuc2NhbGVYKCk7XHJcbiAgICBjb25zdCBtb3VzZVBvaW50VG8gPSB7XHJcbiAgICAgIHg6IHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLnggLyBvbGRTY2FsZSAtIHN0YWdlLngoKSAvIG9sZFNjYWxlLFxyXG4gICAgICB5OiBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS55IC8gb2xkU2NhbGUgLSBzdGFnZS55KCkgLyBvbGRTY2FsZSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbmV3U2NhbGUgPSBlLmV2dC5kZWx0YVkgPCAwID8gb2xkU2NhbGUgKiBzY2FsZUJ5IDogb2xkU2NhbGUgLyBzY2FsZUJ5O1xyXG4gICAgc2V0U2NhbGUobmV3U2NhbGUpO1xyXG5cclxuICAgIHNldFBvc2l0aW9uKHtcclxuICAgICAgeDogLShtb3VzZVBvaW50VG8ueCAtIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLnggLyBuZXdTY2FsZSkgKiBuZXdTY2FsZSxcclxuICAgICAgeTogLShtb3VzZVBvaW50VG8ueSAtIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLnkgLyBuZXdTY2FsZSkgKiBuZXdTY2FsZSxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IHVzZUNhbGxiYWNrKChlOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHN0YWdlID0gZS50YXJnZXQuZ2V0U3RhZ2UoKTtcclxuICAgIGNvbnN0IHBvcyA9IHN0YWdlLmdldFJlbGF0aXZlUG9pbnRlclBvc2l0aW9uKCk7XHJcblxyXG4gICAgY29uc3QgaXNSaWdodENsaWNrID0gZS5ldnQuYnV0dG9uID09PSAyO1xyXG4gICAgY29uc3QgaXNNaWRkbGVDbGljayA9IGUuZXZ0LmJ1dHRvbiA9PT0gMTtcclxuICAgIFxyXG4gICAgLy8g5qqi5p+l5piv5ZCm6bue5pOK5Zyo5ZyW54mH5LiKXHJcbiAgICBjb25zdCBjbGlja2VkT25JbWFnZSA9IGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ0ltYWdlJztcclxuICAgIFxyXG4gICAgLy8g5L+u5pS55Yik5pa35qKd5Lu2XHJcbiAgICBpZiAoaXNSaWdodENsaWNrIHx8IGlzTWlkZGxlQ2xpY2sgfHwgZS5ldnQuY3RybEtleSB8fCBlLmV2dC5tZXRhS2V5IHx8IGRyYWdNb2RlKSB7XHJcbiAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlpoLmnpzmmK/lnKjpgbjmk4fmqKHpu57mk4rlnJbniYfvvIzkuI3plovlp4vnuaroo71cclxuICAgIGlmICh0b29sID09PSAnc2VsZWN0JyAmJiBjbGlja2VkT25JbWFnZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SXNEcmF3aW5nKHRydWUpO1xyXG4gICAgY29uc3QgbGluZVByb3BzID0gZ2V0TGluZVByb3BlcnRpZXModG9vbCk7XHJcblxyXG4gICAgY29uc3QgbmV3TGluZTogTGluZUVsZW1lbnQgPSB7XHJcbiAgICAgIHRvb2wsXHJcbiAgICAgIHBvaW50czogW3Bvcy54LCBwb3MueV0sXHJcbiAgICAgIHN0cm9rZUNvbG9yOiB0b29sID09PSAnZXJhc2VyJyA/ICcjZmZmZmZmJyA6IHN0cm9rZUNvbG9yLFxyXG4gICAgICAuLi5saW5lUHJvcHNcclxuICAgIH07XHJcblxyXG4gICAgc2V0Q3VycmVudExpbmUobmV3TGluZSk7XHJcbiAgICBjb25zdCByb29tUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2xpbmVzYCk7XHJcbiAgICBjb25zdCBuZXdMaW5lUmVmID0gcHVzaChyb29tUmVmKTtcclxuICAgIHNldChuZXdMaW5lUmVmLCBuZXdMaW5lKTtcclxuICB9LCBbdG9vbCwgc3Ryb2tlQ29sb3IsIGRyYWdNb2RlLCByb29tSWRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gdXNlQ2FsbGJhY2soKGU6IGFueSkgPT4ge1xyXG4gICAgaWYgKGlzRHJhZ2dpbmcpIHtcclxuICAgICAgY29uc3Qgc3RhZ2UgPSBlLnRhcmdldC5nZXRTdGFnZSgpO1xyXG4gICAgICBzZXRQb3NpdGlvbih7XHJcbiAgICAgICAgeDogc3RhZ2UueCgpICsgZS5ldnQubW92ZW1lbnRYLFxyXG4gICAgICAgIHk6IHN0YWdlLnkoKSArIGUuZXZ0Lm1vdmVtZW50WSxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzRHJhd2luZyB8fCAhY3VycmVudExpbmUpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBzdGFnZSA9IGUudGFyZ2V0LmdldFN0YWdlKCk7XHJcbiAgICBjb25zdCBwb3MgPSBzdGFnZS5nZXRSZWxhdGl2ZVBvaW50ZXJQb3NpdGlvbigpO1xyXG4gICAgXHJcbiAgICBjb25zdCBuZXdMaW5lID0ge1xyXG4gICAgICAuLi5jdXJyZW50TGluZSxcclxuICAgICAgcG9pbnRzOiBbLi4uY3VycmVudExpbmUucG9pbnRzLCBwb3MueCwgcG9zLnldXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBzZXRDdXJyZW50TGluZShuZXdMaW5lKTtcclxuICAgIGRlYm91bmNlZFVwZGF0ZShgcm9vbXMvJHtyb29tSWR9L2xpbmVzLyR7bGluZXMubGVuZ3RofWAsIG5ld0xpbmUpO1xyXG4gIH0sIFtpc0RyYWdnaW5nLCBpc0RyYXdpbmcsIGN1cnJlbnRMaW5lLCByb29tSWQsIGxpbmVzLmxlbmd0aF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVNb3VzZVVwID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0SXNEcmF3aW5nKGZhbHNlKTtcclxuICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xyXG4gICAgc2V0Q3VycmVudExpbmUobnVsbCk7XHJcblxyXG4gICAgaWYgKHRvb2wgPT09ICdzZWxlY3QnICYmIHNlbGVjdGlvblN0YXJ0KSB7XHJcbiAgICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudDtcclxuICAgICAgY29uc3QgcG9zID0gc3RhZ2UuZ2V0UmVsYXRpdmVQb2ludGVyUG9zaXRpb24oKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOeNsuWPlumBuOaTh+WNgOWfn+WFp+eahOWFg+e0oFxyXG4gICAgICBjb25zdCBzZWxlY3RlZCA9IGxpbmVzLmZpbHRlcihsaW5lID0+IHtcclxuICAgICAgICByZXR1cm4gbGluZS5wb2ludHMuc29tZSgocG9pbnQ6IG51bWJlciwgaTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBpZiAoaSAlIDIgPT09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IHBvaW50O1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gbGluZS5wb2ludHNbaSArIDFdO1xyXG4gICAgICAgICAgICByZXR1cm4geCA+PSBNYXRoLm1pbihzZWxlY3Rpb25TdGFydC54LCBwb3MueCkgJiZcclxuICAgICAgICAgICAgICAgICAgIHggPD0gTWF0aC5tYXgoc2VsZWN0aW9uU3RhcnQueCwgcG9zLngpICYmXHJcbiAgICAgICAgICAgICAgICAgICB5ID49IE1hdGgubWluKHNlbGVjdGlvblN0YXJ0LnksIHBvcy55KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgeSA8PSBNYXRoLm1heChzZWxlY3Rpb25TdGFydC55LCBwb3MueSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgc2V0U2VsZWN0ZWRFbGVtZW50cyhzZWxlY3RlZCk7XHJcbiAgICAgIHNldElzRHJhZ2dpbmdTZWxlY3Rpb24odHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2VsZWN0aW9uU3RhcnQobnVsbCk7XHJcbiAgfSwgW3Rvb2wsIHNlbGVjdGlvblN0YXJ0LCBsaW5lc10pO1xyXG5cclxuICBjb25zdCB6b29tSW4gPSAoKSA9PiB7XHJcbiAgICBzZXRTY2FsZShzY2FsZSAqIDEuMik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgem9vbU91dCA9ICgpID0+IHtcclxuICAgIHNldFNjYWxlKHNjYWxlIC8gMS4yKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZXNldFpvb20gPSAoKSA9PiB7XHJcbiAgICBzZXRTY2FsZSgxKTtcclxuICAgIHNldFBvc2l0aW9uKHsgeDogMCwgeTogMCB9KTtcclxuICB9O1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xyXG4gICAgICBzZXRTdGFnZVNpemUoe1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCAqIDIsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgKiAyXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVDb250ZXh0TWVudSA9IChlOiBFdmVudCkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGhhbmRsZUNvbnRleHRNZW51KTtcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBoYW5kbGVDb250ZXh0TWVudSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyDmuIXpmaTnlavluIPlip9cclxuICBjb25zdCBoYW5kbGVDbGVhckNhbnZhcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHJvb21SZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vbGluZXNgKTtcclxuICAgIHNldChyb29tUmVmLCBudWxsKTtcclxuICB9LCBbcm9vbUlkXSk7XHJcblxyXG4gIC8vIOa3u+WKoOa4hemZpOWFqOmDqOWKn+iDvVxyXG4gIGNvbnN0IGhhbmRsZUNsZWFyQWxsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY29uc3Qgcm9vbVJlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfWApO1xyXG4gICAgc2V0KHJvb21SZWYsIG51bGwpOyAvLyDmuIXpmaToqbLmiL/plpPnmoTmiYDmnInmlbjmk5pcclxuICAgIHNldFNlbGVjdGVkSW1hZ2UobnVsbCk7IC8vIOmHjee9rumBuOS4reWclueJh1xyXG4gIH0sIFtyb29tSWRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRHJhZ092ZXIgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZURyb3AgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgXHJcbiAgICBjb25zdCBmaWxlID0gZS5kYXRhVHJhbnNmZXIuZmlsZXNbMF07XHJcbiAgICBpZiAoZmlsZSAmJiBmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcclxuICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGltZ0RhdGEgPSBldmVudC50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmc7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VJZCA9IERhdGUubm93KCkudG9TdHJpbmcoKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpbWcgPSBuZXcgd2luZG93LkltYWdlKCk7XHJcbiAgICAgICAgaW1nLnNyYyA9IGltZ0RhdGE7XHJcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IG5ld0ltYWdlID0ge1xyXG4gICAgICAgICAgICBpZDogaW1hZ2VJZCxcclxuICAgICAgICAgICAgeDogZS5uYXRpdmVFdmVudC5vZmZzZXRYIHx8IDEwMCxcclxuICAgICAgICAgICAgeTogZS5uYXRpdmVFdmVudC5vZmZzZXRZIHx8IDEwMCxcclxuICAgICAgICAgICAgd2lkdGg6IGltZy53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBpbWcuaGVpZ2h0LFxyXG4gICAgICAgICAgICBzcmM6IGltZ0RhdGEsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyDmm7TmlrDni4DmhYvku6Xop7jnmbzph43mlrDmuLLmn5NcclxuICAgICAgICAgIHNldEltYWdlcygocHJldkltYWdlcykgPT4gWy4uLnByZXZJbWFnZXMsIG5ld0ltYWdlXSk7XHJcblxyXG4gICAgICAgICAgLy8g5ZCM5q2l5YiwIEZpcmViYXNlXHJcbiAgICAgICAgICBjb25zdCBkYkltYWdlUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2ltYWdlcy8ke2ltYWdlSWR9YCk7XHJcbiAgICAgICAgICBzZXQoZGJJbWFnZVJlZiwgbmV3SW1hZ2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUltYWdlVHJhbnNmb3JtID0gKGltYWdlSWQ6IHN0cmluZywgbmV3UHJvcHM6IFBhcnRpYWw8SW1hZ2VFbGVtZW50PikgPT4ge1xyXG4gICAgY29uc3QgaW1hZ2VSZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vaW1hZ2VzLyR7aW1hZ2VJZH1gKTtcclxuICAgIGNvbnN0IHVwZGF0ZWRJbWFnZSA9IGltYWdlcy5maW5kKChpbWc6IEltYWdlRWxlbWVudCkgPT4gaW1nLmlkID09PSBpbWFnZUlkKTtcclxuICAgIGlmICh1cGRhdGVkSW1hZ2UpIHtcclxuICAgICAgc2V0KGltYWdlUmVmLCB7IC4uLnVwZGF0ZWRJbWFnZSwgLi4ubmV3UHJvcHMgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8g5re75YqgIHN0YWdlIOW8leeUqFxyXG4gIGNvbnN0IHN0YWdlUmVmID0gdXNlUmVmPGFueT4obnVsbCk7XHJcblxyXG4gIC8vIOm7nuaTiuepuueZveiZleWPlua2iOmBuOS4rVxyXG4gIGNvbnN0IGNoZWNrRGVzZWxlY3QgPSAoZTogYW55KSA9PiB7XHJcbiAgICBjb25zdCBjbGlja2VkT25FbXB0eSA9IGUudGFyZ2V0ID09PSBlLnRhcmdldC5nZXRTdGFnZSgpO1xyXG4gICAgaWYgKGNsaWNrZWRPbkVtcHR5KSB7XHJcbiAgICAgIHNldFNlbGVjdGVkSW1hZ2UobnVsbCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8g6Ziy5q2i5Lit6Y216bue5pOK55qE6aCQ6Kit6KGM54K677yI6YCa5bi45piv6Ieq5YuV5ru+5YuV77yJXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHByZXZlbnREZWZhdWx0ID0gKGU6IEV2ZW50KSA9PiBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS5idXR0b24gPT09IDEpIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBwcmV2ZW50RGVmYXVsdCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8g5L2/55So6Ziy5oqW5YSq5YyWIEZpcmViYXNlIOabtOaWsFxyXG4gIGNvbnN0IGRlYm91bmNlZFVwZGF0ZSA9IHVzZUNhbGxiYWNrKFxyXG4gICAgZGVib3VuY2UoKHBhdGg6IHN0cmluZywgZGF0YTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IGRiUmVmID0gcmVmKGRhdGFiYXNlLCBwYXRoKTtcclxuICAgICAgc2V0KGRiUmVmLCBkYXRhKTtcclxuICAgIH0sIDMwKSxcclxuICAgIFtdXHJcbiAgKTtcclxuXHJcbiAgLy8g5YSq5YyW5ZyW54mH5riy5p+TXHJcbiAgY29uc3QgaW1hZ2VDYWNoZSA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgY2FjaGU6IHsgW2tleTogc3RyaW5nXTogSFRNTEltYWdlRWxlbWVudCB9ID0ge307XHJcbiAgICBpbWFnZXMuZm9yRWFjaChpbWFnZSA9PiB7XHJcbiAgICAgIGlmICghY2FjaGVbaW1hZ2Uuc3JjXSkge1xyXG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyB3aW5kb3cuSW1hZ2UoKTtcclxuICAgICAgICBpbWcuc3JjID0gaW1hZ2Uuc3JjO1xyXG4gICAgICAgIGNhY2hlW2ltYWdlLnNyY10gPSBpbWc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGNhY2hlO1xyXG4gIH0sIFtpbWFnZXNdKTtcclxuXHJcbiAgLy8g5L2/55SoIG1lbW8g5YSq5YyW5riy5p+TXHJcbiAgY29uc3QgcmVuZGVyTGluZXMgPSB1c2VNZW1vKCgpID0+IChcclxuICAgIGxpbmVzLm1hcCgobGluZSwgaSkgPT4gKFxyXG4gICAgICA8TGluZVxyXG4gICAgICAgIGtleT17aX1cclxuICAgICAgICBwb2ludHM9e2xpbmUucG9pbnRzfVxyXG4gICAgICAgIHN0cm9rZT17bGluZS5zdHJva2VDb2xvcn1cclxuICAgICAgICBzdHJva2VXaWR0aD17bGluZS5zdHJva2VXaWR0aCAvIHNjYWxlfVxyXG4gICAgICAgIHRlbnNpb249e2xpbmUudGVuc2lvbn1cclxuICAgICAgICBvcGFjaXR5PXtsaW5lLm9wYWNpdHl9XHJcbiAgICAgICAgZGFzaD17bGluZS5kYXNofVxyXG4gICAgICAgIGxpbmVDYXA9XCJyb3VuZFwiXHJcbiAgICAgICAgbGluZUpvaW49XCJyb3VuZFwiXHJcbiAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPXtcclxuICAgICAgICAgIGxpbmUudG9vbCA9PT0gJ2VyYXNlcicgPyAnZGVzdGluYXRpb24tb3V0JyA6ICdzb3VyY2Utb3ZlcidcclxuICAgICAgICB9XHJcbiAgICAgIC8+XHJcbiAgICApKVxyXG4gICksIFtsaW5lcywgc2NhbGVdKTtcclxuXHJcbiAgY29uc3QgcmVuZGVySW1hZ2VzID0gdXNlTWVtbygoKSA9PiAoXHJcbiAgICBpbWFnZXMubWFwKChpbWFnZSwgaSkgPT4gKFxyXG4gICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtpfT5cclxuICAgICAgICA8S29udmFJbWFnZVxyXG4gICAgICAgICAgaWQ9e2ltYWdlLmlkfVxyXG4gICAgICAgICAgaW1hZ2U9e2ltYWdlQ2FjaGVbaW1hZ2Uuc3JjXX1cclxuICAgICAgICAgIHg9e2ltYWdlLnh9XHJcbiAgICAgICAgICB5PXtpbWFnZS55fVxyXG4gICAgICAgICAgd2lkdGg9e2ltYWdlLndpZHRofVxyXG4gICAgICAgICAgaGVpZ2h0PXtpbWFnZS5oZWlnaHR9XHJcbiAgICAgICAgICBkcmFnZ2FibGU9e3RydWV9XHJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEltYWdlKGltYWdlLmlkKX1cclxuICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbkRyYWdNb3ZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbkRyYWdFbmQ9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZVJlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9pbWFnZXMvJHtpbWFnZS5pZH1gKTtcclxuICAgICAgICAgICAgc2V0KGltYWdlUmVmLCB7XHJcbiAgICAgICAgICAgICAgLi4uaW1hZ2UsXHJcbiAgICAgICAgICAgICAgeDogZS50YXJnZXQueCgpLFxyXG4gICAgICAgICAgICAgIHk6IGUudGFyZ2V0LnkoKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgeyhzZWxlY3RlZEltYWdlID09PSBpbWFnZS5pZCB8fCBkcmFnTW9kZSkgJiYgKFxyXG4gICAgICAgICAgPEdyb3VwIHg9e2ltYWdlLnggKyBpbWFnZS53aWR0aCAtIDIwfSB5PXtpbWFnZS55IC0gMjB9PlxyXG4gICAgICAgICAgICA8Q2lyY2xlXHJcbiAgICAgICAgICAgICAgcmFkaXVzPXsxMH1cclxuICAgICAgICAgICAgICBmaWxsPVwicmVkXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDliKrpmaTlnJbniYdcclxuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2ltYWdlcy8ke2ltYWdlLmlkfWApO1xyXG4gICAgICAgICAgICAgICAgc2V0KGltYWdlUmVmLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkSW1hZ2UobnVsbCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPEtvbnZhTGluZVxyXG4gICAgICAgICAgICAgIHBvaW50cz17Wy01LCAtNSwgNSwgNV19XHJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8S29udmFMaW5lXHJcbiAgICAgICAgICAgICAgcG9pbnRzPXtbNSwgLTUsIC01LCA1XX1cclxuICAgICAgICAgICAgICBzdHJva2U9XCJ3aGl0ZVwiXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L0dyb3VwPlxyXG4gICAgICAgICl9XHJcbiAgICAgICAge3NlbGVjdGVkSW1hZ2UgPT09IGltYWdlLmlkICYmIChcclxuICAgICAgICAgIDxUcmFuc2Zvcm1lclxyXG4gICAgICAgICAgICByZWY9e3RyYW5zZm9ybWVyUmVmfVxyXG4gICAgICAgICAgICBib3VuZEJveEZ1bmM9eyhvbGRCb3gsIG5ld0JveCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG1pbldpZHRoID0gNTtcclxuICAgICAgICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSA1O1xyXG4gICAgICAgICAgICAgIGlmIChuZXdCb3gud2lkdGggPCBtaW5XaWR0aCB8fCBuZXdCb3guaGVpZ2h0IDwgbWluSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkQm94O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gbmV3Qm94O1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBlbmFibGVkQW5jaG9ycz17W1xyXG4gICAgICAgICAgICAgICd0b3AtbGVmdCcsICd0b3AtcmlnaHQnLFxyXG4gICAgICAgICAgICAgICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnLFxyXG4gICAgICAgICAgICAgICdtaWRkbGUtbGVmdCcsICdtaWRkbGUtcmlnaHQnLFxyXG4gICAgICAgICAgICAgICd0b3AtY2VudGVyJywgJ2JvdHRvbS1jZW50ZXInXHJcbiAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgIHJvdGF0ZUVuYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICBrZWVwUmF0aW89e2ZhbHNlfVxyXG4gICAgICAgICAgICBwYWRkaW5nPXs1fVxyXG4gICAgICAgICAgICBhbmNob3JTaXplPXsxMH1cclxuICAgICAgICAgICAgYW5jaG9yQ29ybmVyUmFkaXVzPXs1fVxyXG4gICAgICAgICAgICBib3JkZXJFbmFibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICBib3JkZXJTdHJva2U9XCIjMDBmZjAwXCJcclxuICAgICAgICAgICAgYm9yZGVyU3Ryb2tlV2lkdGg9ezJ9XHJcbiAgICAgICAgICAgIGFuY2hvclN0cm9rZT1cIiMwMGZmMDBcIlxyXG4gICAgICAgICAgICBhbmNob3JGaWxsPVwiI2ZmZmZmZlwiXHJcbiAgICAgICAgICAgIG9uVHJhbnNmb3JtRW5kPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgICBjb25zdCBzY2FsZVggPSBub2RlLnNjYWxlWCgpO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNjYWxlWSA9IG5vZGUuc2NhbGVZKCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIOmHjee9rue4ruaUvlxyXG4gICAgICAgICAgICAgIG5vZGUuc2NhbGVYKDEpO1xyXG4gICAgICAgICAgICAgIG5vZGUuc2NhbGVZKDEpO1xyXG5cclxuICAgICAgICAgICAgICBjb25zdCBpbWFnZVJlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9pbWFnZXMvJHtpbWFnZS5pZH1gKTtcclxuICAgICAgICAgICAgICBzZXQoaW1hZ2VSZWYsIHtcclxuICAgICAgICAgICAgICAgIC4uLmltYWdlLFxyXG4gICAgICAgICAgICAgICAgeDogbm9kZS54KCksXHJcbiAgICAgICAgICAgICAgICB5OiBub2RlLnkoKSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLm1heCg1LCBub2RlLndpZHRoKCkgKiBzY2FsZVgpLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1heCg1LCBub2RlLmhlaWdodCgpICogc2NhbGVZKSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICkpXHJcbiAgKSwgW2ltYWdlcywgaW1hZ2VDYWNoZSwgc2VsZWN0ZWRJbWFnZSwgcm9vbUlkXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBzZW5kIG1lc3NhZ2U6Jywge1xyXG4gICAgICByb29tSWQsXHJcbiAgICAgIG5pY2tuYW1lLFxyXG4gICAgICBtZXNzYWdlOiBuZXdNZXNzYWdlLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAobmV3TWVzc2FnZS50cmltKCkgJiYgbmlja25hbWUgJiYgcm9vbUlkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIG1lc3NhZ2UgcmVmIGZvciByb29tOicsIHJvb21JZCk7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXNSZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vbWVzc2FnZXNgKTtcclxuICAgICAgICBjb25zdCBuZXdNZXNzYWdlUmVmID0gcHVzaChtZXNzYWdlc1JlZik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgbWVzc2FnZSBkYXRhJyk7XHJcbiAgICAgICAgYXdhaXQgc2V0KG5ld01lc3NhZ2VSZWYsIHtcclxuICAgICAgICAgIG5pY2tuYW1lLFxyXG4gICAgICAgICAgdGV4dDogbmV3TWVzc2FnZS50cmltKCksXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ01lc3NhZ2Ugc2VudCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICBzZXROZXdNZXNzYWdlKCcnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6Jywge1xyXG4gICAgICAgICAgaGFzTWVzc2FnZTogQm9vbGVhbihuZXdNZXNzYWdlLnRyaW0oKSksXHJcbiAgICAgICAgICBoYXNOaWNrbmFtZTogQm9vbGVhbihuaWNrbmFtZSksXHJcbiAgICAgICAgICBoYXNSb29tSWQ6IEJvb2xlYW4ocm9vbUlkKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIHtcclxuICAgICAgICBlcnJvcixcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxyXG4gICAgICAgIGVycm9yU3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXNpemVTdGFydCA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAobW92ZUV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGNoYXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1jb250YWluZXInKTtcclxuICAgICAgaWYgKCFjaGF0Q29udGFpbmVyKSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb250YWluZXJSZWN0ID0gY2hhdENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gMjsgLy8g5pyA5aSn6auY5bqm54K66J6i5bmV6auY5bqm55qE5LiA5Y2KXHJcbiAgICAgIGNvbnN0IG1pbkhlaWdodCA9IDgwOyAvLyDmnIDlsI/pq5jluqYgKDLliJcpXHJcbiAgICAgIGNvbnN0IG5ld0hlaWdodCA9IE1hdGgubWF4KG1pbkhlaWdodCwgTWF0aC5taW4obWF4SGVpZ2h0LCBjb250YWluZXJSZWN0LmJvdHRvbSAtIG1vdmVFdmVudC5jbGllbnRZKSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRDaGF0SGVpZ2h0KG5ld0hlaWdodCArIDgwKTsgLy8g5Yqg5LiK6aCt6YOo5ZKM6Ly45YWl5qGG55qE6auY5bqmXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSb29tSW5mb1Jlc2l6ZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAobW92ZUV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb29tLWluZm8tY29udGFpbmVyJyk7XHJcbiAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBuZXdIZWlnaHQgPSBNYXRoLm1heCgxMDAsIE1hdGgubWluKDQwMCwgbW92ZUV2ZW50LmNsaWVudFkgLSBjb250YWluZXJSZWN0LnRvcCkpO1xyXG4gICAgICBzZXRSb29tSW5mb0hlaWdodChuZXdIZWlnaHQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVNb3VzZVVwID0gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSW1hZ2VVcGxvYWQgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xyXG4gICAgaWYgKGZpbGUpIHtcclxuICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGltZ0RhdGEgPSBldmVudC50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmc7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGZhYnJpYy5JbWFnZS5mcm9tVVJMKGltZ0RhdGEsIHtcclxuICAgICAgICAgIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJ1xyXG4gICAgICAgIH0sIChpbWc6IGZhYnJpYy5JbWFnZSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgaW1hZ2VJZCA9IERhdGUubm93KCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgIGNvbnN0IHBvaW50ZXIgPSB7XHJcbiAgICAgICAgICAgIHg6IChlLm5hdGl2ZUV2ZW50IGFzIE1vdXNlRXZlbnQpLm9mZnNldFggfHwgMTAwLFxyXG4gICAgICAgICAgICB5OiAoZS5uYXRpdmVFdmVudCBhcyBNb3VzZUV2ZW50KS5vZmZzZXRZIHx8IDEwMFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaW1nLnNldCh7XHJcbiAgICAgICAgICAgIGxlZnQ6IHBvaW50ZXIueCxcclxuICAgICAgICAgICAgdG9wOiBwb2ludGVyLnksXHJcbiAgICAgICAgICAgIGNvcm5lckNvbG9yOiAnYmx1ZScsXHJcbiAgICAgICAgICAgIGNvcm5lclN0cm9rZUNvbG9yOiAnYmx1ZScsXHJcbiAgICAgICAgICAgIGNvcm5lclNpemU6IDEyLFxyXG4gICAgICAgICAgICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxyXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJ2JsdWUnLFxyXG4gICAgICAgICAgICBib3JkZXJTY2FsZUZhY3RvcjogMixcclxuICAgICAgICAgICAgcGFkZGluZzogNSxcclxuICAgICAgICAgICAgZGF0YTogeyBpZDogaW1hZ2VJZCwgc3JjOiBpbWdEYXRhIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGZhYnJpY1JlZi5jdXJyZW50Py5hZGQoaW1nKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8g5ZCM5q2l5YiwIEZpcmViYXNlXHJcbiAgICAgICAgICBjb25zdCBkYkltYWdlUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2ltYWdlcy8ke2ltYWdlSWR9YCk7XHJcbiAgICAgICAgICBzZXQoZGJJbWFnZVJlZiwge1xyXG4gICAgICAgICAgICBpZDogaW1hZ2VJZCxcclxuICAgICAgICAgICAgeDogaW1nLmxlZnQsXHJcbiAgICAgICAgICAgIHk6IGltZy50b3AsXHJcbiAgICAgICAgICAgIHdpZHRoOiBpbWcud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogaW1nLmhlaWdodCxcclxuICAgICAgICAgICAgc3JjOiBpbWdEYXRhXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8g5Yid5aeL5YyWIEZhYnJpYy5qcyBjYW52YXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHN0YWdlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgY2FudmFzRWxlbWVudCA9IHN0YWdlUmVmLmN1cnJlbnQuY2FudmFzIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgICBmYWJyaWNSZWYuY3VycmVudCA9IG5ldyBmYWJyaWMuQ2FudmFzKGNhbnZhc0VsZW1lbnQsIHtcclxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8g6Kit572uIEZhYnJpYy5qcyDnmoTkuovku7bomZXnkIZcclxuICAgICAgZmFicmljUmVmLmN1cnJlbnQub24oJ29iamVjdDptb2RpZmllZCcsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb2JqID0gZS50YXJnZXQ7XHJcbiAgICAgICAgaWYgKG9iaiAmJiBvYmoudHlwZSA9PT0gJ2ltYWdlJykge1xyXG4gICAgICAgICAgY29uc3QgaW1hZ2VJZCA9IG9iai5nZXQoJ2RhdGEnKT8uaWQ7XHJcbiAgICAgICAgICBpZiAoaW1hZ2VJZCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZVJlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9pbWFnZXMvJHtpbWFnZUlkfWApO1xyXG4gICAgICAgICAgICBzZXQoaW1hZ2VSZWYsIHtcclxuICAgICAgICAgICAgICBpZDogaW1hZ2VJZCxcclxuICAgICAgICAgICAgICB4OiBvYmoubGVmdCxcclxuICAgICAgICAgICAgICB5OiBvYmoudG9wLFxyXG4gICAgICAgICAgICAgIHdpZHRoOiBvYmoud2lkdGghICogb2JqLnNjYWxlWCEsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiBvYmouaGVpZ2h0ISAqIG9iai5zY2FsZVkhLFxyXG4gICAgICAgICAgICAgIHNyYzogb2JqLmdldCgnZGF0YScpPy5zcmNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBmYWJyaWNSZWYuY3VycmVudD8uZGlzcG9zZSgpO1xyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIOWcqOW3peWFt+WIh+aPm+aZguiZleeQhiBGYWJyaWMuanMg55qE5Lqk5LqS5qih5byPXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChmYWJyaWNSZWYuY3VycmVudCkge1xyXG4gICAgICBpZiAodG9vbCA9PT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICBmYWJyaWNSZWYuY3VycmVudC5zZWxlY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgIGZhYnJpY1JlZi5jdXJyZW50LmZvckVhY2hPYmplY3QoKG9iaikgPT4ge1xyXG4gICAgICAgICAgb2JqLnNlbGVjdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZhYnJpY1JlZi5jdXJyZW50LnNlbGVjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIGZhYnJpY1JlZi5jdXJyZW50LmZvckVhY2hPYmplY3QoKG9iaikgPT4ge1xyXG4gICAgICAgICAgb2JqLnNlbGVjdGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBmYWJyaWNSZWYuY3VycmVudC5yZW5kZXJBbGwoKTtcclxuICAgIH1cclxuICB9LCBbdG9vbF0pO1xyXG5cclxuICAvLyDlnKjntYTku7bpoILpg6jmt7vliqAgcHJvcHMg5qqi5p+lXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdDYW52YXMgY29tcG9uZW50IHByb3BzOicsIHtcclxuICAgICAgcm9vbUlkLFxyXG4gICAgICBuaWNrbmFtZVxyXG4gICAgfSk7XHJcbiAgfSwgW3Jvb21JZCwgbmlja25hbWVdKTtcclxuXHJcbiAgLy8g5qqi5p+lIEZpcmViYXNlIO+/ve+/ve+/veaOpVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnRmlyZWJhc2UgZGF0YWJhc2UgaW5zdGFuY2U6JywgZGF0YWJhc2UpO1xyXG4gICAgXHJcbiAgICAvLyDmuKzoqaYgRmlyZWJhc2Ug6YCj5o6lXHJcbiAgICBjb25zdCB0ZXN0UmVmID0gcmVmKGRhdGFiYXNlLCAnLmluZm8vY29ubmVjdGVkJyk7XHJcbiAgICBvblZhbHVlKHRlc3RSZWYsIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnRmlyZWJhc2UgY29ubmVjdGlvbiBzdGF0dXM6Jywgc25hcHNob3QudmFsKCkpO1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyDkv67mlLnnlJ/miJDmm7Tmt7roibLnmoTlh73mlbhcclxuICBjb25zdCBnZW5lcmF0ZVBhc3RlbENvbG9yID0gKHNlZWQ6IHN0cmluZykgPT4ge1xyXG4gICAgbGV0IGhhc2ggPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGhhc2ggPSBzZWVkLmNoYXJDb2RlQXQoaSkgKyAoKGhhc2ggPDwgNSkgLSBoYXNoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDoqr/mlbTngrrmm7Tmt7rnmoTpoY/oibJcclxuICAgIGNvbnN0IGh1ZSA9IGhhc2ggJSAzNjA7XHJcbiAgICBjb25zdCBzYXR1cmF0aW9uID0gNTAgKyAoaGFzaCAlIDIwKTsgLy8g6ZmN5L2O6aO95ZKM5bqm5YiwIDUwLTcwJVxyXG4gICAgY29uc3QgbGlnaHRuZXNzID0gODAgKyAoaGFzaCAlIDEwKTsgIC8vIOaPkOmrmOS6ruW6puWIsCA4MC05MCVcclxuXHJcbiAgICByZXR1cm4gYGhzbCgke2h1ZX0sICR7c2F0dXJhdGlvbn0lLCAke2xpZ2h0bmVzc30lKWA7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3RpY2tlclNlbGVjdCA9IGFzeW5jIChzdGlja2VyVXJsOiBzdHJpbmcpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChuaWNrbmFtZSAmJiByb29tSWQpIHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlc1JlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9tZXNzYWdlc2ApO1xyXG4gICAgICAgIGNvbnN0IG5ld01lc3NhZ2VSZWYgPSBwdXNoKG1lc3NhZ2VzUmVmKTtcclxuICAgICAgICBcclxuICAgICAgICBhd2FpdCBzZXQobmV3TWVzc2FnZVJlZiwge1xyXG4gICAgICAgICAgbmlja25hbWUsXHJcbiAgICAgICAgICB0eXBlOiAnc3RpY2tlcicsICAvLyDmlrDlop7mtojmga/poZ7lnotcclxuICAgICAgICAgIGNvbnRlbnQ6IHN0aWNrZXJVcmwsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgc3RpY2tlcjonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgXHJcbiAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLXNjcmVlblwiXHJcbiAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9XHJcbiAgICAgIG9uRHJvcD17aGFuZGxlRHJvcH1cclxuICAgID5cclxuICAgICAgPFN0YWdlXHJcbiAgICAgICAgcmVmPXtzdGFnZVJlZn1cclxuICAgICAgICB3aWR0aD17d2luZG93LmlubmVyV2lkdGh9XHJcbiAgICAgICAgaGVpZ2h0PXt3aW5kb3cuaW5uZXJIZWlnaHR9XHJcbiAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZU1vdXNlRG93bn1cclxuICAgICAgICBvbk1vdXNlbW92ZT17aGFuZGxlTW91c2VNb3ZlfVxyXG4gICAgICAgIG9uTW91c2V1cD17aGFuZGxlTW91c2VVcH1cclxuICAgICAgICBvbk1vdXNlbGVhdmU9e2hhbmRsZU1vdXNlVXB9XHJcbiAgICAgICAgb25XaGVlbD17aGFuZGxlV2hlZWx9XHJcbiAgICAgICAgc2NhbGVYPXtzY2FsZX1cclxuICAgICAgICBzY2FsZVk9e3NjYWxlfVxyXG4gICAgICAgIHg9e3Bvc2l0aW9uLnh9XHJcbiAgICAgICAgeT17cG9zaXRpb24ueX1cclxuICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAnI2ZmZmZmZicgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxMYXllcj5cclxuICAgICAgICAgIHtyZW5kZXJJbWFnZXN9XHJcbiAgICAgICAgICB7cmVuZGVyTGluZXN9XHJcbiAgICAgICAgICB7Y3VycmVudExpbmUgJiYgKFxyXG4gICAgICAgICAgICA8TGluZVxyXG4gICAgICAgICAgICAgIHBvaW50cz17Y3VycmVudExpbmUucG9pbnRzfVxyXG4gICAgICAgICAgICAgIHN0cm9rZT17Y3VycmVudExpbmUuc3Ryb2tlQ29sb3J9XHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2N1cnJlbnRMaW5lLnN0cm9rZVdpZHRoIC8gc2NhbGV9XHJcbiAgICAgICAgICAgICAgdGVuc2lvbj17Y3VycmVudExpbmUudGVuc2lvbn1cclxuICAgICAgICAgICAgICBvcGFjaXR5PXtjdXJyZW50TGluZS5vcGFjaXR5fVxyXG4gICAgICAgICAgICAgIGRhc2g9e2N1cnJlbnRMaW5lLmRhc2h9XHJcbiAgICAgICAgICAgICAgbGluZUNhcD1cInJvdW5kXCJcclxuICAgICAgICAgICAgICBsaW5lSm9pbj1cInJvdW5kXCJcclxuICAgICAgICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb249e1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExpbmUudG9vbCA9PT0gJ2VyYXNlcicgPyAnZGVzdGluYXRpb24tb3V0JyA6ICdzb3VyY2Utb3ZlcidcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvTGF5ZXI+XHJcbiAgICAgIDwvU3RhZ2U+XHJcblxyXG4gICAgICB7Lyog5Yqf6IO95oyJ6YiVICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS00IHJpZ2h0LTQgZmxleCBnYXAtMlwiPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBob3ZlcjpiZy1ncmF5LTEwMFwiXHJcbiAgICAgICAgICBvbkNsaWNrPXt6b29tSW59XHJcbiAgICAgICAgICB0aXRsZT1cIuaUvuWkp1wiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPEJpWm9vbUluIHNpemU9ezI0fSAvPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBob3ZlcjpiZy1ncmF5LTEwMFwiXHJcbiAgICAgICAgICBvbkNsaWNrPXt6b29tT3V0fVxyXG4gICAgICAgICAgdGl0bGU9XCLnuK7lsI9cIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxCaVpvb21PdXQgc2l6ZT17MjR9IC8+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicC0yIGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIGhvdmVyOmJnLWdyYXktMTAwXCJcclxuICAgICAgICAgIG9uQ2xpY2s9e3Jlc2V0Wm9vbX1cclxuICAgICAgICAgIHRpdGxlPVwi6YeN572u57iu5pS+XCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8TWRPdXRsaW5lWm9vbU91dE1hcCBzaXplPXsyNH0gLz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1sZyBzaGFkb3ctbGcgJHtcclxuICAgICAgICAgICAgZHJhZ01vZGUgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZScgOiAnYmctd2hpdGUgaG92ZXI6YmctZ3JheS0xMDAnXHJcbiAgICAgICAgICB9YH1cclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldERyYWdNb2RlKCFkcmFnTW9kZSl9XHJcbiAgICAgICAgICB0aXRsZT1cIuaLluabs+aooeW8j1wiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPE1kUGFuVG9vbCBzaXplPXsyNH0gLz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8bGFiZWwgXHJcbiAgICAgICAgICBodG1sRm9yPVwiaW1hZ2VVcGxvYWRcIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicC0yIGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIGhvdmVyOmJnLWdyYXktMTAwIGN1cnNvci1wb2ludGVyXCJcclxuICAgICAgICAgIHRpdGxlPVwi5LiK5YKz5ZyW54mHXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8QmlJbWFnZUFkZCBzaXplPXsyNH0gLz5cclxuICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1yZWQtNjAwXCJcclxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyQ2FudmFzfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIOa4hemZpOeVq+W4g1xyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNzAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1yZWQtODAwXCJcclxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyQWxsfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIOa4hemZpOWFqOmDqFxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiDogYrlpKnlrqTpnaLmnb8gKi99XHJcbiAgICAgIDxkaXYgXHJcbiAgICAgICAgaWQ9XCJjaGF0LWNvbnRhaW5lclwiXHJcbiAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHctMTQ0IGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgcm91bmRlZC1sZyBzaGFkb3ctbGcgei00MFwiXHJcbiAgICAgID5cclxuICAgICAgICB7Lyog5ouW5puz5Y2A5Z+f5Y+q5Zyo6Z2e5pyA5bCP5YyW5pmC6aGv56S6ICovfVxyXG4gICAgICAgIHshaXNNaW5pbWl6ZWQgJiYgKFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xIGN1cnNvci1ucy1yZXNpemUgaG92ZXI6YmctZ3JheS01MDAgYWJzb2x1dGUgLXRvcC0xXCJcclxuICAgICAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZVJlc2l6ZVN0YXJ0fVxyXG4gICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcgfX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgICBcclxuICAgICAgICB7IWlzTWluaW1pemVkICYmIChcclxuICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHAtMiBib3JkZXItYiBib3JkZXItd2hpdGUgYm9yZGVyLW9wYWNpdHktMjBcIj5cclxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+6IGK5aSp5a6kPC9oMz5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc01pbmltaXplZCh0cnVlKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgaG92ZXI6dGV4dC1ncmF5LTMwMFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgLVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib3ZlcmZsb3cteS1hdXRvXCJcclxuICAgICAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgICAgIGhlaWdodDogYCR7Y2hhdEhlaWdodCAtIDgwfXB4YCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbEJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgcmVmPXsoZWwpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbCkge1xyXG4gICAgICAgICAgICAgICAgICBlbC5zY3JvbGxUb3AgPSBlbC5zY3JvbGxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1zZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlckNvbG9yID0gZ2VuZXJhdGVQYXN0ZWxDb2xvcihtc2cubmlja25hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e21zZy5pZH0gXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIGhvdmVyOmJnLWJsYWNrIGhvdmVyOmJnLW9wYWNpdHktNDBcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBicmVhay13b3Jkc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IHVzZXJDb2xvciB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5uaWNrbmFtZX06XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7bXNnLnR5cGUgPT09ICdzdGlja2VyJyA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LTJ4bFwiPnttc2cuY29udGVudH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogdXNlckNvbG9yIH19PiB7bXNnLnRleHR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICB7Lyog6Ly45YWl5qGGICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIGJvcmRlci10IGJvcmRlci1ncmF5LTcwMFwiPlxyXG4gICAgICAgICAgPFN0aWNrZXJQaWNrZXIgb25TdGlja2VyU2VsZWN0PXtoYW5kbGVTdGlja2VyU2VsZWN0fSAvPlxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgdmFsdWU9e25ld01lc3NhZ2V9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3TWVzc2FnZShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6Ly45YWl6KiK5oGvLi4uXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTMgcHktMSBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIHRleHQtd2hpdGUgYm9yZGVyIGJvcmRlci13aGl0ZSBib3JkZXItb3BhY2l0eS0yMCByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1ibHVlLTUwMFwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kTWVzc2FnZX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0xIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIOeZvOmAgVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIOaIv+mWk+izh+ioiumdouadvyAqL31cclxuICAgICAgPGRpdiBcclxuICAgICAgICBpZD1cInJvb20taW5mby1jb250YWluZXJcIlxyXG4gICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IHJpZ2h0LTQgdy02NCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHotNDBcIlxyXG4gICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgaGVpZ2h0OiBpc1Jvb21JbmZvTWluaW1pemVkID8gJzQwcHgnIDogYCR7cm9vbUluZm9IZWlnaHR9cHhgLFxyXG4gICAgICAgICAgdHJhbnNpdGlvbjogJ2hlaWdodCAwLjJzJ1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBwLTIgYm9yZGVyLWIgYm9yZGVyLXdoaXRlIGJvcmRlci1vcGFjaXR5LTIwXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+5oi/6ZaTe3Jvb21JZH08L2gzPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc1Jvb21JbmZvTWluaW1pemVkKCFpc1Jvb21JbmZvTWluaW1pemVkKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBob3Zlcjp0ZXh0LWdyYXktMzAwXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAge2lzUm9vbUluZm9NaW5pbWl6ZWQgPyA8QWlPdXRsaW5lRG93biAvPiA6IDxBaU91dGxpbmVVcCAvPn1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7IWlzUm9vbUluZm9NaW5pbWl6ZWQgJiYgKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvdmVyZmxvdy15LWF1dG8gcHgtMlwiXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBgJHtyb29tSW5mb0hlaWdodCAtIDcwfXB4YCB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0yIGJvcmRlci1iIGJvcmRlci13aGl0ZSBib3JkZXItb3BhY2l0eS0yMFwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtXCI+5Zyo57ea5Lq65pW477yae3VzZXJzLmxlbmd0aH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gbWItMVwiPuWcqOe3muaIkOWToe+8mjwvcD5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cclxuICAgICAgICAgICAgICAgICAge3VzZXJzLm1hcCgodXNlciwgaW5kZXgpID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIHBsLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHt1c2VyfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7Lyog5ouW5puz6Kq/5pW05aSn5bCP55qE5Y2A5Z+fICovfVxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHctZnVsbCBoLTEgY3Vyc29yLW5zLXJlc2l6ZSBob3ZlcjpiZy1ncmF5LTUwMFwiXHJcbiAgICAgICAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZVJvb21JbmZvUmVzaXplfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyB9fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8aW5wdXRcclxuICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXHJcbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUltYWdlVXBsb2FkfVxyXG4gICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fVxyXG4gICAgICAgIGlkPVwiaW1hZ2VVcGxvYWRcIlxyXG4gICAgICAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1lbW8oQ2FudmFzKTsiXSwibmFtZXMiOlsiUmVhY3QiLCJTdGFnZSIsIkxheWVyIiwiTGluZSIsIkltYWdlIiwiS29udmFJbWFnZSIsIlRyYW5zZm9ybWVyIiwiR3JvdXAiLCJDaXJjbGUiLCJLb252YUxpbmUiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlTWVtbyIsIm1lbW8iLCJ1c2VDYW52YXNTdG9yZSIsImRhdGFiYXNlIiwicmVmIiwib25WYWx1ZSIsInNldCIsInB1c2giLCJzZXJ2ZXJUaW1lc3RhbXAiLCJCaVpvb21JbiIsIkJpWm9vbU91dCIsIkJpSW1hZ2VBZGQiLCJNZE91dGxpbmVab29tT3V0TWFwIiwiTWRQYW5Ub29sIiwiZGVib3VuY2UiLCJBaU91dGxpbmVEb3duIiwiQWlPdXRsaW5lVXAiLCJmYWJyaWMiLCJTdGlja2VyUGlja2VyIiwiQ2FudmFzIiwicm9vbUlkIiwibmlja25hbWUiLCJsaW5lcyIsInNldExpbmVzIiwiaXNEcmF3aW5nIiwic2V0SXNEcmF3aW5nIiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJjdXJyZW50TGluZSIsInNldEN1cnJlbnRMaW5lIiwidG9vbCIsInN0cm9rZVdpZHRoIiwic3Ryb2tlQ29sb3IiLCJzZXRTdHJva2VDb2xvciIsInNjYWxlIiwic2V0U2NhbGUiLCJ4IiwieSIsInBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsInN0YWdlU2l6ZSIsInNldFN0YWdlU2l6ZSIsImRyYWdNb2RlIiwic2V0RHJhZ01vZGUiLCJpbWFnZXMiLCJzZXRJbWFnZXMiLCJzZWxlY3RlZEltYWdlIiwic2V0U2VsZWN0ZWRJbWFnZSIsInRyYW5zZm9ybWVyUmVmIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsIm5ld01lc3NhZ2UiLCJzZXROZXdNZXNzYWdlIiwiaXNNaW5pbWl6ZWQiLCJzZXRJc01pbmltaXplZCIsImNoYXRIZWlnaHQiLCJzZXRDaGF0SGVpZ2h0IiwidXNlcnMiLCJzZXRVc2VycyIsImlzUm9vbUluZm9NaW5pbWl6ZWQiLCJzZXRJc1Jvb21JbmZvTWluaW1pemVkIiwicm9vbUluZm9IZWlnaHQiLCJzZXRSb29tSW5mb0hlaWdodCIsInNlbGVjdGlvblN0YXJ0Iiwic2V0U2VsZWN0aW9uU3RhcnQiLCJzZWxlY3RlZEVsZW1lbnRzIiwic2V0U2VsZWN0ZWRFbGVtZW50cyIsImlzRHJhZ2dpbmdTZWxlY3Rpb24iLCJzZXRJc0RyYWdnaW5nU2VsZWN0aW9uIiwiZmFicmljUmVmIiwicm9vbVJlZiIsInVuc3Vic2NyaWJlIiwic25hcHNob3QiLCJkYXRhIiwidmFsIiwiT2JqZWN0IiwidmFsdWVzIiwiaW1hZ2VzUmVmIiwiY3VycmVudCIsInN0YWdlIiwic3RhZ2VSZWYiLCJub2RlIiwiZmluZE9uZSIsIm5vZGVzIiwiZ2V0TGF5ZXIiLCJiYXRjaERyYXciLCJtZXNzYWdlc1JlZiIsIm1lc3NhZ2VMaXN0IiwiZW50cmllcyIsIm1hcCIsImlkIiwibXNnIiwidGV4dCIsInRpbWVzdGFtcCIsInNvcnQiLCJhIiwiYiIsInVzZXJzUmVmIiwidXNlckxpc3QiLCJrZXlzIiwidXNlclJlZiIsImxhc3RBY3RpdmUiLCJnZXRMaW5lUHJvcGVydGllcyIsInRvb2xUeXBlIiwidGVuc2lvbiIsIm9wYWNpdHkiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSIsImJlemllciIsImhhbmRsZVdoZWVsIiwiZSIsImV2dCIsInByZXZlbnREZWZhdWx0Iiwic2NhbGVCeSIsInRhcmdldCIsImdldFN0YWdlIiwib2xkU2NhbGUiLCJzY2FsZVgiLCJtb3VzZVBvaW50VG8iLCJnZXRQb2ludGVyUG9zaXRpb24iLCJuZXdTY2FsZSIsImRlbHRhWSIsImhhbmRsZU1vdXNlRG93biIsInBvcyIsImdldFJlbGF0aXZlUG9pbnRlclBvc2l0aW9uIiwiaXNSaWdodENsaWNrIiwiYnV0dG9uIiwiaXNNaWRkbGVDbGljayIsImNsaWNrZWRPbkltYWdlIiwiY2xhc3NOYW1lIiwiY3RybEtleSIsIm1ldGFLZXkiLCJsaW5lUHJvcHMiLCJuZXdMaW5lIiwicG9pbnRzIiwibmV3TGluZVJlZiIsImhhbmRsZU1vdXNlTW92ZSIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsImRlYm91bmNlZFVwZGF0ZSIsImxlbmd0aCIsImhhbmRsZU1vdXNlVXAiLCJzZWxlY3RlZCIsImZpbHRlciIsImxpbmUiLCJzb21lIiwicG9pbnQiLCJpIiwiTWF0aCIsIm1pbiIsIm1heCIsInpvb21JbiIsInpvb21PdXQiLCJyZXNldFpvb20iLCJoYW5kbGVSZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNvbnRleHRNZW51IiwiaGFuZGxlQ2xlYXJDYW52YXMiLCJoYW5kbGVDbGVhckFsbCIsImhhbmRsZURyYWdPdmVyIiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlRHJvcCIsImZpbGUiLCJkYXRhVHJhbnNmZXIiLCJmaWxlcyIsInR5cGUiLCJzdGFydHNXaXRoIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImV2ZW50IiwiaW1nRGF0YSIsInJlc3VsdCIsImltYWdlSWQiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJpbWciLCJzcmMiLCJuZXdJbWFnZSIsIm5hdGl2ZUV2ZW50Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJwcmV2SW1hZ2VzIiwiZGJJbWFnZVJlZiIsInJlYWRBc0RhdGFVUkwiLCJoYW5kbGVJbWFnZVRyYW5zZm9ybSIsIm5ld1Byb3BzIiwiaW1hZ2VSZWYiLCJ1cGRhdGVkSW1hZ2UiLCJmaW5kIiwiY2hlY2tEZXNlbGVjdCIsImNsaWNrZWRPbkVtcHR5IiwiZG9jdW1lbnQiLCJwYXRoIiwiZGJSZWYiLCJpbWFnZUNhY2hlIiwiY2FjaGUiLCJmb3JFYWNoIiwiaW1hZ2UiLCJyZW5kZXJMaW5lcyIsInN0cm9rZSIsImRhc2giLCJyZW5kZXJJbWFnZXMiLCJGcmFnbWVudCIsImRyYWdnYWJsZSIsIm9uQ2xpY2siLCJvbkRyYWdTdGFydCIsIm9uRHJhZ01vdmUiLCJvbkRyYWdFbmQiLCJyYWRpdXMiLCJmaWxsIiwiYm91bmRCb3hGdW5jIiwib2xkQm94IiwibmV3Qm94IiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJlbmFibGVkQW5jaG9ycyIsInJvdGF0ZUVuYWJsZWQiLCJrZWVwUmF0aW8iLCJwYWRkaW5nIiwiYW5jaG9yU2l6ZSIsImFuY2hvckNvcm5lclJhZGl1cyIsImJvcmRlckVuYWJsZWQiLCJib3JkZXJTdHJva2UiLCJib3JkZXJTdHJva2VXaWR0aCIsImFuY2hvclN0cm9rZSIsImFuY2hvckZpbGwiLCJvblRyYW5zZm9ybUVuZCIsInNjYWxlWSIsImhhbmRsZVNlbmRNZXNzYWdlIiwibmV3TWVzc2FnZVJlZiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJ0cmltIiwiaGFzTWVzc2FnZSIsIkJvb2xlYW4iLCJoYXNOaWNrbmFtZSIsImhhc1Jvb21JZCIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwiZXJyb3JTdGFjayIsInN0YWNrIiwidW5kZWZpbmVkIiwiaGFuZGxlUmVzaXplU3RhcnQiLCJtb3ZlRXZlbnQiLCJjaGF0Q29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250YWluZXJSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibWF4SGVpZ2h0IiwibmV3SGVpZ2h0IiwiYm90dG9tIiwiY2xpZW50WSIsImhhbmRsZVJvb21JbmZvUmVzaXplIiwiY29udGFpbmVyIiwidG9wIiwiaGFuZGxlSW1hZ2VVcGxvYWQiLCJmcm9tVVJMIiwiY3Jvc3NPcmlnaW4iLCJwb2ludGVyIiwibGVmdCIsImNvcm5lckNvbG9yIiwiY29ybmVyU3Ryb2tlQ29sb3IiLCJjb3JuZXJTaXplIiwidHJhbnNwYXJlbnRDb3JuZXJzIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJTY2FsZUZhY3RvciIsImFkZCIsImNhbnZhc0VsZW1lbnQiLCJjYW52YXMiLCJvbiIsIm9iaiIsImdldCIsImRpc3Bvc2UiLCJzZWxlY3Rpb24iLCJmb3JFYWNoT2JqZWN0Iiwic2VsZWN0YWJsZSIsInJlbmRlckFsbCIsInRlc3RSZWYiLCJnZW5lcmF0ZVBhc3RlbENvbG9yIiwic2VlZCIsImhhc2giLCJjaGFyQ29kZUF0IiwiaHVlIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsImhhbmRsZVN0aWNrZXJTZWxlY3QiLCJzdGlja2VyVXJsIiwiY29udGVudCIsImRpdiIsIm9uRHJhZ092ZXIiLCJvbkRyb3AiLCJvbk1vdXNlRG93biIsIm9uTW91c2Vtb3ZlIiwib25Nb3VzZXVwIiwib25Nb3VzZWxlYXZlIiwib25XaGVlbCIsInN0eWxlIiwiYmFja2dyb3VuZCIsInRpdGxlIiwic2l6ZSIsImxhYmVsIiwiaHRtbEZvciIsImJhY2tncm91bmRDb2xvciIsImgzIiwic2Nyb2xsQmVoYXZpb3IiLCJlbCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVzZXJDb2xvciIsInAiLCJzcGFuIiwiY29sb3IiLCJvblN0aWNrZXJTZWxlY3QiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInRyYW5zaXRpb24iLCJ1bCIsInVzZXIiLCJpbmRleCIsImxpIiwiYWNjZXB0IiwiZGlzcGxheSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/Canvas/index.tsx\n"));

/***/ })

});