"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/whiteboard/[roomId]",{

/***/ "__barrel_optimize__?names=AiOutlineClose,AiOutlineDown,AiOutlineMenu,AiOutlineMessage,AiOutlineTeam,AiOutlineUp!=!./node_modules/react-icons/ai/index.mjs":
/*!*****************************************************************************************************************************************************************!*\
  !*** __barrel_optimize__?names=AiOutlineClose,AiOutlineDown,AiOutlineMenu,AiOutlineMessage,AiOutlineTeam,AiOutlineUp!=!./node_modules/react-icons/ai/index.mjs ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var D_ReactLearning_LiveChatRoom_draw_whiteboard_app_node_modules_react_icons_ai_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/react-icons/ai/index.mjs */ "./node_modules/react-icons/ai/index.mjs");
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in D_ReactLearning_LiveChatRoom_draw_whiteboard_app_node_modules_react_icons_ai_index_mjs__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => D_ReactLearning_LiveChatRoom_draw_whiteboard_app_node_modules_react_icons_ai_index_mjs__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./src/components/Canvas/index.tsx":
/*!*****************************************!*\
  !*** ./src/components/Canvas/index.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"./node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @swc/helpers/_/_to_consumable_array */ \"./node_modules/@swc/helpers/esm/_to_consumable_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-konva */ \"./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var _store_useCanvasStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store/useCanvasStore */ \"./src/store/useCanvasStore.ts\");\n/* harmony import */ var _config_firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config/firebase */ \"./src/config/firebase.ts\");\n/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/database */ \"./node_modules/firebase/database/dist/esm/index.esm.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/debounce */ \"./node_modules/lodash/debounce.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=AiOutlineClose,AiOutlineDown,AiOutlineMenu,AiOutlineMessage,AiOutlineTeam,AiOutlineUp!=!react-icons/ai */ \"__barrel_optimize__?names=AiOutlineClose,AiOutlineDown,AiOutlineMenu,AiOutlineMessage,AiOutlineTeam,AiOutlineUp!=!./node_modules/react-icons/ai/index.mjs\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/index.min.mjs\");\n/* harmony import */ var _components_StickerPicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/StickerPicker */ \"./src/components/StickerPicker/index.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nvar Canvas = function(param) {\n    var roomId = param.roomId, nickname = param.nickname;\n    _s();\n    var _useState = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), lines = _useState[0], setLines = _useState[1];\n    var _useState1 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isDrawing = _useState1[0], setIsDrawing = _useState1[1];\n    var _useState2 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isDragging = _useState2[0], setIsDragging = _useState2[1];\n    var _useState3 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), 2), currentLine = _useState3[0], setCurrentLine = _useState3[1];\n    var _useCanvasStore = (0,_store_useCanvasStore__WEBPACK_IMPORTED_MODULE_3__.useCanvasStore)(), tool = _useCanvasStore.tool, strokeWidth = _useCanvasStore.strokeWidth, strokeColor = _useCanvasStore.strokeColor, setStrokeColor = _useCanvasStore.setStrokeColor;\n    var _useState4 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1), 2), scale = _useState4[0], setScale = _useState4[1];\n    var _useState5 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    }), 2), position = _useState5[0], setPosition = _useState5[1];\n    var _useState6 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: window.innerWidth * 2,\n        height: window.innerHeight * 2\n    }), 2), stageSize = _useState6[0], setStageSize = _useState6[1];\n    var _useState7 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), dragMode = _useState7[0], setDragMode = _useState7[1];\n    var _useState8 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), images = _useState8[0], setImages = _useState8[1];\n    var _useState9 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), 2), selectedImage = _useState9[0], setSelectedImage = _useState9[1];\n    var transformerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var _useState10 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), messages = _useState10[0], setMessages = _useState10[1];\n    var _useState11 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(''), 2), newMessage = _useState11[0], setNewMessage = _useState11[1];\n    var _useState12 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isMinimized = _useState12[0], setIsMinimized = _useState12[1];\n    var _useState13 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(160), 2), chatHeight = _useState13[0], setChatHeight = _useState13[1]; // 預設高度 160px (4列)\n    var _useState14 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), users = _useState14[0], setUsers = _useState14[1];\n    var _useState15 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isRoomInfoMinimized = _useState15[0], setIsRoomInfoMinimized = _useState15[1];\n    var _useState16 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(200), 2), roomInfoHeight = _useState16[0], setRoomInfoHeight = _useState16[1]; // 預設高度\n    var _useState17 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), 2), selectionStart = _useState17[0], setSelectionStart = _useState17[1];\n    var _useState18 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), 2), selectedElements = _useState18[0], setSelectedElements = _useState18[1];\n    var _useState19 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isDraggingSelection = _useState19[0], setIsDraggingSelection = _useState19[1];\n    var fabricRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var _useState20 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isMobile = _useState20[0], setIsMobile = _useState20[1];\n    var _useState21 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showMobileMenu = _useState21[0], setShowMobileMenu = _useState21[1];\n    var _useState22 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showChat = _useState22[0], setShowChat = _useState22[1];\n    var _useState23 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showUsers = _useState23[0], setShowUsers = _useState23[1];\n    // Firebase 監聽\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var roomRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/lines\"));\n            var unsubscribe = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(roomRef, {\n                \"Canvas.useEffect.unsubscribe\": function(snapshot) {\n                    var data = snapshot.val();\n                    if (data) {\n                        setLines(Object.values(data));\n                    } else {\n                        setLines([]);\n                    }\n                }\n            }[\"Canvas.useEffect.unsubscribe\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return unsubscribe();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId\n    ]);\n    // 監聽 Firebase 中的圖片數據\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var imagesRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images\"));\n            var unsubscribe = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(imagesRef, {\n                \"Canvas.useEffect.unsubscribe\": function(snapshot) {\n                    var data = snapshot.val();\n                    if (data) {\n                        setImages(Object.values(data));\n                    } else {\n                        setImages([]);\n                    }\n                }\n            }[\"Canvas.useEffect.unsubscribe\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return unsubscribe();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId\n    ]);\n    // 當選中圖片變化時更新 Transformer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            if (selectedImage && transformerRef.current) {\n                var stage = stageRef.current;\n                if (!stage) return;\n                var node = stage.findOne(\"#\".concat(selectedImage));\n                if (node) {\n                    var _transformerRef_current_getLayer;\n                    transformerRef.current.nodes([\n                        node\n                    ]);\n                    (_transformerRef_current_getLayer = transformerRef.current.getLayer()) === null || _transformerRef_current_getLayer === void 0 ? void 0 : _transformerRef_current_getLayer.batchDraw();\n                }\n            }\n        }\n    }[\"Canvas.useEffect\"], [\n        selectedImage,\n        images\n    ]);\n    // 修改監聽聊天訊息的 useEffect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var messagesRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/messages\"));\n            var unsubscribe = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(messagesRef, {\n                \"Canvas.useEffect.unsubscribe\": function(snapshot) {\n                    var data = snapshot.val();\n                    if (data) {\n                        var messageList = Object.entries(data).map({\n                            \"Canvas.useEffect.unsubscribe.messageList\": function(param) {\n                                var _param = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_9__._)(param, 2), id = _param[0], msg = _param[1];\n                                return {\n                                    id: id,\n                                    nickname: msg.nickname,\n                                    text: msg.text || '',\n                                    type: msg.type || 'text',\n                                    content: msg.content || '',\n                                    timestamp: msg.timestamp\n                                };\n                            }\n                        }[\"Canvas.useEffect.unsubscribe.messageList\"]).sort({\n                            \"Canvas.useEffect.unsubscribe.messageList\": function(a, b) {\n                                return (a.timestamp || 0) - (b.timestamp || 0);\n                            }\n                        }[\"Canvas.useEffect.unsubscribe.messageList\"]);\n                        setMessages(messageList);\n                    } else {\n                        setMessages([]);\n                    }\n                }\n            }[\"Canvas.useEffect.unsubscribe\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return unsubscribe();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var usersRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/users\"));\n            var unsubscribe = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(usersRef, {\n                \"Canvas.useEffect.unsubscribe\": function(snapshot) {\n                    var data = snapshot.val();\n                    if (data) {\n                        var userList = Object.keys(data);\n                        setUsers(userList);\n                    }\n                }\n            }[\"Canvas.useEffect.unsubscribe\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return unsubscribe();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            if (roomId && nickname) {\n                var userRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/users/\").concat(nickname));\n                (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(userRef, {\n                    nickname: nickname,\n                    lastActive: (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.serverTimestamp)()\n                });\n                // 當用戶離開時移除\n                return ({\n                    \"Canvas.useEffect\": function() {\n                        (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(userRef, null);\n                    }\n                })[\"Canvas.useEffect\"];\n            }\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId,\n        nickname\n    ]);\n    var getLineProperties = function(toolType) {\n        switch(toolType){\n            case 'pencil':\n                return {\n                    tension: 0.3,\n                    opacity: 0.9,\n                    strokeWidth: strokeWidth * 0.8,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    globalCompositeOperation: 'source-over',\n                    shadowColor: strokeColor,\n                    shadowBlur: 0.5,\n                    shadowOffsetX: 0.2,\n                    shadowOffsetY: 0.2,\n                    bezier: true\n                };\n            case 'pen':\n                return {\n                    tension: 0.6,\n                    opacity: 1,\n                    strokeWidth: strokeWidth,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    shadowColor: strokeColor,\n                    shadowBlur: 0.2,\n                    bezier: true\n                };\n            case 'brush':\n                return {\n                    tension: 0.4,\n                    opacity: 0.7,\n                    strokeWidth: strokeWidth * 2,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    shadowColor: strokeColor,\n                    shadowBlur: 2,\n                    bezier: true\n                };\n            case 'marker':\n                return {\n                    tension: 0.2,\n                    opacity: 0.5,\n                    strokeWidth: strokeWidth * 2.5,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    shadowColor: strokeColor,\n                    shadowBlur: 0,\n                    bezier: false\n                };\n            case 'eraser':\n                return {\n                    tension: 0.3,\n                    opacity: 1,\n                    strokeWidth: strokeWidth * 2,\n                    lineCap: 'round',\n                    lineJoin: 'round',\n                    shadowBlur: 0,\n                    bezier: true\n                };\n            default:\n                return {\n                    tension: 0.5,\n                    opacity: 1,\n                    strokeWidth: strokeWidth,\n                    lineCap: 'round',\n                    lineJoin: 'round'\n                };\n        }\n    };\n    var handleWheel = function(e) {\n        e.evt.preventDefault();\n        var scaleBy = 1.1;\n        var stage = e.target.getStage();\n        var oldScale = stage.scaleX();\n        var mousePointTo = {\n            x: stage.getPointerPosition().x / oldScale - stage.x() / oldScale,\n            y: stage.getPointerPosition().y / oldScale - stage.y() / oldScale\n        };\n        var newScale = e.evt.deltaY < 0 ? oldScale * scaleBy : oldScale / scaleBy;\n        setScale(newScale);\n        setPosition({\n            x: -(mousePointTo.x - stage.getPointerPosition().x / newScale) * newScale,\n            y: -(mousePointTo.y - stage.getPointerPosition().y / newScale) * newScale\n        });\n    };\n    var handleMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleMouseDown]\": function(e) {\n            var stage = e.target.getStage();\n            var pos = stage.getRelativePointerPosition();\n            var isRightClick = e.evt.button === 2;\n            var isMiddleClick = e.evt.button === 1;\n            // 檢查是否點擊在圖片上\n            var clickedOnImage = e.target.className === 'Image';\n            // 修改判斷條件\n            if (isRightClick || isMiddleClick || e.evt.ctrlKey || e.evt.metaKey || dragMode) {\n                setIsDragging(true);\n                return;\n            }\n            // 如果是在選擇模點擊圖片，不開始繪製\n            if (tool === 'select' && clickedOnImage) {\n                return;\n            }\n            setIsDrawing(true);\n            var lineProps = getLineProperties(tool);\n            var newLine = (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_10__._)({\n                tool: tool,\n                points: [\n                    pos.x,\n                    pos.y\n                ],\n                strokeColor: tool === 'eraser' ? '#ffffff' : strokeColor\n            }, lineProps);\n            setCurrentLine(newLine);\n            var roomRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/lines\"));\n            var newLineRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.push)(roomRef);\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(newLineRef, newLine);\n        }\n    }[\"Canvas.useCallback[handleMouseDown]\"], [\n        tool,\n        strokeColor,\n        dragMode,\n        roomId\n    ]);\n    var handleMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleMouseMove]\": function(e) {\n            if (isDragging) {\n                var stage = e.target.getStage();\n                setPosition({\n                    x: stage.x() + e.evt.movementX,\n                    y: stage.y() + e.evt.movementY\n                });\n                return;\n            }\n            if (!isDrawing || !currentLine) return;\n            var stage1 = e.target.getStage();\n            var pos = stage1.getRelativePointerPosition();\n            var newLine = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_11__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_10__._)({}, currentLine), {\n                points: (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_12__._)(currentLine.points).concat([\n                    pos.x,\n                    pos.y\n                ])\n            });\n            setCurrentLine(newLine);\n            debouncedUpdate(\"rooms/\".concat(roomId, \"/lines/\").concat(lines.length), newLine);\n        }\n    }[\"Canvas.useCallback[handleMouseMove]\"], [\n        isDragging,\n        isDrawing,\n        currentLine,\n        roomId,\n        lines.length\n    ]);\n    var handleMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleMouseUp]\": function() {\n            setIsDrawing(false);\n            setIsDragging(false);\n            setCurrentLine(null);\n            if (tool === 'select' && selectionStart) {\n                var stage = stageRef.current;\n                var pos = stage.getRelativePointerPosition();\n                // 獲取選擇區域內的元素\n                var selected = lines.filter({\n                    \"Canvas.useCallback[handleMouseUp].selected\": function(line) {\n                        return line.points.some({\n                            \"Canvas.useCallback[handleMouseUp].selected\": function(point, i) {\n                                if (i % 2 === 0) {\n                                    var x = point;\n                                    var y = line.points[i + 1];\n                                    return x >= Math.min(selectionStart.x, pos.x) && x <= Math.max(selectionStart.x, pos.x) && y >= Math.min(selectionStart.y, pos.y) && y <= Math.max(selectionStart.y, pos.y);\n                                }\n                                return false;\n                            }\n                        }[\"Canvas.useCallback[handleMouseUp].selected\"]);\n                    }\n                }[\"Canvas.useCallback[handleMouseUp].selected\"]);\n                setSelectedElements(selected);\n                setIsDraggingSelection(true);\n            }\n            setSelectionStart(null);\n        }\n    }[\"Canvas.useCallback[handleMouseUp]\"], [\n        tool,\n        selectionStart,\n        lines\n    ]);\n    var zoomIn = function() {\n        setScale(scale * 1.2);\n    };\n    var zoomOut = function() {\n        setScale(scale / 1.2);\n    };\n    var resetZoom = function() {\n        setScale(1);\n        setPosition({\n            x: 0,\n            y: 0\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var handleResize = {\n                \"Canvas.useEffect.handleResize\": function() {\n                    setStageSize({\n                        width: window.innerWidth * 2,\n                        height: window.innerHeight * 2\n                    });\n                }\n            }[\"Canvas.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return window.removeEventListener('resize', handleResize);\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var handleContextMenu = {\n                \"Canvas.useEffect.handleContextMenu\": function(e) {\n                    e.preventDefault();\n                }\n            }[\"Canvas.useEffect.handleContextMenu\"];\n            window.addEventListener('contextmenu', handleContextMenu);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return window.removeEventListener('contextmenu', handleContextMenu);\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 清除畫布功\n    var handleClearCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleClearCanvas]\": function() {\n            var roomRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/lines\"));\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(roomRef, null);\n        }\n    }[\"Canvas.useCallback[handleClearCanvas]\"], [\n        roomId\n    ]);\n    // 添加清除全部功能\n    var handleClearAll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Canvas.useCallback[handleClearAll]\": function() {\n            var roomRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId));\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(roomRef, null); // 清除該房間的所有數據\n            setSelectedImage(null); // 重置選中圖片\n        }\n    }[\"Canvas.useCallback[handleClearAll]\"], [\n        roomId\n    ]);\n    var handleDragOver = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    var handleDrop = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var file = e.dataTransfer.files[0];\n        if (file && file.type.startsWith('image/')) {\n            var reader = new FileReader();\n            reader.onload = function(event) {\n                var _event_target;\n                var imgData = (_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result;\n                var imageId = Date.now().toString();\n                var img = new window.Image();\n                img.src = imgData;\n                img.onload = function() {\n                    var newImage = {\n                        id: imageId,\n                        x: e.nativeEvent.offsetX || 100,\n                        y: e.nativeEvent.offsetY || 100,\n                        width: img.width,\n                        height: img.height,\n                        src: imgData\n                    };\n                    // 更新狀態以觸發重新渲染\n                    setImages(function(prevImages) {\n                        return (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_12__._)(prevImages).concat([\n                            newImage\n                        ]);\n                    });\n                    // 同步到 Firebase\n                    var dbImageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(imageId));\n                    (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(dbImageRef, newImage);\n                };\n            };\n            reader.readAsDataURL(file);\n        }\n    };\n    var handleImageTransform = function(imageId, newProps) {\n        var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(imageId));\n        var updatedImage = images.find(function(img) {\n            return img.id === imageId;\n        });\n        if (updatedImage) {\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_10__._)({}, updatedImage, newProps));\n        }\n    };\n    // 添加 stage 引用\n    var stageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // 點擊空白處取消選中\n    var checkDeselect = function(e) {\n        var clickedOnEmpty = e.target === e.target.getStage();\n        if (clickedOnEmpty) {\n            setSelectedImage(null);\n        }\n    };\n    // 防止中鍵點擊的預設行為（通常是自動滾動）\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var preventDefault = {\n                \"Canvas.useEffect.preventDefault\": function(e) {\n                    return e.preventDefault();\n                }\n            }[\"Canvas.useEffect.preventDefault\"];\n            document.addEventListener('mousedown', {\n                \"Canvas.useEffect\": function(e) {\n                    if (e.button === 1) preventDefault(e);\n                }\n            }[\"Canvas.useEffect\"]);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    document.removeEventListener('mousedown', preventDefault);\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 使用防抖優化 Firebase 更新\n    var debouncedUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default()({\n        \"Canvas.useCallback[debouncedUpdate]\": function(path, data) {\n            var dbRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, path);\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(dbRef, data);\n        }\n    }[\"Canvas.useCallback[debouncedUpdate]\"], 30), []);\n    // 優化圖片渲染\n    var imageCache = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Canvas.useMemo[imageCache]\": function() {\n            var cache = {};\n            images.forEach({\n                \"Canvas.useMemo[imageCache]\": function(image) {\n                    if (!cache[image.src]) {\n                        var img = new window.Image();\n                        img.src = image.src;\n                        cache[image.src] = img;\n                    }\n                }\n            }[\"Canvas.useMemo[imageCache]\"]);\n            return cache;\n        }\n    }[\"Canvas.useMemo[imageCache]\"], [\n        images\n    ]);\n    // 使用 memo 優化渲染\n    var renderLines = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Canvas.useMemo[renderLines]\": function() {\n            return lines.map({\n                \"Canvas.useMemo[renderLines]\": function(line, i) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                        points: line.points,\n                        stroke: line.strokeColor,\n                        strokeWidth: line.strokeWidth / scale,\n                        tension: line.tension,\n                        opacity: line.opacity,\n                        dash: line.dash,\n                        lineCap: \"round\",\n                        lineJoin: \"round\",\n                        globalCompositeOperation: line.tool === 'eraser' ? 'destination-out' : 'source-over'\n                    }, i, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 502,\n                        columnNumber: 7\n                    }, _this);\n                }\n            }[\"Canvas.useMemo[renderLines]\"]);\n        }\n    }[\"Canvas.useMemo[renderLines]\"], [\n        lines,\n        scale\n    ]);\n    var renderImages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Canvas.useMemo[renderImages]\": function() {\n            return images.map({\n                \"Canvas.useMemo[renderImages]\": function(image, i) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Image, {\n                                id: image.id,\n                                image: imageCache[image.src],\n                                x: image.x,\n                                y: image.y,\n                                width: image.width,\n                                height: image.height,\n                                draggable: true,\n                                onClick: {\n                                    \"Canvas.useMemo[renderImages]\": function() {\n                                        return setSelectedImage(image.id);\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"],\n                                onDragStart: {\n                                    \"Canvas.useMemo[renderImages]\": function(e) {\n                                        e.evt.stopPropagation();\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"],\n                                onDragMove: {\n                                    \"Canvas.useMemo[renderImages]\": function(e) {\n                                        e.evt.stopPropagation();\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"],\n                                onDragEnd: {\n                                    \"Canvas.useMemo[renderImages]\": function(e) {\n                                        e.evt.stopPropagation();\n                                        var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(image.id));\n                                        (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_11__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_10__._)({}, image), {\n                                            x: e.target.x(),\n                                            y: e.target.y()\n                                        }));\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"]\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 522,\n                                columnNumber: 9\n                            }, _this),\n                            (selectedImage === image.id || dragMode) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n                                x: image.x + image.width - 20,\n                                y: image.y - 20,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Circle, {\n                                        radius: 10,\n                                        fill: \"red\",\n                                        onClick: {\n                                            \"Canvas.useMemo[renderImages]\": function() {\n                                                // 刪除圖片\n                                                var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(image.id));\n                                                (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, null);\n                                                setSelectedImage(null);\n                                            }\n                                        }[\"Canvas.useMemo[renderImages]\"]\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 549,\n                                        columnNumber: 13\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                                        points: [\n                                            -5,\n                                            -5,\n                                            5,\n                                            5\n                                        ],\n                                        stroke: \"white\",\n                                        strokeWidth: 2\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 559,\n                                        columnNumber: 13\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                                        points: [\n                                            5,\n                                            -5,\n                                            -5,\n                                            5\n                                        ],\n                                        stroke: \"white\",\n                                        strokeWidth: 2\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 564,\n                                        columnNumber: 13\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 548,\n                                columnNumber: 11\n                            }, _this),\n                            selectedImage === image.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Transformer, {\n                                ref: transformerRef,\n                                boundBoxFunc: {\n                                    \"Canvas.useMemo[renderImages]\": function(oldBox, newBox) {\n                                        var minWidth = 5;\n                                        var minHeight = 5;\n                                        if (newBox.width < minWidth || newBox.height < minHeight) {\n                                            return oldBox;\n                                        }\n                                        return newBox;\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"],\n                                enabledAnchors: [\n                                    'top-left',\n                                    'top-right',\n                                    'bottom-left',\n                                    'bottom-right',\n                                    'middle-left',\n                                    'middle-right',\n                                    'top-center',\n                                    'bottom-center'\n                                ],\n                                rotateEnabled: false,\n                                keepRatio: false,\n                                padding: 5,\n                                anchorSize: 10,\n                                anchorCornerRadius: 5,\n                                borderEnabled: true,\n                                borderStroke: \"#00ff00\",\n                                borderStrokeWidth: 2,\n                                anchorStroke: \"#00ff00\",\n                                anchorFill: \"#ffffff\",\n                                onTransformEnd: {\n                                    \"Canvas.useMemo[renderImages]\": function(e) {\n                                        var node = e.target;\n                                        var scaleX = node.scaleX();\n                                        var scaleY = node.scaleY();\n                                        // 重置縮放\n                                        node.scaleX(1);\n                                        node.scaleY(1);\n                                        var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(image.id));\n                                        (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_11__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_10__._)({}, image), {\n                                            x: node.x(),\n                                            y: node.y(),\n                                            width: Math.max(5, node.width() * scaleX),\n                                            height: Math.max(5, node.height() * scaleY)\n                                        }));\n                                    }\n                                }[\"Canvas.useMemo[renderImages]\"]\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 572,\n                                columnNumber: 11\n                            }, _this)\n                        ]\n                    }, i, true, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 521,\n                        columnNumber: 7\n                    }, _this);\n                }\n            }[\"Canvas.useMemo[renderImages]\"]);\n        }\n    }[\"Canvas.useMemo[renderImages]\"], [\n        images,\n        imageCache,\n        selectedImage,\n        roomId\n    ]);\n    var handleSendMessage = /*#__PURE__*/ function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_13__._)(function(e) {\n            var messagesRef, newMessageRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_14__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        e.preventDefault();\n                        console.log('Attempting to send message:', {\n                            roomId: roomId,\n                            nickname: nickname,\n                            message: newMessage,\n                            timestamp: new Date()\n                        });\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        if (!(newMessage.trim() && nickname && roomId)) return [\n                            3,\n                            3\n                        ];\n                        console.log('Creating message ref for room:', roomId);\n                        messagesRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/messages\"));\n                        newMessageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.push)(messagesRef);\n                        console.log('Setting message data');\n                        return [\n                            4,\n                            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(newMessageRef, {\n                                nickname: nickname,\n                                text: newMessage.trim(),\n                                timestamp: (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.serverTimestamp)()\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log('Message sent successfully');\n                        setNewMessage('');\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        console.log('Missing required fields:', {\n                            hasMessage: Boolean(newMessage.trim()),\n                            hasNickname: Boolean(nickname),\n                            hasRoomId: Boolean(roomId)\n                        });\n                        _state.label = 4;\n                    case 4:\n                        return [\n                            3,\n                            6\n                        ];\n                    case 5:\n                        error = _state.sent();\n                        console.error('Error details:', {\n                            error: error,\n                            errorMessage: error instanceof Error ? error.message : 'Unknown error',\n                            errorStack: error instanceof Error ? error.stack : undefined\n                        });\n                        return [\n                            3,\n                            6\n                        ];\n                    case 6:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function handleSendMessage(e) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    var handleResizeStart = function(e) {\n        e.preventDefault();\n        var handleMouseMove = function(moveEvent) {\n            var chatContainer = document.getElementById('chat-container');\n            if (!chatContainer) return;\n            var containerRect = chatContainer.getBoundingClientRect();\n            var maxHeight = window.innerHeight / 2; // 最大高度為螢幕高度的一半\n            var minHeight = 80; // 最小高度 (2列)\n            var newHeight = Math.max(minHeight, Math.min(maxHeight, containerRect.bottom - moveEvent.clientY));\n            setChatHeight(newHeight + 80); // 加上頭部和輸入框的高度\n        };\n        var handleMouseUp = function() {\n            document.removeEventListener('mousemove', handleMouseMove);\n            document.removeEventListener('mouseup', handleMouseUp);\n        };\n        document.addEventListener('mousemove', handleMouseMove);\n        document.addEventListener('mouseup', handleMouseUp);\n    };\n    var handleRoomInfoResize = function(e) {\n        e.preventDefault();\n        var handleMouseMove = function(moveEvent) {\n            var container = document.getElementById('room-info-container');\n            if (!container) return;\n            var containerRect = container.getBoundingClientRect();\n            var newHeight = Math.max(100, Math.min(400, moveEvent.clientY - containerRect.top));\n            setRoomInfoHeight(newHeight);\n        };\n        var handleMouseUp = function() {\n            document.removeEventListener('mousemove', handleMouseMove);\n            document.removeEventListener('mouseup', handleMouseUp);\n        };\n        document.addEventListener('mousemove', handleMouseMove);\n        document.addEventListener('mouseup', handleMouseUp);\n    };\n    var handleImageUpload = function(e) {\n        var _e_target_files;\n        var file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (file) {\n            var reader = new FileReader();\n            reader.onload = function(event) {\n                var _event_target;\n                var imgData = (_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result;\n                // @ts-ignore\n                fabric__WEBPACK_IMPORTED_MODULE_15__.Image.fromURL(imgData, {\n                    crossOrigin: 'anonymous'\n                }, function(img) {\n                    var _fabricRef_current;\n                    var imageId = Date.now().toString();\n                    var pointer = {\n                        x: e.nativeEvent.offsetX || 100,\n                        y: e.nativeEvent.offsetY || 100\n                    };\n                    img.set({\n                        left: pointer.x,\n                        top: pointer.y,\n                        cornerColor: 'blue',\n                        cornerStrokeColor: 'blue',\n                        cornerSize: 12,\n                        transparentCorners: false,\n                        borderColor: 'blue',\n                        borderScaleFactor: 2,\n                        padding: 5,\n                        data: {\n                            id: imageId,\n                            src: imgData\n                        }\n                    });\n                    (_fabricRef_current = fabricRef.current) === null || _fabricRef_current === void 0 ? void 0 : _fabricRef_current.add(img);\n                    // 同步到 Firebase\n                    var dbImageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(imageId));\n                    (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(dbImageRef, {\n                        id: imageId,\n                        x: img.left,\n                        y: img.top,\n                        width: img.width,\n                        height: img.height,\n                        src: imgData\n                    });\n                });\n            };\n            reader.readAsDataURL(file);\n        }\n    };\n    // 初始化 Fabric.js canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            if (stageRef.current) {\n                var canvasElement = stageRef.current.canvas;\n                fabricRef.current = new fabric__WEBPACK_IMPORTED_MODULE_15__.Canvas(canvasElement, {\n                    width: window.innerWidth,\n                    height: window.innerHeight\n                });\n                // 設置 Fabric.js 的事件處理\n                fabricRef.current.on('object:modified', {\n                    \"Canvas.useEffect\": function(e) {\n                        var obj = e.target;\n                        if (obj && obj.type === 'image') {\n                            var _obj_get;\n                            var imageId = (_obj_get = obj.get('data')) === null || _obj_get === void 0 ? void 0 : _obj_get.id;\n                            if (imageId) {\n                                var _obj_get1;\n                                var imageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/images/\").concat(imageId));\n                                (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(imageRef, {\n                                    id: imageId,\n                                    x: obj.left,\n                                    y: obj.top,\n                                    width: obj.width * obj.scaleX,\n                                    height: obj.height * obj.scaleY,\n                                    src: (_obj_get1 = obj.get('data')) === null || _obj_get1 === void 0 ? void 0 : _obj_get1.src\n                                });\n                            }\n                        }\n                    }\n                }[\"Canvas.useEffect\"]);\n            }\n            return ({\n                \"Canvas.useEffect\": function() {\n                    var _fabricRef_current;\n                    (_fabricRef_current = fabricRef.current) === null || _fabricRef_current === void 0 ? void 0 : _fabricRef_current.dispose();\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 在工具切換時處理 Fabric.js 的交互模式\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            if (fabricRef.current) {\n                if (tool === 'select') {\n                    fabricRef.current.selection = true;\n                    fabricRef.current.forEachObject({\n                        \"Canvas.useEffect\": function(obj) {\n                            obj.selectable = true;\n                        }\n                    }[\"Canvas.useEffect\"]);\n                } else {\n                    fabricRef.current.selection = false;\n                    fabricRef.current.forEachObject({\n                        \"Canvas.useEffect\": function(obj) {\n                            obj.selectable = false;\n                        }\n                    }[\"Canvas.useEffect\"]);\n                }\n                fabricRef.current.renderAll();\n            }\n        }\n    }[\"Canvas.useEffect\"], [\n        tool\n    ]);\n    // 在組件頂部添加 props 檢查\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            console.log('Canvas component props:', {\n                roomId: roomId,\n                nickname: nickname\n            });\n        }\n    }[\"Canvas.useEffect\"], [\n        roomId,\n        nickname\n    ]);\n    // 檢查 Firebase 連接\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            console.log('Firebase database instance:', _config_firebase__WEBPACK_IMPORTED_MODULE_4__.database);\n            // 測試 Firebase 連接\n            var testRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, '.info/connected');\n            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.onValue)(testRef, {\n                \"Canvas.useEffect\": function(snapshot) {\n                    console.log('Firebase connection status:', snapshot.val());\n                }\n            }[\"Canvas.useEffect\"]);\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 修改生成更淺色的函數\n    var generatePastelColor = function(seed) {\n        var hash = 0;\n        for(var i = 0; i < seed.length; i++){\n            hash = seed.charCodeAt(i) + ((hash << 5) - hash);\n        }\n        // 調整為更淺的顏色\n        var hue = hash % 360;\n        var saturation = 50 + hash % 20; // 降低飽和度到 50-70%\n        var lightness = 80 + hash % 10; // 提高亮度到 80-90%\n        return \"hsl(\".concat(hue, \", \").concat(saturation, \"%, \").concat(lightness, \"%)\");\n    };\n    var handleStickerSelect = /*#__PURE__*/ function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_13__._)(function(stickerUrl) {\n            var messagesRef, newMessageRef, newMessage, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_14__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        console.log('Sending sticker:', stickerUrl); // 添加日誌\n                        if (!(nickname && roomId)) return [\n                            3,\n                            2\n                        ];\n                        messagesRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.ref)(_config_firebase__WEBPACK_IMPORTED_MODULE_4__.database, \"rooms/\".concat(roomId, \"/messages\"));\n                        newMessageRef = (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.push)(messagesRef);\n                        newMessage = {\n                            nickname: nickname,\n                            type: 'sticker',\n                            content: stickerUrl,\n                            text: '',\n                            timestamp: (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.serverTimestamp)()\n                        };\n                        console.log('New message object:', newMessage); // 添加日誌\n                        return [\n                            4,\n                            (0,firebase_database__WEBPACK_IMPORTED_MODULE_5__.set)(newMessageRef, newMessage)\n                        ];\n                    case 1:\n                        _state.sent();\n                        _state.label = 2;\n                    case 2:\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error('Error sending sticker:', error);\n                        return [\n                            3,\n                            4\n                        ];\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function handleStickerSelect(stickerUrl) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    // 在 useEffect 中監聽螢幕寬度變化\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Canvas.useEffect\": function() {\n            var checkIsMobile = {\n                \"Canvas.useEffect.checkIsMobile\": function() {\n                    setIsMobile(window.innerWidth < 768); // 768px 是常用的手機/平板分界點\n                }\n            }[\"Canvas.useEffect.checkIsMobile\"];\n            checkIsMobile();\n            window.addEventListener('resize', checkIsMobile);\n            return ({\n                \"Canvas.useEffect\": function() {\n                    return window.removeEventListener('resize', checkIsMobile);\n                }\n            })[\"Canvas.useEffect\"];\n        }\n    }[\"Canvas.useEffect\"], []);\n    // 渲染不同的布局\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Stage, {\n                ref: stageRef,\n                width: window.innerWidth,\n                height: window.innerHeight,\n                onMouseDown: handleMouseDown,\n                onMousemove: handleMouseMove,\n                onMouseup: handleMouseUp,\n                onMouseleave: handleMouseUp,\n                onWheel: handleWheel,\n                scaleX: scale,\n                scaleY: scale,\n                x: position.x,\n                y: position.y,\n                style: {\n                    background: '#ffffff'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                    children: [\n                        renderImages,\n                        renderLines,\n                        currentLine && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                            points: currentLine.points,\n                            stroke: currentLine.strokeColor,\n                            strokeWidth: currentLine.strokeWidth / scale,\n                            tension: currentLine.tension,\n                            opacity: currentLine.opacity,\n                            dash: currentLine.dash,\n                            lineCap: \"round\",\n                            lineJoin: \"round\",\n                            globalCompositeOperation: currentLine.tool === 'eraser' ? 'destination-out' : 'source-over'\n                        }, void 0, false, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 898,\n                            columnNumber: 13\n                        }, _this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                    lineNumber: 894,\n                    columnNumber: 9\n                }, _this)\n            }, void 0, false, {\n                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                lineNumber: 879,\n                columnNumber: 7\n            }, _this),\n            !isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed top-4 right-4 w-64 bg-black bg-opacity-50 rounded-lg shadow-lg z-40\",\n                        style: {\n                            height: isRoomInfoMinimized ? '40px' : \"\".concat(roomInfoHeight, \"px\"),\n                            transition: 'height 0.2s'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center p-2 border-b border-white border-opacity-20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-white text-sm font-medium truncate\",\n                                                children: [\n                                                    \"房間名: \",\n                                                    roomId\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 928,\n                                                columnNumber: 17\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white text-sm whitespace-nowrap\",\n                                                children: [\n                                                    \"(\",\n                                                    users.length,\n                                                    \"人)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 929,\n                                                columnNumber: 17\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 927,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function() {\n                                            return setIsRoomInfoMinimized(!isRoomInfoMinimized);\n                                        },\n                                        className: \"text-white hover:text-gray-300 p-1\",\n                                        children: isRoomInfoMinimized ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineDown, {}, void 0, false, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 935,\n                                            columnNumber: 40\n                                        }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineUp, {}, void 0, false, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 935,\n                                            columnNumber: 60\n                                        }, _this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 931,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 926,\n                                columnNumber: 13\n                            }, _this),\n                            !isRoomInfoMinimized && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"overflow-y-auto px-2\",\n                                        style: {\n                                            height: \"\".concat(roomInfoHeight - 70, \"px\")\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"py-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-white text-sm mb-1\",\n                                                    children: \"在線成員：\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                    lineNumber: 946,\n                                                    columnNumber: 21\n                                                }, _this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                    className: \"space-y-1\",\n                                                    children: users.map(function(user, index) {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                            className: \"text-white text-sm pl-2 truncate\",\n                                                            children: user\n                                                        }, index, false, {\n                                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                            lineNumber: 949,\n                                                            columnNumber: 25\n                                                        }, _this);\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                    lineNumber: 947,\n                                                    columnNumber: 21\n                                                }, _this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 945,\n                                            columnNumber: 19\n                                        }, _this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 941,\n                                        columnNumber: 17\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-0 left-0 w-full h-1 cursor-ns-resize hover:bg-gray-500\",\n                                        onMouseDown: handleRoomInfoResize,\n                                        style: {\n                                            backgroundColor: 'transparent'\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 957,\n                                        columnNumber: 17\n                                    }, _this)\n                                ]\n                            }, void 0, true)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 919,\n                        columnNumber: 11\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed bottom-4 right-4 w-64 bg-black bg-opacity-50 rounded-lg shadow-lg z-40\",\n                        style: {\n                            height: isMinimized ? '40px' : \"\".concat(chatHeight, \"px\"),\n                            transition: 'height 0.2s'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center p-2 border-b border-white border-opacity-20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-white text-sm font-medium\",\n                                        children: \"聊天室\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 975,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function() {\n                                            return setIsMinimized(!isMinimized);\n                                        },\n                                        className: \"text-white hover:text-gray-300 p-1\",\n                                        children: isMinimized ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineDown, {}, void 0, false, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 980,\n                                            columnNumber: 32\n                                        }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineUp, {}, void 0, false, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 980,\n                                            columnNumber: 52\n                                        }, _this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 976,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 974,\n                                columnNumber: 13\n                            }, _this),\n                            !isMinimized && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"overflow-y-auto\",\n                                        style: {\n                                            height: \"\".concat(chatHeight - 90, \"px\")\n                                        },\n                                        children: messages.map(function(msg) {\n                                            var userColor = generatePastelColor(msg.nickname);\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"px-3 py-2 hover:bg-black hover:bg-opacity-40\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm break-words flex items-start\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: userColor\n                                                            },\n                                                            className: \"mr-2 flex-shrink-0 truncate max-w-[80px]\",\n                                                            children: [\n                                                                msg.nickname,\n                                                                \":\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                            lineNumber: 998,\n                                                            columnNumber: 27\n                                                        }, _this),\n                                                        msg.type === 'sticker' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"relative w-32 h-32 inline-block\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_8___default()), {\n                                                                src: msg.content || '',\n                                                                alt: \"sticker\",\n                                                                fill: true,\n                                                                className: \"object-contain\",\n                                                                unoptimized: true\n                                                            }, void 0, false, {\n                                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                                lineNumber: 1003,\n                                                                columnNumber: 31\n                                                            }, _this)\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                            lineNumber: 1002,\n                                                            columnNumber: 29\n                                                        }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-white break-all\",\n                                                            children: msg.text\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                            lineNumber: 1012,\n                                                            columnNumber: 29\n                                                        }, _this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                    lineNumber: 997,\n                                                    columnNumber: 25\n                                                }, _this)\n                                            }, msg.id, false, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 993,\n                                                columnNumber: 23\n                                            }, _this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 986,\n                                        columnNumber: 17\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 p-2 border-t border-gray-700\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StickerPicker__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                onStickerSelect: handleStickerSelect\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 1021,\n                                                columnNumber: 19\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: newMessage,\n                                                onChange: function(e) {\n                                                    return setNewMessage(e.target.value);\n                                                },\n                                                placeholder: \"輸入訊息...\",\n                                                className: \"flex-1 px-3 py-1 bg-black bg-opacity-50 text-white border border-white border-opacity-20 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 1022,\n                                                columnNumber: 19\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleSendMessage,\n                                                className: \"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm whitespace-nowrap\",\n                                                children: \"發送\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 1029,\n                                                columnNumber: 19\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1020,\n                                        columnNumber: 17\n                                    }, _this)\n                                ]\n                            }, void 0, true)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 967,\n                        columnNumber: 11\n                    }, _this)\n                ]\n            }, void 0, true),\n            isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed top-0 left-0 right-0 bg-black bg-opacity-50 z-40 border-b border-white border-opacity-20\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-between items-center p-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-white text-sm font-medium truncate\",\n                                            children: [\n                                                \"房間：\",\n                                                roomId\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 1051,\n                                            columnNumber: 17\n                                        }, _this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white text-xs\",\n                                            children: [\n                                                \"(\",\n                                                users.length,\n                                                \"人)\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 1054,\n                                            columnNumber: 17\n                                        }, _this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                    lineNumber: 1050,\n                                    columnNumber: 15\n                                }, _this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: function() {\n                                        return setShowMobileMenu(!showMobileMenu);\n                                    },\n                                    className: \"text-white p-2\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineMenu, {}, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1060,\n                                        columnNumber: 17\n                                    }, _this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                    lineNumber: 1056,\n                                    columnNumber: 15\n                                }, _this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 1049,\n                            columnNumber: 13\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 1046,\n                        columnNumber: 11\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed bottom-0 left-0 right-0 bg-black bg-opacity-50 z-40 transition-transform duration-300 \".concat(showChat ? 'translate-y-0' : 'translate-y-full'),\n                        style: {\n                            maxHeight: '70vh'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center p-2 border-b border-white border-opacity-20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-white text-sm font-medium\",\n                                        children: \"聊天室\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1073,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function() {\n                                            return setShowChat(false);\n                                        },\n                                        className: \"text-white p-2\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineDown, {}, void 0, false, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 1078,\n                                            columnNumber: 17\n                                        }, _this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1074,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1072,\n                                columnNumber: 13\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-[calc(70vh-120px)] overflow-y-auto\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1082,\n                                columnNumber: 13\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2 p-2 border-t border-gray-700\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StickerPicker__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        onStickerSelect: handleStickerSelect\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1087,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        value: newMessage,\n                                        onChange: function(e) {\n                                            return setNewMessage(e.target.value);\n                                        },\n                                        placeholder: \"輸入訊息...\",\n                                        className: \"flex-1 px-3 py-2 bg-black bg-opacity-50 text-white border border-white border-opacity-20 rounded-lg\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1088,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleSendMessage,\n                                        className: \"px-4 py-2 bg-blue-500 text-white rounded-lg\",\n                                        children: \"發送\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                        lineNumber: 1095,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1086,\n                                columnNumber: 13\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 1066,\n                        columnNumber: 11\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed bottom-4 right-4 flex flex-col gap-2 z-50\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function() {\n                                    return setShowChat(true);\n                                },\n                                className: \"p-3 bg-blue-500 text-white rounded-full shadow-lg\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineMessage, {}, void 0, false, {\n                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                    lineNumber: 1110,\n                                    columnNumber: 15\n                                }, _this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1106,\n                                columnNumber: 13\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function() {\n                                    return setShowUsers(true);\n                                },\n                                className: \"p-3 bg-green-500 text-white rounded-full shadow-lg\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineTeam, {}, void 0, false, {\n                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                    lineNumber: 1116,\n                                    columnNumber: 15\n                                }, _this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                lineNumber: 1112,\n                                columnNumber: 13\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 1105,\n                        columnNumber: 11\n                    }, _this),\n                    showUsers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed inset-0 bg-black bg-opacity-50 z-50\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute right-0 top-0 bottom-0 w-64 bg-gray-900 p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-white\",\n                                            children: \"在線成員\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 1125,\n                                            columnNumber: 19\n                                        }, _this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: function() {\n                                                return setShowUsers(false);\n                                            },\n                                            className: \"text-white\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineClose_AiOutlineDown_AiOutlineMenu_AiOutlineMessage_AiOutlineTeam_AiOutlineUp_react_icons_ai__WEBPACK_IMPORTED_MODULE_16__.AiOutlineClose, {}, void 0, false, {\n                                                fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                                lineNumber: 1130,\n                                                columnNumber: 21\n                                            }, _this)\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 1126,\n                                            columnNumber: 19\n                                        }, _this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                    lineNumber: 1124,\n                                    columnNumber: 17\n                                }, _this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                    className: \"space-y-2\",\n                                    children: users.map(function(user, index) {\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            className: \"text-white text-sm\",\n                                            children: user\n                                        }, index, false, {\n                                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                            lineNumber: 1135,\n                                            columnNumber: 21\n                                        }, _this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                                    lineNumber: 1133,\n                                    columnNumber: 17\n                                }, _this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                            lineNumber: 1123,\n                            columnNumber: 15\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n                        lineNumber: 1122,\n                        columnNumber: 13\n                    }, _this)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\立瑜\\\\ReactLearning\\\\LiveChatRoom\\\\draw\\\\whiteboard-app\\\\src\\\\components\\\\Canvas\\\\index.tsx\",\n        lineNumber: 877,\n        columnNumber: 5\n    }, _this);\n};\n_s(Canvas, \"4gtM41GJSR3l1M61XyzGxwRfmhE=\", false, function() {\n    return [\n        _store_useCanvasStore__WEBPACK_IMPORTED_MODULE_3__.useCanvasStore\n    ];\n});\n_c = Canvas;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/_c1 = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(Canvas));\nvar _c, _c1;\n$RefreshReg$(_c, \"Canvas\");\n$RefreshReg$(_c1, \"%default%\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9DYW52YXMvaW5kZXgudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEI7QUFFMkY7QUFDckM7QUFDcEI7QUFDWDtBQUM0QjtBQUd0QztBQUNxRjtBQUczRjtBQUMwQjtBQUM1QjtBQXVDL0IsSUFBTWdDLFNBQWdDO1FBQUdDLGVBQUFBLFFBQVFDLGlCQUFBQTs7SUFDL0MsSUFBMEJ4QixZQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQWdCLEVBQUUsT0FBN0N5QixRQUFtQnpCLGNBQVowQixXQUFZMUI7SUFDMUIsSUFBa0NBLGFBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUFwQzJCLFlBQTJCM0IsZUFBaEI0QixlQUFnQjVCO0lBQ2xDLElBQW9DQSxhQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBdEM2QixhQUE2QjdCLGVBQWpCOEIsZ0JBQWlCOUI7SUFDcEMsSUFBc0NBLGFBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBcUIsV0FBNUQrQixjQUErQi9CLGVBQWxCZ0MsaUJBQWtCaEM7SUFDdEMsSUFBMkRNLGtCQUFBQSxxRUFBY0EsSUFBakUyQixPQUFtRDNCLGdCQUFuRDJCLE1BQU1DLGNBQTZDNUIsZ0JBQTdDNEIsYUFBYUMsY0FBZ0M3QixnQkFBaEM2QixhQUFhQyxpQkFBbUI5QixnQkFBbkI4QjtJQUN4QyxJQUEwQnBDLGFBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxRQUE1QnFDLFFBQW1CckMsZUFBWnNDLFdBQVl0QztJQUMxQixJQUFnQ0EsYUFBQUEsK0RBQUFBLENBQUFBLCtDQUFRQSxDQUFDO1FBQUV1QyxHQUFHO1FBQUdDLEdBQUc7SUFBRSxRQUEvQ0MsV0FBeUJ6QyxlQUFmMEMsY0FBZTFDO0lBQ2hDLElBQWtDQSxhQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQUM7UUFBRTJDLE9BQU9DLE9BQU9DLFVBQVUsR0FBRztRQUFHQyxRQUFRRixPQUFPRyxXQUFXLEdBQUc7SUFBRSxRQUFuR0MsWUFBMkJoRCxlQUFoQmlELGVBQWdCakQ7SUFDbEMsSUFBZ0NBLGFBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUFsQ2tELFdBQXlCbEQsZUFBZm1ELGNBQWVuRDtJQUNoQyxJQUE0QkEsYUFBQUEsK0RBQUFBLENBQUFBLCtDQUFRQSxDQUFpQixFQUFFLE9BQWhEb0QsU0FBcUJwRCxlQUFicUQsWUFBYXJEO0lBQzVCLElBQTBDQSxhQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQWdCLFdBQTNEc0QsZ0JBQW1DdEQsZUFBcEJ1RCxtQkFBb0J2RDtJQUMxQyxJQUFNd0QsaUJBQWlCckQsNkNBQU1BLENBQW9CO0lBQ2pELElBQWdDSCxjQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQVksRUFBRSxPQUEvQ3lELFdBQXlCekQsZ0JBQWYwRCxjQUFlMUQ7SUFDaEMsSUFBb0NBLGNBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxTQUF0QzJELGFBQTZCM0QsZ0JBQWpCNEQsZ0JBQWlCNUQ7SUFDcEMsSUFBc0NBLGNBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUF4QzZELGNBQStCN0QsZ0JBQWxCOEQsaUJBQWtCOUQ7SUFDdEMsSUFBb0NBLGNBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxVQUF0QytELGFBQTZCL0QsZ0JBQWpCZ0UsZ0JBQWlCaEUsZ0JBQWUsa0JBQWtCO0lBQ3JFLElBQTBCQSxjQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQVcsRUFBRSxPQUF4Q2lFLFFBQW1CakUsZ0JBQVprRSxXQUFZbEU7SUFDMUIsSUFBc0RBLGNBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUF4RG1FLHNCQUErQ25FLGdCQUExQm9FLHlCQUEwQnBFO0lBQ3RELElBQTRDQSxjQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsVUFBOUNxRSxpQkFBcUNyRSxnQkFBckJzRSxvQkFBcUJ0RSxnQkFBZSxPQUFPO0lBQ2xFLElBQTRDQSxjQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQWtDLFdBQS9FdUUsaUJBQXFDdkUsZ0JBQXJCd0Usb0JBQXFCeEU7SUFDNUMsSUFBZ0RBLGNBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBUSxFQUFFLE9BQTNEeUUsbUJBQXlDekUsZ0JBQXZCMEUsc0JBQXVCMUU7SUFDaEQsSUFBc0RBLGNBQUFBLCtEQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUF4RDJFLHNCQUErQzNFLGdCQUExQjRFLHlCQUEwQjVFO0lBQ3RELElBQU02RSxZQUFZMUUsNkNBQU1BLENBQXNCO0lBQzlDLElBQWdDSCxjQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBbEM4RSxXQUF5QjlFLGdCQUFmK0UsY0FBZS9FO0lBQ2hDLElBQTRDQSxjQUFBQSwrREFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBOUNnRixpQkFBcUNoRixnQkFBckJpRixvQkFBcUJqRjtJQUM1QyxJQUFnQ0EsY0FBQUEsK0RBQUFBLENBQUFBLCtDQUFRQSxDQUFDLFlBQWxDa0YsV0FBeUJsRixnQkFBZm1GLGNBQWVuRjtJQUNoQyxJQUFrQ0EsY0FBQUEsK0RBQUFBLENBQUFBLCtDQUFRQSxDQUFDLFlBQXBDb0YsWUFBMkJwRixnQkFBaEJxRixlQUFnQnJGO0lBRWxDLGNBQWM7SUFDZEMsZ0RBQVNBOzRCQUFDO1lBQ1IsSUFBTXFGLFVBQVU5RSxzREFBR0EsQ0FBQ0Qsc0RBQVFBLEVBQUUsU0FBZ0IsT0FBUGdCLFFBQU87WUFDOUMsSUFBTWdFLGNBQWM5RSwwREFBT0EsQ0FBQzZFO2dEQUFTLFNBQUNFO29CQUNwQyxJQUFNQyxPQUFPRCxTQUFTRSxHQUFHO29CQUN6QixJQUFJRCxNQUFNO3dCQUNSL0QsU0FBU2lFLE9BQU9DLE1BQU0sQ0FBQ0g7b0JBQ3pCLE9BQU87d0JBQ0wvRCxTQUFTLEVBQUU7b0JBQ2I7Z0JBQ0Y7O1lBQ0E7b0NBQU87MkJBQU02RDs7O1FBQ2Y7MkJBQUc7UUFBQ2hFO0tBQU87SUFFWCxxQkFBcUI7SUFDckJ0QixnREFBU0E7NEJBQUM7WUFDUixJQUFNNEYsWUFBWXJGLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUFnQixPQUFQZ0IsUUFBTztZQUNoRCxJQUFNZ0UsY0FBYzlFLDBEQUFPQSxDQUFDb0Y7Z0RBQVcsU0FBQ0w7b0JBQ3RDLElBQU1DLE9BQU9ELFNBQVNFLEdBQUc7b0JBQ3pCLElBQUlELE1BQU07d0JBQ1JwQyxVQUFVc0MsT0FBT0MsTUFBTSxDQUFDSDtvQkFDMUIsT0FBTzt3QkFDTHBDLFVBQVUsRUFBRTtvQkFDZDtnQkFDRjs7WUFDQTtvQ0FBTzsyQkFBTWtDOzs7UUFDZjsyQkFBRztRQUFDaEU7S0FBTztJQUVYLHlCQUF5QjtJQUN6QnRCLGdEQUFTQTs0QkFBQztZQUNSLElBQUlxRCxpQkFBaUJFLGVBQWVzQyxPQUFPLEVBQUU7Z0JBQzNDLElBQU1DLFFBQVFDLFNBQVNGLE9BQU87Z0JBQzlCLElBQUksQ0FBQ0MsT0FBTztnQkFFWixJQUFNRSxPQUFPRixNQUFNRyxPQUFPLENBQUMsSUFBa0IsT0FBZDVDO2dCQUMvQixJQUFJMkMsTUFBTTt3QkFFUnpDO29CQURBQSxlQUFlc0MsT0FBTyxDQUFDSyxLQUFLLENBQUM7d0JBQUNGO3FCQUFLO3FCQUNuQ3pDLG1DQUFBQSxlQUFlc0MsT0FBTyxDQUFDTSxRQUFRLGdCQUEvQjVDLHVEQUFBQSxpQ0FBbUM2QyxTQUFTO2dCQUM5QztZQUNGO1FBQ0Y7MkJBQUc7UUFBQy9DO1FBQWVGO0tBQU87SUFFMUIsc0JBQXNCO0lBQ3RCbkQsZ0RBQVNBOzRCQUFDO1lBQ1IsSUFBTXFHLGNBQWM5RixzREFBR0EsQ0FBQ0Qsc0RBQVFBLEVBQUUsU0FBZ0IsT0FBUGdCLFFBQU87WUFDbEQsSUFBTWdFLGNBQWM5RSwwREFBT0EsQ0FBQzZGO2dEQUFhLFNBQUNkO29CQUN4QyxJQUFNQyxPQUFPRCxTQUFTRSxHQUFHO29CQUN6QixJQUFJRCxNQUFNO3dCQUNSLElBQU1jLGNBQXlCWixPQUFPYSxPQUFPLENBQUNmLE1BQzNDZ0IsR0FBRzt3RUFBQzt3SEFBRUMsZ0JBQUlDO3VDQUF5QjtvQ0FDbENELElBQUFBO29DQUNBbEYsVUFBVW1GLElBQUluRixRQUFRO29DQUN0Qm9GLE1BQU1ELElBQUlDLElBQUksSUFBSTtvQ0FDbEJDLE1BQU1GLElBQUlFLElBQUksSUFBSTtvQ0FDbEJDLFNBQVNILElBQUlHLE9BQU8sSUFBSTtvQ0FDeEJDLFdBQVdKLElBQUlJLFNBQVM7Z0NBQzFCOzt1RUFDQ0MsSUFBSTt3RUFBQyxTQUFDQyxHQUFHQzt1Q0FBTSxDQUFDRCxFQUFFRixTQUFTLElBQUksS0FBTUcsQ0FBQUEsRUFBRUgsU0FBUyxJQUFJOzs7d0JBQ3ZEckQsWUFBWTZDO29CQUNkLE9BQU87d0JBQ0w3QyxZQUFZLEVBQUU7b0JBQ2hCO2dCQUNGOztZQUNBO29DQUFPOzJCQUFNNkI7OztRQUNmOzJCQUFHO1FBQUNoRTtLQUFPO0lBRVh0QixnREFBU0E7NEJBQUM7WUFDUixJQUFNa0gsV0FBVzNHLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUFnQixPQUFQZ0IsUUFBTztZQUMvQyxJQUFNZ0UsY0FBYzlFLDBEQUFPQSxDQUFDMEc7Z0RBQVUsU0FBQzNCO29CQUNyQyxJQUFNQyxPQUFPRCxTQUFTRSxHQUFHO29CQUN6QixJQUFJRCxNQUFNO3dCQUNSLElBQU0yQixXQUFXekIsT0FBTzBCLElBQUksQ0FBQzVCO3dCQUM3QnZCLFNBQVNrRDtvQkFDWDtnQkFDRjs7WUFFQTtvQ0FBTzsyQkFBTTdCOzs7UUFDZjsyQkFBRztRQUFDaEU7S0FBTztJQUVYdEIsZ0RBQVNBOzRCQUFDO1lBQ1IsSUFBSXNCLFVBQVVDLFVBQVU7Z0JBQ3RCLElBQU04RixVQUFVOUcsc0RBQUdBLENBQUNELHNEQUFRQSxFQUFFLFNBQXlCaUIsT0FBaEJELFFBQU8sV0FBa0IsT0FBVEM7Z0JBQ3ZEZCxzREFBR0EsQ0FBQzRHLFNBQVM7b0JBQ1g5RixVQUFVQTtvQkFDVitGLFlBQVkzRyxrRUFBZUE7Z0JBQzdCO2dCQUVBLFdBQVc7Z0JBQ1g7d0NBQU87d0JBQ0xGLHNEQUFHQSxDQUFDNEcsU0FBUztvQkFDZjs7WUFDRjtRQUNGOzJCQUFHO1FBQUMvRjtRQUFRQztLQUFTO0lBRXJCLElBQU1nRyxvQkFBb0IsU0FBQ0M7UUFDekIsT0FBUUE7WUFDTixLQUFLO2dCQUNILE9BQU87b0JBQ0xDLFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1R6RixhQUFhQSxjQUFjO29CQUMzQjBGLFNBQVM7b0JBQ1RDLFVBQVU7b0JBQ1ZDLDBCQUEwQjtvQkFDMUJDLGFBQWE1RjtvQkFDYjZGLFlBQVk7b0JBQ1pDLGVBQWU7b0JBQ2ZDLGVBQWU7b0JBQ2ZDLFFBQVE7Z0JBQ1Y7WUFDRixLQUFLO2dCQUNILE9BQU87b0JBQ0xULFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1R6RixhQUFhQTtvQkFDYjBGLFNBQVM7b0JBQ1RDLFVBQVU7b0JBQ1ZFLGFBQWE1RjtvQkFDYjZGLFlBQVk7b0JBQ1pHLFFBQVE7Z0JBQ1Y7WUFDRixLQUFLO2dCQUNILE9BQU87b0JBQ0xULFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1R6RixhQUFhQSxjQUFjO29CQUMzQjBGLFNBQVM7b0JBQ1RDLFVBQVU7b0JBQ1ZFLGFBQWE1RjtvQkFDYjZGLFlBQVk7b0JBQ1pHLFFBQVE7Z0JBQ1Y7WUFDRixLQUFLO2dCQUNILE9BQU87b0JBQ0xULFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1R6RixhQUFhQSxjQUFjO29CQUMzQjBGLFNBQVM7b0JBQ1RDLFVBQVU7b0JBQ1ZFLGFBQWE1RjtvQkFDYjZGLFlBQVk7b0JBQ1pHLFFBQVE7Z0JBQ1Y7WUFDRixLQUFLO2dCQUNILE9BQU87b0JBQ0xULFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1R6RixhQUFhQSxjQUFjO29CQUMzQjBGLFNBQVM7b0JBQ1RDLFVBQVU7b0JBQ1ZHLFlBQVk7b0JBQ1pHLFFBQVE7Z0JBQ1Y7WUFDRjtnQkFDRSxPQUFPO29CQUNMVCxTQUFTO29CQUNUQyxTQUFTO29CQUNUekYsYUFBQUE7b0JBQ0EwRixTQUFTO29CQUNUQyxVQUFVO2dCQUNaO1FBQ0o7SUFDRjtJQUVBLElBQU1PLGNBQWMsU0FBQ0M7UUFDbkJBLEVBQUVDLEdBQUcsQ0FBQ0MsY0FBYztRQUVwQixJQUFNQyxVQUFVO1FBQ2hCLElBQU16QyxRQUFRc0MsRUFBRUksTUFBTSxDQUFDQyxRQUFRO1FBQy9CLElBQU1DLFdBQVc1QyxNQUFNNkMsTUFBTTtRQUM3QixJQUFNQyxlQUFlO1lBQ25CdEcsR0FBR3dELE1BQU0rQyxrQkFBa0IsR0FBR3ZHLENBQUMsR0FBR29HLFdBQVc1QyxNQUFNeEQsQ0FBQyxLQUFLb0c7WUFDekRuRyxHQUFHdUQsTUFBTStDLGtCQUFrQixHQUFHdEcsQ0FBQyxHQUFHbUcsV0FBVzVDLE1BQU12RCxDQUFDLEtBQUttRztRQUMzRDtRQUVBLElBQU1JLFdBQVdWLEVBQUVDLEdBQUcsQ0FBQ1UsTUFBTSxHQUFHLElBQUlMLFdBQVdILFVBQVVHLFdBQVdIO1FBQ3BFbEcsU0FBU3lHO1FBRVRyRyxZQUFZO1lBQ1ZILEdBQUcsQ0FBRXNHLENBQUFBLGFBQWF0RyxDQUFDLEdBQUd3RCxNQUFNK0Msa0JBQWtCLEdBQUd2RyxDQUFDLEdBQUd3RyxRQUFPLElBQUtBO1lBQ2pFdkcsR0FBRyxDQUFFcUcsQ0FBQUEsYUFBYXJHLENBQUMsR0FBR3VELE1BQU0rQyxrQkFBa0IsR0FBR3RHLENBQUMsR0FBR3VHLFFBQU8sSUFBS0E7UUFDbkU7SUFDRjtJQUVBLElBQU1FLGtCQUFrQi9JLGtEQUFXQTsrQ0FBQyxTQUFDbUk7WUFDbkMsSUFBTXRDLFFBQVFzQyxFQUFFSSxNQUFNLENBQUNDLFFBQVE7WUFDL0IsSUFBTVEsTUFBTW5ELE1BQU1vRCwwQkFBMEI7WUFFNUMsSUFBTUMsZUFBZWYsRUFBRUMsR0FBRyxDQUFDZSxNQUFNLEtBQUs7WUFDdEMsSUFBTUMsZ0JBQWdCakIsRUFBRUMsR0FBRyxDQUFDZSxNQUFNLEtBQUs7WUFFdkMsYUFBYTtZQUNiLElBQU1FLGlCQUFpQmxCLEVBQUVJLE1BQU0sQ0FBQ2UsU0FBUyxLQUFLO1lBRTlDLFNBQVM7WUFDVCxJQUFJSixnQkFBZ0JFLGlCQUFpQmpCLEVBQUVDLEdBQUcsQ0FBQ21CLE9BQU8sSUFBSXBCLEVBQUVDLEdBQUcsQ0FBQ29CLE9BQU8sSUFBSXhHLFVBQVU7Z0JBQy9FcEIsY0FBYztnQkFDZDtZQUNGO1lBRUEsb0JBQW9CO1lBQ3BCLElBQUlHLFNBQVMsWUFBWXNILGdCQUFnQjtnQkFDdkM7WUFDRjtZQUVBM0gsYUFBYTtZQUNiLElBQU0rSCxZQUFZbkMsa0JBQWtCdkY7WUFFcEMsSUFBTTJILFVBQXVCO2dCQUMzQjNILE1BQUFBO2dCQUNBNEgsUUFBUTtvQkFBQ1gsSUFBSTNHLENBQUM7b0JBQUUyRyxJQUFJMUcsQ0FBQztpQkFBQztnQkFDdEJMLGFBQWFGLFNBQVMsV0FBVyxZQUFZRTtlQUMxQ3dIO1lBR0wzSCxlQUFlNEg7WUFDZixJQUFNdEUsVUFBVTlFLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUFnQixPQUFQZ0IsUUFBTztZQUM5QyxJQUFNdUksYUFBYW5KLHVEQUFJQSxDQUFDMkU7WUFDeEI1RSxzREFBR0EsQ0FBQ29KLFlBQVlGO1FBQ2xCOzhDQUFHO1FBQUMzSDtRQUFNRTtRQUFhZTtRQUFVM0I7S0FBTztJQUV4QyxJQUFNd0ksa0JBQWtCN0osa0RBQVdBOytDQUFDLFNBQUNtSTtZQUNuQyxJQUFJeEcsWUFBWTtnQkFDZCxJQUFNa0UsUUFBUXNDLEVBQUVJLE1BQU0sQ0FBQ0MsUUFBUTtnQkFDL0JoRyxZQUFZO29CQUNWSCxHQUFHd0QsTUFBTXhELENBQUMsS0FBSzhGLEVBQUVDLEdBQUcsQ0FBQzBCLFNBQVM7b0JBQzlCeEgsR0FBR3VELE1BQU12RCxDQUFDLEtBQUs2RixFQUFFQyxHQUFHLENBQUMyQixTQUFTO2dCQUNoQztnQkFDQTtZQUNGO1lBRUEsSUFBSSxDQUFDdEksYUFBYSxDQUFDSSxhQUFhO1lBRWhDLElBQU1nRSxTQUFRc0MsRUFBRUksTUFBTSxDQUFDQyxRQUFRO1lBQy9CLElBQU1RLE1BQU1uRCxPQUFNb0QsMEJBQTBCO1lBRTVDLElBQU1TLFVBQVUsd0lBQ1g3SDtnQkFDSDhILFFBQVEscUVBQUk5SCxZQUFZOEgsTUFBTSxTQUF0QjtvQkFBd0JYLElBQUkzRyxDQUFDO29CQUFFMkcsSUFBSTFHLENBQUM7aUJBQUM7O1lBRy9DUixlQUFlNEg7WUFDZk0sZ0JBQWdCLFNBQXlCekksT0FBaEJGLFFBQU8sV0FBc0IsT0FBYkUsTUFBTTBJLE1BQU0sR0FBSVA7UUFDM0Q7OENBQUc7UUFBQy9IO1FBQVlGO1FBQVdJO1FBQWFSO1FBQVFFLE1BQU0wSSxNQUFNO0tBQUM7SUFFN0QsSUFBTUMsZ0JBQWdCbEssa0RBQVdBOzZDQUFDO1lBQ2hDMEIsYUFBYTtZQUNiRSxjQUFjO1lBQ2RFLGVBQWU7WUFFZixJQUFJQyxTQUFTLFlBQVlzQyxnQkFBZ0I7Z0JBQ3ZDLElBQU13QixRQUFRQyxTQUFTRixPQUFPO2dCQUM5QixJQUFNb0QsTUFBTW5ELE1BQU1vRCwwQkFBMEI7Z0JBRTVDLGFBQWE7Z0JBQ2IsSUFBTWtCLFdBQVc1SSxNQUFNNkksTUFBTTtrRUFBQ0MsU0FBQUE7d0JBQzVCLE9BQU9BLEtBQUtWLE1BQU0sQ0FBQ1csSUFBSTswRUFBQyxTQUFDQyxPQUFlQztnQ0FDdEMsSUFBSUEsSUFBSSxNQUFNLEdBQUc7b0NBQ2YsSUFBTW5JLElBQUlrSTtvQ0FDVixJQUFNakksSUFBSStILEtBQUtWLE1BQU0sQ0FBQ2EsSUFBSSxFQUFFO29DQUM1QixPQUFPbkksS0FBS29JLEtBQUtDLEdBQUcsQ0FBQ3JHLGVBQWVoQyxDQUFDLEVBQUUyRyxJQUFJM0csQ0FBQyxLQUNyQ0EsS0FBS29JLEtBQUtFLEdBQUcsQ0FBQ3RHLGVBQWVoQyxDQUFDLEVBQUUyRyxJQUFJM0csQ0FBQyxLQUNyQ0MsS0FBS21JLEtBQUtDLEdBQUcsQ0FBQ3JHLGVBQWUvQixDQUFDLEVBQUUwRyxJQUFJMUcsQ0FBQyxLQUNyQ0EsS0FBS21JLEtBQUtFLEdBQUcsQ0FBQ3RHLGVBQWUvQixDQUFDLEVBQUUwRyxJQUFJMUcsQ0FBQztnQ0FDOUM7Z0NBQ0EsT0FBTzs0QkFDVDs7b0JBQ0Y7O2dCQUVBa0Msb0JBQW9CMkY7Z0JBQ3BCekYsdUJBQXVCO1lBQ3pCO1lBRUFKLGtCQUFrQjtRQUNwQjs0Q0FBRztRQUFDdkM7UUFBTXNDO1FBQWdCOUM7S0FBTTtJQUVoQyxJQUFNcUosU0FBUztRQUNieEksU0FBU0QsUUFBUTtJQUNuQjtJQUVBLElBQU0wSSxVQUFVO1FBQ2R6SSxTQUFTRCxRQUFRO0lBQ25CO0lBRUEsSUFBTTJJLFlBQVk7UUFDaEIxSSxTQUFTO1FBQ1RJLFlBQVk7WUFBRUgsR0FBRztZQUFHQyxHQUFHO1FBQUU7SUFDM0I7SUFFQXZDLGdEQUFTQTs0QkFBQztZQUNSLElBQU1nTDtpREFBZTtvQkFDbkJoSSxhQUFhO3dCQUNYTixPQUFPQyxPQUFPQyxVQUFVLEdBQUc7d0JBQzNCQyxRQUFRRixPQUFPRyxXQUFXLEdBQUc7b0JBQy9CO2dCQUNGOztZQUVBSCxPQUFPc0ksZ0JBQWdCLENBQUMsVUFBVUQ7WUFDbEM7b0NBQU87MkJBQU1ySSxPQUFPdUksbUJBQW1CLENBQUMsVUFBVUY7OztRQUNwRDsyQkFBRyxFQUFFO0lBRUxoTCxnREFBU0E7NEJBQUM7WUFDUixJQUFNbUw7c0RBQW9CLFNBQUMvQztvQkFDekJBLEVBQUVFLGNBQWM7Z0JBQ2xCOztZQUVBM0YsT0FBT3NJLGdCQUFnQixDQUFDLGVBQWVFO1lBQ3ZDO29DQUFPOzJCQUFNeEksT0FBT3VJLG1CQUFtQixDQUFDLGVBQWVDOzs7UUFDekQ7MkJBQUcsRUFBRTtJQUVMLFFBQVE7SUFDUixJQUFNQyxvQkFBb0JuTCxrREFBV0E7aURBQUM7WUFDcEMsSUFBTW9GLFVBQVU5RSxzREFBR0EsQ0FBQ0Qsc0RBQVFBLEVBQUUsU0FBZ0IsT0FBUGdCLFFBQU87WUFDOUNiLHNEQUFHQSxDQUFDNEUsU0FBUztRQUNmO2dEQUFHO1FBQUMvRDtLQUFPO0lBRVgsV0FBVztJQUNYLElBQU0rSixpQkFBaUJwTCxrREFBV0E7OENBQUM7WUFDakMsSUFBTW9GLFVBQVU5RSxzREFBR0EsQ0FBQ0Qsc0RBQVFBLEVBQUUsU0FBZ0IsT0FBUGdCO1lBQ3ZDYixzREFBR0EsQ0FBQzRFLFNBQVMsT0FBTyxhQUFhO1lBQ2pDL0IsaUJBQWlCLE9BQU8sU0FBUztRQUNuQzs2Q0FBRztRQUFDaEM7S0FBTztJQUVYLElBQU1nSyxpQkFBaUIsU0FBQ2xEO1FBQ3RCQSxFQUFFRSxjQUFjO1FBQ2hCRixFQUFFbUQsZUFBZTtJQUNuQjtJQUVBLElBQU1DLGFBQWEsU0FBQ3BEO1FBQ2xCQSxFQUFFRSxjQUFjO1FBQ2hCRixFQUFFbUQsZUFBZTtRQUVqQixJQUFNRSxPQUFPckQsRUFBRXNELFlBQVksQ0FBQ0MsS0FBSyxDQUFDLEVBQUU7UUFDcEMsSUFBSUYsUUFBUUEsS0FBSzdFLElBQUksQ0FBQ2dGLFVBQVUsQ0FBQyxXQUFXO1lBQzFDLElBQU1DLFNBQVMsSUFBSUM7WUFDbkJELE9BQU9FLE1BQU0sR0FBRyxTQUFDQztvQkFDQ0E7Z0JBQWhCLElBQU1DLFdBQVVELGdCQUFBQSxNQUFNeEQsTUFBTSxjQUFad0Qsb0NBQUFBLGNBQWNFLE1BQU07Z0JBQ3BDLElBQU1DLFVBQVVDLEtBQUtDLEdBQUcsR0FBR0MsUUFBUTtnQkFFbkMsSUFBTUMsTUFBTSxJQUFJNUosT0FBT2xELEtBQUs7Z0JBQzVCOE0sSUFBSUMsR0FBRyxHQUFHUDtnQkFDVk0sSUFBSVIsTUFBTSxHQUFHO29CQUNYLElBQU1VLFdBQVc7d0JBQ2ZoRyxJQUFJMEY7d0JBQ0o3SixHQUFHOEYsRUFBRXNFLFdBQVcsQ0FBQ0MsT0FBTyxJQUFJO3dCQUM1QnBLLEdBQUc2RixFQUFFc0UsV0FBVyxDQUFDRSxPQUFPLElBQUk7d0JBQzVCbEssT0FBTzZKLElBQUk3SixLQUFLO3dCQUNoQkcsUUFBUTBKLElBQUkxSixNQUFNO3dCQUNsQjJKLEtBQUtQO29CQUNQO29CQUVBLGNBQWM7b0JBQ2Q3SSxVQUFVLFNBQUN5SjsrQkFBZSxxRUFBSUEsbUJBQUo7NEJBQWdCSjt5QkFBUzs7b0JBRW5ELGVBQWU7b0JBQ2YsSUFBTUssYUFBYXZNLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUEwQjZMLE9BQWpCN0ssUUFBTyxZQUFrQixPQUFSNks7b0JBQzNEMUwsc0RBQUdBLENBQUNxTSxZQUFZTDtnQkFDbEI7WUFDRjtZQUNBWixPQUFPa0IsYUFBYSxDQUFDdEI7UUFDdkI7SUFDRjtJQUVBLElBQU11Qix1QkFBdUIsU0FBQ2IsU0FBaUJjO1FBQzdDLElBQU1DLFdBQVczTSxzREFBR0EsQ0FBQ0Qsc0RBQVFBLEVBQUUsU0FBMEI2TCxPQUFqQjdLLFFBQU8sWUFBa0IsT0FBUjZLO1FBQ3pELElBQU1nQixlQUFlaEssT0FBT2lLLElBQUksQ0FBQyxTQUFDYjttQkFBc0JBLElBQUk5RixFQUFFLEtBQUswRjs7UUFDbkUsSUFBSWdCLGNBQWM7WUFDaEIxTSxzREFBR0EsQ0FBQ3lNLFVBQVUsbUVBQUtDLGNBQWlCRjtRQUN0QztJQUNGO0lBRUEsY0FBYztJQUNkLElBQU1sSCxXQUFXN0YsNkNBQU1BLENBQU07SUFFN0IsWUFBWTtJQUNaLElBQU1tTixnQkFBZ0IsU0FBQ2pGO1FBQ3JCLElBQU1rRixpQkFBaUJsRixFQUFFSSxNQUFNLEtBQUtKLEVBQUVJLE1BQU0sQ0FBQ0MsUUFBUTtRQUNyRCxJQUFJNkUsZ0JBQWdCO1lBQ2xCaEssaUJBQWlCO1FBQ25CO0lBQ0Y7SUFFQSx1QkFBdUI7SUFDdkJ0RCxnREFBU0E7NEJBQUM7WUFDUixJQUFNc0k7bURBQWlCLFNBQUNGOzJCQUFhQSxFQUFFRSxjQUFjOzs7WUFDckRpRixTQUFTdEMsZ0JBQWdCLENBQUM7b0NBQWEsU0FBQzdDO29CQUN0QyxJQUFJQSxFQUFFZ0IsTUFBTSxLQUFLLEdBQUdkLGVBQWVGO2dCQUNyQzs7WUFDQTtvQ0FBTztvQkFDTG1GLFNBQVNyQyxtQkFBbUIsQ0FBQyxhQUFhNUM7Z0JBQzVDOztRQUNGOzJCQUFHLEVBQUU7SUFFTCxxQkFBcUI7SUFDckIsSUFBTTJCLGtCQUFrQmhLLGtEQUFXQSxDQUNqQ1csc0RBQVFBOytDQUFDLFNBQUM0TSxNQUFjaEk7WUFDdEIsSUFBTWlJLFFBQVFsTixzREFBR0EsQ0FBQ0Qsc0RBQVFBLEVBQUVrTjtZQUM1Qi9NLHNEQUFHQSxDQUFDZ04sT0FBT2pJO1FBQ2I7OENBQUcsS0FDSCxFQUFFO0lBR0osU0FBUztJQUNULElBQU1rSSxhQUFhdk4sOENBQU9BO3NDQUFDO1lBQ3pCLElBQU13TixRQUE2QyxDQUFDO1lBQ3BEeEssT0FBT3lLLE9BQU87OENBQUNDLFNBQUFBO29CQUNiLElBQUksQ0FBQ0YsS0FBSyxDQUFDRSxNQUFNckIsR0FBRyxDQUFDLEVBQUU7d0JBQ3JCLElBQU1ELE1BQU0sSUFBSTVKLE9BQU9sRCxLQUFLO3dCQUM1QjhNLElBQUlDLEdBQUcsR0FBR3FCLE1BQU1yQixHQUFHO3dCQUNuQm1CLEtBQUssQ0FBQ0UsTUFBTXJCLEdBQUcsQ0FBQyxHQUFHRDtvQkFDckI7Z0JBQ0Y7O1lBQ0EsT0FBT29CO1FBQ1Q7cUNBQUc7UUFBQ3hLO0tBQU87SUFFWCxlQUFlO0lBQ2YsSUFBTTJLLGNBQWMzTiw4Q0FBT0E7dUNBQUM7bUJBQzFCcUIsTUFBTWdGLEdBQUc7K0NBQUMsU0FBQzhELE1BQU1HO3lDQUNmLDhEQUFDakwsNkNBQUlBO3dCQUVIb0ssUUFBUVUsS0FBS1YsTUFBTTt3QkFDbkJtRSxRQUFRekQsS0FBS3BJLFdBQVc7d0JBQ3hCRCxhQUFhcUksS0FBS3JJLFdBQVcsR0FBR0c7d0JBQ2hDcUYsU0FBUzZDLEtBQUs3QyxPQUFPO3dCQUNyQkMsU0FBUzRDLEtBQUs1QyxPQUFPO3dCQUNyQnNHLE1BQU0xRCxLQUFLMEQsSUFBSTt3QkFDZnJHLFNBQVE7d0JBQ1JDLFVBQVM7d0JBQ1RDLDBCQUNFeUMsS0FBS3RJLElBQUksS0FBSyxXQUFXLG9CQUFvQjt1QkFWMUN5STs7Ozs7Ozs7c0NBY1I7UUFBQ2pKO1FBQU9ZO0tBQU07SUFFakIsSUFBTTZMLGVBQWU5Tiw4Q0FBT0E7d0NBQUM7bUJBQzNCZ0QsT0FBT3FELEdBQUc7Z0RBQUMsU0FBQ3FILE9BQU9wRDt5Q0FDakIsOERBQUNwTCx1REFBYzs7MENBQ2IsOERBQUNLLDhDQUFVQTtnQ0FDVCtHLElBQUlvSCxNQUFNcEgsRUFBRTtnQ0FDWm9ILE9BQU9ILFVBQVUsQ0FBQ0csTUFBTXJCLEdBQUcsQ0FBQztnQ0FDNUJsSyxHQUFHdUwsTUFBTXZMLENBQUM7Z0NBQ1ZDLEdBQUdzTCxNQUFNdEwsQ0FBQztnQ0FDVkcsT0FBT21MLE1BQU1uTCxLQUFLO2dDQUNsQkcsUUFBUWdMLE1BQU1oTCxNQUFNO2dDQUNwQnNMLFdBQVc7Z0NBQ1hDLE9BQU87b0VBQUU7K0NBQU05SyxpQkFBaUJ1SyxNQUFNcEgsRUFBRTs7O2dDQUN4QzRILFdBQVc7b0VBQUUsU0FBQ2pHO3dDQUNaQSxFQUFFQyxHQUFHLENBQUNrRCxlQUFlO29DQUN2Qjs7Z0NBQ0ErQyxVQUFVO29FQUFFLFNBQUNsRzt3Q0FDWEEsRUFBRUMsR0FBRyxDQUFDa0QsZUFBZTtvQ0FDdkI7O2dDQUNBZ0QsU0FBUztvRUFBRSxTQUFDbkc7d0NBQ1ZBLEVBQUVDLEdBQUcsQ0FBQ2tELGVBQWU7d0NBQ3JCLElBQU0yQixXQUFXM00sc0RBQUdBLENBQUNELHNEQUFRQSxFQUFFLFNBQTBCdU4sT0FBakJ2TSxRQUFPLFlBQW1CLE9BQVR1TSxNQUFNcEgsRUFBRTt3Q0FDakVoRyxzREFBR0EsQ0FBQ3lNLFVBQVUsd0lBQ1RXOzRDQUNIdkwsR0FBRzhGLEVBQUVJLE1BQU0sQ0FBQ2xHLENBQUM7NENBQ2JDLEdBQUc2RixFQUFFSSxNQUFNLENBQUNqRyxDQUFDOztvQ0FFakI7Ozs7Ozs7NEJBRUFjLENBQUFBLGtCQUFrQndLLE1BQU1wSCxFQUFFLElBQUl4RCxRQUFPLG1CQUNyQyw4REFBQ3JELDhDQUFLQTtnQ0FBQzBDLEdBQUd1TCxNQUFNdkwsQ0FBQyxHQUFHdUwsTUFBTW5MLEtBQUssR0FBRztnQ0FBSUgsR0FBR3NMLE1BQU10TCxDQUFDLEdBQUc7O2tEQUNqRCw4REFBQzFDLCtDQUFNQTt3Q0FDTDJPLFFBQVE7d0NBQ1JDLE1BQUs7d0NBQ0xMLE9BQU87NEVBQUU7Z0RBQ1AsT0FBTztnREFDUCxJQUFNbEIsV0FBVzNNLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUEwQnVOLE9BQWpCdk0sUUFBTyxZQUFtQixPQUFUdU0sTUFBTXBILEVBQUU7Z0RBQ2pFaEcsc0RBQUdBLENBQUN5TSxVQUFVO2dEQUNkNUosaUJBQWlCOzRDQUNuQjs7Ozs7OztrREFFRiw4REFBQ3hELDZDQUFTQTt3Q0FDUjhKLFFBQVE7NENBQUMsQ0FBQzs0Q0FBRyxDQUFDOzRDQUFHOzRDQUFHO3lDQUFFO3dDQUN0Qm1FLFFBQU87d0NBQ1A5TCxhQUFhOzs7Ozs7a0RBRWYsOERBQUNuQyw2Q0FBU0E7d0NBQ1I4SixRQUFROzRDQUFDOzRDQUFHLENBQUM7NENBQUcsQ0FBQzs0Q0FBRzt5Q0FBRTt3Q0FDdEJtRSxRQUFPO3dDQUNQOUwsYUFBYTs7Ozs7Ozs7Ozs7OzRCQUlsQm9CLGtCQUFrQndLLE1BQU1wSCxFQUFFLGtCQUN6Qiw4REFBQzlHLG9EQUFXQTtnQ0FDVlksS0FBS2dEO2dDQUNMbUwsWUFBWTtvRUFBRSxTQUFDQyxRQUFRQzt3Q0FDckIsSUFBTUMsV0FBVzt3Q0FDakIsSUFBTUMsWUFBWTt3Q0FDbEIsSUFBSUYsT0FBT2xNLEtBQUssR0FBR21NLFlBQVlELE9BQU8vTCxNQUFNLEdBQUdpTSxXQUFXOzRDQUN4RCxPQUFPSDt3Q0FDVDt3Q0FDQSxPQUFPQztvQ0FDVDs7Z0NBQ0FHLGdCQUFnQjtvQ0FDZDtvQ0FBWTtvQ0FDWjtvQ0FBZTtvQ0FDZjtvQ0FBZTtvQ0FDZjtvQ0FBYztpQ0FDZjtnQ0FDREMsZUFBZTtnQ0FDZkMsV0FBVztnQ0FDWEMsU0FBUztnQ0FDVEMsWUFBWTtnQ0FDWkMsb0JBQW9CO2dDQUNwQkMsZUFBZTtnQ0FDZkMsY0FBYTtnQ0FDYkMsbUJBQW1CO2dDQUNuQkMsY0FBYTtnQ0FDYkMsWUFBVztnQ0FDWEMsY0FBYztvRUFBRSxTQUFDdEg7d0NBQ2YsSUFBTXBDLE9BQU9vQyxFQUFFSSxNQUFNO3dDQUNyQixJQUFNRyxTQUFTM0MsS0FBSzJDLE1BQU07d0NBQzFCLElBQU1nSCxTQUFTM0osS0FBSzJKLE1BQU07d0NBRTFCLE9BQU87d0NBQ1AzSixLQUFLMkMsTUFBTSxDQUFDO3dDQUNaM0MsS0FBSzJKLE1BQU0sQ0FBQzt3Q0FFWixJQUFNekMsV0FBVzNNLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUEwQnVOLE9BQWpCdk0sUUFBTyxZQUFtQixPQUFUdU0sTUFBTXBILEVBQUU7d0NBQ2pFaEcsc0RBQUdBLENBQUN5TSxVQUFVLHdJQUNUVzs0Q0FDSHZMLEdBQUcwRCxLQUFLMUQsQ0FBQzs0Q0FDVEMsR0FBR3lELEtBQUt6RCxDQUFDOzRDQUNURyxPQUFPZ0ksS0FBS0UsR0FBRyxDQUFDLEdBQUc1RSxLQUFLdEQsS0FBSyxLQUFLaUc7NENBQ2xDOUYsUUFBUTZILEtBQUtFLEdBQUcsQ0FBQyxHQUFHNUUsS0FBS25ELE1BQU0sS0FBSzhNOztvQ0FFeEM7Ozs7Ozs7O3VCQTlGZWxGOzs7Ozs7Ozt1Q0FtR3RCO1FBQUN0SDtRQUFRdUs7UUFBWXJLO1FBQWUvQjtLQUFPO0lBRTlDLElBQU1zTzttQkFBb0IsNkVBQU94SDtnQkFhckIvQixhQUNBd0osZUFrQkRDOzs7O3dCQS9CVDFILEVBQUVFLGNBQWM7d0JBRWhCeUgsUUFBUUMsR0FBRyxDQUFDLCtCQUErQjs0QkFDekMxTyxRQUFBQTs0QkFDQUMsVUFBQUE7NEJBQ0EwTyxTQUFTdk07NEJBQ1RvRCxXQUFXLElBQUlzRjt3QkFDakI7Ozs7Ozs7Ozs2QkFHTTFJLENBQUFBLFdBQVd3TSxJQUFJLE1BQU0zTyxZQUFZRCxNQUFLLEdBQXRDb0M7Ozs7d0JBQ0ZxTSxRQUFRQyxHQUFHLENBQUMsa0NBQWtDMU87d0JBQ3hDK0UsY0FBYzlGLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUFnQixPQUFQZ0IsUUFBTzt3QkFDNUN1TyxnQkFBZ0JuUCx1REFBSUEsQ0FBQzJGO3dCQUUzQjBKLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWjs7NEJBQU12UCxzREFBR0EsQ0FBQ29QLGVBQWU7Z0NBQ3ZCdE8sVUFBQUE7Z0NBQ0FvRixNQUFNakQsV0FBV3dNLElBQUk7Z0NBQ3JCcEosV0FBV25HLGtFQUFlQTs0QkFDNUI7Ozt3QkFKQTt3QkFNQW9QLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWnJNLGNBQWM7Ozs7Ozt3QkFFZG9NLFFBQVFDLEdBQUcsQ0FBQyw0QkFBNEI7NEJBQ3RDRyxZQUFZQyxRQUFRMU0sV0FBV3dNLElBQUk7NEJBQ25DRyxhQUFhRCxRQUFRN087NEJBQ3JCK08sV0FBV0YsUUFBUTlPO3dCQUNyQjs7Ozs7Ozs7d0JBRUt3Tzt3QkFDUEMsUUFBUUQsS0FBSyxDQUFDLGtCQUFrQjs0QkFDOUJBLE9BQUFBOzRCQUNBUyxjQUFjVCxpQkFBaUJVLFFBQVFWLE1BQU1HLE9BQU8sR0FBRzs0QkFDdkRRLFlBQVlYLGlCQUFpQlUsUUFBUVYsTUFBTVksS0FBSyxHQUFHQzt3QkFDckQ7Ozs7Ozs7Ozs7O1FBRUo7d0JBdkNNZixrQkFBMkJ4SDs7OztJQXlDakMsSUFBTXdJLG9CQUFvQixTQUFDeEk7UUFDekJBLEVBQUVFLGNBQWM7UUFFaEIsSUFBTXdCLGtCQUFrQixTQUFDK0c7WUFDdkIsSUFBTUMsZ0JBQWdCdkQsU0FBU3dELGNBQWMsQ0FBQztZQUM5QyxJQUFJLENBQUNELGVBQWU7WUFFcEIsSUFBTUUsZ0JBQWdCRixjQUFjRyxxQkFBcUI7WUFDekQsSUFBTUMsWUFBWXZPLE9BQU9HLFdBQVcsR0FBRyxHQUFHLGVBQWU7WUFDekQsSUFBTWdNLFlBQVksSUFBSSxZQUFZO1lBQ2xDLElBQU1xQyxZQUFZekcsS0FBS0UsR0FBRyxDQUFDa0UsV0FBV3BFLEtBQUtDLEdBQUcsQ0FBQ3VHLFdBQVdGLGNBQWNJLE1BQU0sR0FBR1AsVUFBVVEsT0FBTztZQUVsR3ROLGNBQWNvTixZQUFZLEtBQUssY0FBYztRQUMvQztRQUVBLElBQU1oSCxnQkFBZ0I7WUFDcEJvRCxTQUFTckMsbUJBQW1CLENBQUMsYUFBYXBCO1lBQzFDeUQsU0FBU3JDLG1CQUFtQixDQUFDLFdBQVdmO1FBQzFDO1FBRUFvRCxTQUFTdEMsZ0JBQWdCLENBQUMsYUFBYW5CO1FBQ3ZDeUQsU0FBU3RDLGdCQUFnQixDQUFDLFdBQVdkO0lBQ3ZDO0lBRUEsSUFBTW1ILHVCQUF1QixTQUFDbEo7UUFDNUJBLEVBQUVFLGNBQWM7UUFFaEIsSUFBTXdCLGtCQUFrQixTQUFDK0c7WUFDdkIsSUFBTVUsWUFBWWhFLFNBQVN3RCxjQUFjLENBQUM7WUFDMUMsSUFBSSxDQUFDUSxXQUFXO1lBRWhCLElBQU1QLGdCQUFnQk8sVUFBVU4scUJBQXFCO1lBQ3JELElBQU1FLFlBQVl6RyxLQUFLRSxHQUFHLENBQUMsS0FBS0YsS0FBS0MsR0FBRyxDQUFDLEtBQUtrRyxVQUFVUSxPQUFPLEdBQUdMLGNBQWNRLEdBQUc7WUFDbkZuTixrQkFBa0I4TTtRQUNwQjtRQUVBLElBQU1oSCxnQkFBZ0I7WUFDcEJvRCxTQUFTckMsbUJBQW1CLENBQUMsYUFBYXBCO1lBQzFDeUQsU0FBU3JDLG1CQUFtQixDQUFDLFdBQVdmO1FBQzFDO1FBRUFvRCxTQUFTdEMsZ0JBQWdCLENBQUMsYUFBYW5CO1FBQ3ZDeUQsU0FBU3RDLGdCQUFnQixDQUFDLFdBQVdkO0lBQ3ZDO0lBRUEsSUFBTXNILG9CQUFvQixTQUFDcko7WUFDWkE7UUFBYixJQUFNcUQsUUFBT3JELGtCQUFBQSxFQUFFSSxNQUFNLENBQUNtRCxLQUFLLGNBQWR2RCxzQ0FBQUEsZUFBZ0IsQ0FBQyxFQUFFO1FBQ2hDLElBQUlxRCxNQUFNO1lBQ1IsSUFBTUksU0FBUyxJQUFJQztZQUNuQkQsT0FBT0UsTUFBTSxHQUFHLFNBQUNDO29CQUNDQTtnQkFBaEIsSUFBTUMsV0FBVUQsZ0JBQUFBLE1BQU14RCxNQUFNLGNBQVp3RCxvQ0FBQUEsY0FBY0UsTUFBTTtnQkFDcEMsYUFBYTtnQkFDYi9LLDBDQUFZLENBQUN1USxPQUFPLENBQUN6RixTQUFTO29CQUM1QjBGLGFBQWE7Z0JBQ2YsR0FBRyxTQUFDcEY7d0JBb0JGM0g7b0JBbkJBLElBQU11SCxVQUFVQyxLQUFLQyxHQUFHLEdBQUdDLFFBQVE7b0JBQ25DLElBQU1zRixVQUFVO3dCQUNkdFAsR0FBRyxFQUFHb0ssV0FBVyxDQUFnQkMsT0FBTyxJQUFJO3dCQUM1Q3BLLEdBQUcsRUFBR21LLFdBQVcsQ0FBZ0JFLE9BQU8sSUFBSTtvQkFDOUM7b0JBRUFMLElBQUk5TCxHQUFHLENBQUM7d0JBQ05vUixNQUFNRCxRQUFRdFAsQ0FBQzt3QkFDZmtQLEtBQUtJLFFBQVFyUCxDQUFDO3dCQUNkdVAsYUFBYTt3QkFDYkMsbUJBQW1CO3dCQUNuQkMsWUFBWTt3QkFDWkMsb0JBQW9CO3dCQUNwQkMsYUFBYTt3QkFDYkMsbUJBQW1CO3dCQUNuQmpELFNBQVM7d0JBQ1QxSixNQUFNOzRCQUFFaUIsSUFBSTBGOzRCQUFTSyxLQUFLUDt3QkFBUTtvQkFDcEM7cUJBRUFySCxxQkFBQUEsVUFBVWlCLE9BQU8sY0FBakJqQix5Q0FBQUEsbUJBQW1Cd04sR0FBRyxDQUFDN0Y7b0JBRXZCLGVBQWU7b0JBQ2YsSUFBTU8sYUFBYXZNLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUEwQjZMLE9BQWpCN0ssUUFBTyxZQUFrQixPQUFSNks7b0JBQzNEMUwsc0RBQUdBLENBQUNxTSxZQUFZO3dCQUNkckcsSUFBSTBGO3dCQUNKN0osR0FBR2lLLElBQUlzRixJQUFJO3dCQUNYdFAsR0FBR2dLLElBQUlpRixHQUFHO3dCQUNWOU8sT0FBTzZKLElBQUk3SixLQUFLO3dCQUNoQkcsUUFBUTBKLElBQUkxSixNQUFNO3dCQUNsQjJKLEtBQUtQO29CQUNQO2dCQUNGO1lBQ0Y7WUFDQUosT0FBT2tCLGFBQWEsQ0FBQ3RCO1FBQ3ZCO0lBQ0Y7SUFFQSx1QkFBdUI7SUFDdkJ6TCxnREFBU0E7NEJBQUM7WUFDUixJQUFJK0YsU0FBU0YsT0FBTyxFQUFFO2dCQUNwQixJQUFNd00sZ0JBQWdCdE0sU0FBU0YsT0FBTyxDQUFDeU0sTUFBTTtnQkFDN0MxTixVQUFVaUIsT0FBTyxHQUFHLElBQUkxRSwyQ0FBYSxDQUFDa1IsZUFBZTtvQkFDbkQzUCxPQUFPQyxPQUFPQyxVQUFVO29CQUN4QkMsUUFBUUYsT0FBT0csV0FBVztnQkFDNUI7Z0JBRUEscUJBQXFCO2dCQUNyQjhCLFVBQVVpQixPQUFPLENBQUMwTSxFQUFFLENBQUM7d0NBQW1CLFNBQUNuSzt3QkFDdkMsSUFBTW9LLE1BQU1wSyxFQUFFSSxNQUFNO3dCQUNwQixJQUFJZ0ssT0FBT0EsSUFBSTVMLElBQUksS0FBSyxTQUFTO2dDQUNmNEw7NEJBQWhCLElBQU1yRyxXQUFVcUcsV0FBQUEsSUFBSUMsR0FBRyxDQUFDLHFCQUFSRCwrQkFBQUEsU0FBaUIvTCxFQUFFOzRCQUNuQyxJQUFJMEYsU0FBUztvQ0FRSnFHO2dDQVBQLElBQU10RixXQUFXM00sc0RBQUdBLENBQUNELHNEQUFRQSxFQUFFLFNBQTBCNkwsT0FBakI3SyxRQUFPLFlBQWtCLE9BQVI2SztnQ0FDekQxTCxzREFBR0EsQ0FBQ3lNLFVBQVU7b0NBQ1p6RyxJQUFJMEY7b0NBQ0o3SixHQUFHa1EsSUFBSVgsSUFBSTtvQ0FDWHRQLEdBQUdpUSxJQUFJaEIsR0FBRztvQ0FDVjlPLE9BQU84UCxJQUFJOVAsS0FBSyxHQUFJOFAsSUFBSTdKLE1BQU07b0NBQzlCOUYsUUFBUTJQLElBQUkzUCxNQUFNLEdBQUkyUCxJQUFJN0MsTUFBTTtvQ0FDaENuRCxHQUFHLEdBQUVnRyxZQUFBQSxJQUFJQyxHQUFHLENBQUMscUJBQVJELGdDQUFBQSxVQUFpQmhHLEdBQUc7Z0NBQzNCOzRCQUNGO3dCQUNGO29CQUNGOztZQUNGO1lBRUE7b0NBQU87d0JBQ0w1SDtxQkFBQUEscUJBQUFBLFVBQVVpQixPQUFPLGNBQWpCakIseUNBQUFBLG1CQUFtQjhOLE9BQU87Z0JBQzVCOztRQUNGOzJCQUFHLEVBQUU7SUFFTCwyQkFBMkI7SUFDM0IxUyxnREFBU0E7NEJBQUM7WUFDUixJQUFJNEUsVUFBVWlCLE9BQU8sRUFBRTtnQkFDckIsSUFBSTdELFNBQVMsVUFBVTtvQkFDckI0QyxVQUFVaUIsT0FBTyxDQUFDOE0sU0FBUyxHQUFHO29CQUM5Qi9OLFVBQVVpQixPQUFPLENBQUMrTSxhQUFhOzRDQUFDLFNBQUNKOzRCQUMvQkEsSUFBSUssVUFBVSxHQUFHO3dCQUNuQjs7Z0JBQ0YsT0FBTztvQkFDTGpPLFVBQVVpQixPQUFPLENBQUM4TSxTQUFTLEdBQUc7b0JBQzlCL04sVUFBVWlCLE9BQU8sQ0FBQytNLGFBQWE7NENBQUMsU0FBQ0o7NEJBQy9CQSxJQUFJSyxVQUFVLEdBQUc7d0JBQ25COztnQkFDRjtnQkFDQWpPLFVBQVVpQixPQUFPLENBQUNpTixTQUFTO1lBQzdCO1FBQ0Y7MkJBQUc7UUFBQzlRO0tBQUs7SUFFVCxtQkFBbUI7SUFDbkJoQyxnREFBU0E7NEJBQUM7WUFDUitQLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkI7Z0JBQ3JDMU8sUUFBQUE7Z0JBQ0FDLFVBQUFBO1lBQ0Y7UUFDRjsyQkFBRztRQUFDRDtRQUFRQztLQUFTO0lBRXJCLGlCQUFpQjtJQUNqQnZCLGdEQUFTQTs0QkFBQztZQUNSK1AsUUFBUUMsR0FBRyxDQUFDLCtCQUErQjFQLHNEQUFRQTtZQUVuRCxpQkFBaUI7WUFDakIsSUFBTXlTLFVBQVV4UyxzREFBR0EsQ0FBQ0Qsc0RBQVFBLEVBQUU7WUFDOUJFLDBEQUFPQSxDQUFDdVM7b0NBQVMsU0FBQ3hOO29CQUNoQndLLFFBQVFDLEdBQUcsQ0FBQywrQkFBK0J6SyxTQUFTRSxHQUFHO2dCQUN6RDs7UUFDRjsyQkFBRyxFQUFFO0lBRUwsYUFBYTtJQUNiLElBQU11TixzQkFBc0IsU0FBQ0M7UUFDM0IsSUFBSUMsT0FBTztRQUNYLElBQUssSUFBSXpJLElBQUksR0FBR0EsSUFBSXdJLEtBQUsvSSxNQUFNLEVBQUVPLElBQUs7WUFDcEN5SSxPQUFPRCxLQUFLRSxVQUFVLENBQUMxSSxLQUFNLEVBQUN5SSxRQUFRLEtBQUtBLElBQUc7UUFDaEQ7UUFFQSxXQUFXO1FBQ1gsSUFBTUUsTUFBTUYsT0FBTztRQUNuQixJQUFNRyxhQUFhLEtBQU1ILE9BQU8sSUFBSyxnQkFBZ0I7UUFDckQsSUFBTUksWUFBWSxLQUFNSixPQUFPLElBQU0sZUFBZTtRQUVwRCxPQUFPLE9BQWVHLE9BQVJELEtBQUksTUFBb0JFLE9BQWhCRCxZQUFXLE9BQWUsT0FBVkMsV0FBVTtJQUNsRDtJQUVBLElBQU1DO21CQUFzQiw2RUFBT0M7Z0JBSXZCbk4sYUFDQXdKLGVBRUFuTSxZQVdEb007Ozs7Ozs7Ozs7d0JBaEJQQyxRQUFRQyxHQUFHLENBQUMsb0JBQW9Cd0QsYUFBYSxPQUFPOzZCQUNoRGpTLENBQUFBLFlBQVlELE1BQUssR0FBakJDOzs7O3dCQUNJOEUsY0FBYzlGLHNEQUFHQSxDQUFDRCxzREFBUUEsRUFBRSxTQUFnQixPQUFQZ0IsUUFBTzt3QkFDNUN1TyxnQkFBZ0JuUCx1REFBSUEsQ0FBQzJGO3dCQUVyQjNDLGFBQWE7NEJBQ2pCbkMsVUFBQUE7NEJBQ0FxRixNQUFNOzRCQUNOQyxTQUFTMk07NEJBQ1Q3TSxNQUFNOzRCQUNORyxXQUFXbkcsa0VBQWVBO3dCQUM1Qjt3QkFFQW9QLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJ0TSxhQUFhLE9BQU87d0JBQ3ZEOzs0QkFBTWpELHNEQUFHQSxDQUFDb1AsZUFBZW5NOzs7d0JBQXpCOzs7Ozs7Ozt3QkFFS29NO3dCQUNQQyxRQUFRRCxLQUFLLENBQUMsMEJBQTBCQTs7Ozs7Ozs7Ozs7UUFFNUM7d0JBckJNeUQsb0JBQTZCQzs7OztJQXVCbkMsd0JBQXdCO0lBQ3hCeFQsZ0RBQVNBOzRCQUFDO1lBQ1IsSUFBTXlUO2tEQUFnQjtvQkFDcEIzTyxZQUFZbkMsT0FBT0MsVUFBVSxHQUFHLE1BQU0scUJBQXFCO2dCQUM3RDs7WUFFQTZRO1lBQ0E5USxPQUFPc0ksZ0JBQWdCLENBQUMsVUFBVXdJO1lBQ2xDO29DQUFPOzJCQUFNOVEsT0FBT3VJLG1CQUFtQixDQUFDLFVBQVV1STs7O1FBQ3BEOzJCQUFHLEVBQUU7SUFFTCxVQUFVO0lBQ1YscUJBQ0UsOERBQUNDO1FBQUluSyxXQUFVOzswQkFFYiw4REFBQ2pLLDhDQUFLQTtnQkFDSmlCLEtBQUt3RjtnQkFDTHJELE9BQU9DLE9BQU9DLFVBQVU7Z0JBQ3hCQyxRQUFRRixPQUFPRyxXQUFXO2dCQUMxQjZRLGFBQWEzSztnQkFDYjRLLGFBQWE5SjtnQkFDYitKLFdBQVcxSjtnQkFDWDJKLGNBQWMzSjtnQkFDZDRKLFNBQVM1TDtnQkFDVFEsUUFBUXZHO2dCQUNSdU4sUUFBUXZOO2dCQUNSRSxHQUFHRSxTQUFTRixDQUFDO2dCQUNiQyxHQUFHQyxTQUFTRCxDQUFDO2dCQUNieVIsT0FBTztvQkFBRUMsWUFBWTtnQkFBVTswQkFFL0IsNEVBQUMxVSw4Q0FBS0E7O3dCQUNIME87d0JBQ0FIO3dCQUNBaE0sNkJBQ0MsOERBQUN0Qyw2Q0FBSUE7NEJBQ0hvSyxRQUFROUgsWUFBWThILE1BQU07NEJBQzFCbUUsUUFBUWpNLFlBQVlJLFdBQVc7NEJBQy9CRCxhQUFhSCxZQUFZRyxXQUFXLEdBQUdHOzRCQUN2Q3FGLFNBQVMzRixZQUFZMkYsT0FBTzs0QkFDNUJDLFNBQVM1RixZQUFZNEYsT0FBTzs0QkFDNUJzRyxNQUFNbE0sWUFBWWtNLElBQUk7NEJBQ3RCckcsU0FBUTs0QkFDUkMsVUFBUzs0QkFDVEMsMEJBQ0UvRixZQUFZRSxJQUFJLEtBQUssV0FBVyxvQkFBb0I7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBUTdELENBQUM2QywwQkFDQTs7a0NBRUUsOERBQUM2Tzt3QkFDQ25LLFdBQVU7d0JBQ1Z5SyxPQUFPOzRCQUNMblIsUUFBUXFCLHNCQUFzQixTQUFTLEdBQWtCLE9BQWZFLGdCQUFlOzRCQUN6RDhQLFlBQVk7d0JBQ2Q7OzBDQUVBLDhEQUFDUjtnQ0FBSW5LLFdBQVU7O2tEQUNiLDhEQUFDbUs7d0NBQUluSyxXQUFVOzswREFDYiw4REFBQzRLO2dEQUFHNUssV0FBVTs7b0RBQTBDO29EQUFNakk7Ozs7Ozs7MERBQzlELDhEQUFDOFM7Z0RBQUs3SyxXQUFVOztvREFBdUM7b0RBQUV2RixNQUFNa0csTUFBTTtvREFBQzs7Ozs7Ozs7Ozs7OztrREFFeEUsOERBQUNkO3dDQUNDZ0YsU0FBUzttREFBTWpLLHVCQUF1QixDQUFDRDs7d0NBQ3ZDcUYsV0FBVTtrREFFVHJGLG9DQUFzQiw4REFBQ3JELHVLQUFhQTs7OztrRUFBTSw4REFBQ0MscUtBQVdBOzs7Ozs7Ozs7Ozs7Ozs7OzRCQUkxRCxDQUFDb0QscUNBQ0E7O2tEQUNFLDhEQUFDd1A7d0NBQ0NuSyxXQUFVO3dDQUNWeUssT0FBTzs0Q0FBRW5SLFFBQVEsR0FBdUIsT0FBcEJ1QixpQkFBaUIsSUFBRzt3Q0FBSTtrREFFNUMsNEVBQUNzUDs0Q0FBSW5LLFdBQVU7OzhEQUNiLDhEQUFDOEs7b0RBQUU5SyxXQUFVOzhEQUEwQjs7Ozs7OzhEQUN2Qyw4REFBQytLO29EQUFHL0ssV0FBVTs4REFDWHZGLE1BQU13QyxHQUFHLENBQUMsU0FBQytOLE1BQU1DOzZFQUNoQiw4REFBQ0M7NERBQWVsTCxXQUFVO3NFQUN2QmdMOzJEQURNQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrREFRakIsOERBQUNkO3dDQUNDbkssV0FBVTt3Q0FDVm9LLGFBQWFyQzt3Q0FDYjBDLE9BQU87NENBQUVVLGlCQUFpQjt3Q0FBYzs7Ozs7Ozs7Ozs7Ozs7a0NBT2hELDhEQUFDaEI7d0JBQ0NuSyxXQUFVO3dCQUNWeUssT0FBTzs0QkFDTG5SLFFBQVFlLGNBQWMsU0FBUyxHQUFjLE9BQVhFLFlBQVc7NEJBQzdDb1EsWUFBWTt3QkFDZDs7MENBRUEsOERBQUNSO2dDQUFJbkssV0FBVTs7a0RBQ2IsOERBQUM0Szt3Q0FBRzVLLFdBQVU7a0RBQWlDOzs7Ozs7a0RBQy9DLDhEQUFDSDt3Q0FDQ2dGLFNBQVM7bURBQU12SyxlQUFlLENBQUNEOzt3Q0FDL0IyRixXQUFVO2tEQUVUM0YsNEJBQWMsOERBQUMvQyx1S0FBYUE7Ozs7a0VBQU0sOERBQUNDLHFLQUFXQTs7Ozs7Ozs7Ozs7Ozs7Ozs0QkFJbEQsQ0FBQzhDLDZCQUNBOztrREFDRSw4REFBQzhQO3dDQUNDbkssV0FBVTt3Q0FDVnlLLE9BQU87NENBQUVuUixRQUFRLEdBQW1CLE9BQWhCaUIsYUFBYSxJQUFHO3dDQUFJO2tEQUV2Q04sU0FBU2dELEdBQUcsQ0FBQyxTQUFDRTs0Q0FDYixJQUFNaU8sWUFBWTNCLG9CQUFvQnRNLElBQUluRixRQUFROzRDQUNsRCxxQkFDRSw4REFBQ21TO2dEQUVDbkssV0FBVTswREFFViw0RUFBQ21LO29EQUFJbkssV0FBVTs7c0VBQ2IsOERBQUM2Szs0REFBS0osT0FBTztnRUFBRVksT0FBT0Q7NERBQVU7NERBQUdwTCxXQUFVOztnRUFDMUM3QyxJQUFJbkYsUUFBUTtnRUFBQzs7Ozs7Ozt3REFFZm1GLElBQUlFLElBQUksS0FBSywwQkFDWiw4REFBQzhNOzREQUFJbkssV0FBVTtzRUFDYiw0RUFBQzlKLG1EQUFLQTtnRUFDSitNLEtBQUs5RixJQUFJRyxPQUFPLElBQUk7Z0VBQ3BCZ08sS0FBSTtnRUFDSnBHLElBQUk7Z0VBQ0psRixXQUFVO2dFQUNWdUwsV0FBVzs7Ozs7Ozs7OztrRkFJZiw4REFBQ1Y7NERBQUs3SyxXQUFVO3NFQUF3QjdDLElBQUlDLElBQUk7Ozs7Ozs7Ozs7OzsrQ0FsQi9DRCxJQUFJRCxFQUFFOzs7Ozt3Q0F1QmpCOzs7Ozs7a0RBR0YsOERBQUNpTjt3Q0FBSW5LLFdBQVU7OzBEQUNiLDhEQUFDbkksaUVBQWFBO2dEQUFDMlQsaUJBQWlCeEI7Ozs7OzswREFDaEMsOERBQUN5QjtnREFDQ3BPLE1BQUs7Z0RBQ0xxTyxPQUFPdlI7Z0RBQ1B3UixVQUFVLFNBQUM5TTsyREFBTXpFLGNBQWN5RSxFQUFFSSxNQUFNLENBQUN5TSxLQUFLOztnREFDN0NFLGFBQVk7Z0RBQ1o1TCxXQUFVOzs7Ozs7MERBRVosOERBQUNIO2dEQUNDZ0YsU0FBU3dCO2dEQUNUckcsV0FBVTswREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVdaMUUsMEJBQ0M7O2tDQUVFLDhEQUFDNk87d0JBQ0NuSyxXQUFVO2tDQUVWLDRFQUFDbUs7NEJBQUluSyxXQUFVOzs4Q0FDYiw4REFBQ21LO29DQUFJbkssV0FBVTs7c0RBQ2IsOERBQUM0Szs0Q0FBRzVLLFdBQVU7O2dEQUEwQztnREFDbERqSTs7Ozs7OztzREFFTiw4REFBQzhTOzRDQUFLN0ssV0FBVTs7Z0RBQXFCO2dEQUFFdkYsTUFBTWtHLE1BQU07Z0RBQUM7Ozs7Ozs7Ozs7Ozs7OENBRXRELDhEQUFDZDtvQ0FDQ2dGLFNBQVM7K0NBQU1wSixrQkFBa0IsQ0FBQ0Q7O29DQUNsQ3dFLFdBQVU7OENBRVYsNEVBQUN4SSx1S0FBYUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQ0FNcEIsOERBQUMyUzt3QkFDQ25LLFdBQVcsK0ZBRVYsT0FEQ3RFLFdBQVcsa0JBQWtCO3dCQUUvQitPLE9BQU87NEJBQUU5QyxXQUFXO3dCQUFPOzswQ0FFM0IsOERBQUN3QztnQ0FBSW5LLFdBQVU7O2tEQUNiLDhEQUFDNEs7d0NBQUc1SyxXQUFVO2tEQUFpQzs7Ozs7O2tEQUMvQyw4REFBQ0g7d0NBQ0NnRixTQUFTO21EQUFNbEosWUFBWTs7d0NBQzNCcUUsV0FBVTtrREFFViw0RUFBQzFJLHVLQUFhQTs7Ozs7Ozs7Ozs7Ozs7OzswQ0FJbEIsOERBQUM2UztnQ0FBSW5LLFdBQVU7Ozs7OzswQ0FJZiw4REFBQ21LO2dDQUFJbkssV0FBVTs7a0RBQ2IsOERBQUNuSSxpRUFBYUE7d0NBQUMyVCxpQkFBaUJ4Qjs7Ozs7O2tEQUNoQyw4REFBQ3lCO3dDQUNDcE8sTUFBSzt3Q0FDTHFPLE9BQU92Ujt3Q0FDUHdSLFVBQVUsU0FBQzlNO21EQUFNekUsY0FBY3lFLEVBQUVJLE1BQU0sQ0FBQ3lNLEtBQUs7O3dDQUM3Q0UsYUFBWTt3Q0FDWjVMLFdBQVU7Ozs7OztrREFFWiw4REFBQ0g7d0NBQ0NnRixTQUFTd0I7d0NBQ1RyRyxXQUFVO2tEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBT0wsOERBQUNtSzt3QkFBSW5LLFdBQVU7OzBDQUNiLDhEQUFDSDtnQ0FDQ2dGLFNBQVM7MkNBQU1sSixZQUFZOztnQ0FDM0JxRSxXQUFVOzBDQUVWLDRFQUFDdkksMEtBQWdCQTs7Ozs7Ozs7OzswQ0FFbkIsOERBQUNvSTtnQ0FDQ2dGLFNBQVM7MkNBQU1oSixhQUFhOztnQ0FDNUJtRSxXQUFVOzBDQUVWLDRFQUFDdEksdUtBQWFBOzs7Ozs7Ozs7Ozs7Ozs7O29CQUtqQmtFLDJCQUNDLDhEQUFDdU87d0JBQUluSyxXQUFVO2tDQUNiLDRFQUFDbUs7NEJBQUluSyxXQUFVOzs4Q0FDYiw4REFBQ21LO29DQUFJbkssV0FBVTs7c0RBQ2IsOERBQUM0Szs0Q0FBRzVLLFdBQVU7c0RBQWE7Ozs7OztzREFDM0IsOERBQUNIOzRDQUNDZ0YsU0FBUzt1REFBTWhKLGFBQWE7OzRDQUM1Qm1FLFdBQVU7c0RBRVYsNEVBQUNySSx3S0FBY0E7Ozs7Ozs7Ozs7Ozs7Ozs7OENBR25CLDhEQUFDb1Q7b0NBQUcvSyxXQUFVOzhDQUNYdkYsTUFBTXdDLEdBQUcsQ0FBQyxTQUFDK04sTUFBTUM7NkRBQ2hCLDhEQUFDQzs0Q0FBZWxMLFdBQVU7c0RBQ3ZCZ0w7MkNBRE1DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZN0I7R0Fwa0NNblQ7O1FBS3VEaEIsaUVBQWNBOzs7S0FMckVnQjtBQXNrQ04sb0ZBQWVqQiwyQ0FBSUEsQ0FBQ2lCLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFznq4vnkZxcXFJlYWN0TGVhcm5pbmdcXExpdmVDaGF0Um9vbVxcZHJhd1xcd2hpdGVib2FyZC1hcHBcXHNyY1xcY29tcG9uZW50c1xcQ2FudmFzXFxpbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJztcclxuaW1wb3J0IHsgU3RhZ2UsIExheWVyLCBMaW5lLCBJbWFnZSBhcyBLb252YUltYWdlLCBUcmFuc2Zvcm1lciwgR3JvdXAsIENpcmNsZSwgTGluZSBhcyBLb252YUxpbmUgfSBmcm9tICdyZWFjdC1rb252YSc7XHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZU1lbW8sIG1lbW8gfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZUNhbnZhc1N0b3JlIH0gZnJvbSAnLi4vLi4vc3RvcmUvdXNlQ2FudmFzU3RvcmUnO1xyXG5pbXBvcnQgeyBkYXRhYmFzZSB9IGZyb20gJy4uLy4uL2NvbmZpZy9maXJlYmFzZSc7XHJcbmltcG9ydCB7IHJlZiwgb25WYWx1ZSwgc2V0LCBwdXNoLCBzZXJ2ZXJUaW1lc3RhbXAgfSBmcm9tICdmaXJlYmFzZS9kYXRhYmFzZSc7XHJcbmltcG9ydCB7IEJpWm9vbUluLCBCaVpvb21PdXQsIEJpSW1hZ2VBZGQgfSBmcm9tICdyZWFjdC1pY29ucy9iaSc7XHJcbmltcG9ydCB7IE1kT3V0bGluZVpvb21PdXRNYXAsIE1kUGFuVG9vbCB9IGZyb20gJ3JlYWN0LWljb25zL21kJztcclxuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7XHJcbmltcG9ydCB7IEFpT3V0bGluZURvd24sIEFpT3V0bGluZVVwLCBBaU91dGxpbmVNZW51LCBBaU91dGxpbmVNZXNzYWdlLCBBaU91dGxpbmVUZWFtLCBBaU91dGxpbmVDbG9zZSB9IGZyb20gJ3JlYWN0LWljb25zL2FpJztcclxuaW1wb3J0IHsgS29udmFFdmVudE9iamVjdCB9IGZyb20gJ2tvbnZhL2xpYi9Ob2RlJztcclxuaW1wb3J0IHsgQ2FudmFzIGFzIEZhYnJpY0NhbnZhcyB9IGZyb20gJ2ZhYnJpYyc7XHJcbmltcG9ydCAqIGFzIGZhYnJpYyBmcm9tICdmYWJyaWMnO1xyXG5pbXBvcnQgU3RpY2tlclBpY2tlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL1N0aWNrZXJQaWNrZXInO1xyXG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XHJcblxyXG5pbnRlcmZhY2UgQ2FudmFzUHJvcHMge1xyXG4gIHJvb21JZDogc3RyaW5nO1xyXG4gIG5pY2tuYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBMaW5lRWxlbWVudCB7XHJcbiAgdG9vbDogc3RyaW5nO1xyXG4gIHBvaW50czogbnVtYmVyW107XHJcbiAgc3Ryb2tlV2lkdGg6IG51bWJlcjtcclxuICBzdHJva2VDb2xvcjogc3RyaW5nO1xyXG4gIHRlbnNpb24/OiBudW1iZXI7XHJcbiAgb3BhY2l0eT86IG51bWJlcjtcclxuICBkYXNoPzogbnVtYmVyW107XHJcbn1cclxuXHJcbmludGVyZmFjZSBJbWFnZUVsZW1lbnQge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuICB3aWR0aDogbnVtYmVyO1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG4gIHNyYzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVzc2FnZSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuaWNrbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU/OiAndGV4dCcgfCAnc3RpY2tlcic7XHJcbiAgdGV4dD86IHN0cmluZztcclxuICBjb250ZW50Pzogc3RyaW5nO1xyXG4gIHRpbWVzdGFtcD86IG51bWJlciB8IG51bGw7XHJcbn1cclxuXHJcbmludGVyZmFjZSBSb29tVXNlciB7XHJcbiAgbmlja25hbWU6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgQ2FudmFzOiBSZWFjdC5GQzxDYW52YXNQcm9wcz4gPSAoeyByb29tSWQsIG5pY2tuYW1lIH0pID0+IHtcclxuICBjb25zdCBbbGluZXMsIHNldExpbmVzXSA9IHVzZVN0YXRlPExpbmVFbGVtZW50W10+KFtdKTtcclxuICBjb25zdCBbaXNEcmF3aW5nLCBzZXRJc0RyYXdpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbY3VycmVudExpbmUsIHNldEN1cnJlbnRMaW5lXSA9IHVzZVN0YXRlPExpbmVFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgeyB0b29sLCBzdHJva2VXaWR0aCwgc3Ryb2tlQ29sb3IsIHNldFN0cm9rZUNvbG9yIH0gPSB1c2VDYW52YXNTdG9yZSgpO1xyXG4gIGNvbnN0IFtzY2FsZSwgc2V0U2NhbGVdID0gdXNlU3RhdGUoMSk7XHJcbiAgY29uc3QgW3Bvc2l0aW9uLCBzZXRQb3NpdGlvbl0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XHJcbiAgY29uc3QgW3N0YWdlU2l6ZSwgc2V0U3RhZ2VTaXplXSA9IHVzZVN0YXRlKHsgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoICogMiwgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgKiAyIH0pO1xyXG4gIGNvbnN0IFtkcmFnTW9kZSwgc2V0RHJhZ01vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpbWFnZXMsIHNldEltYWdlc10gPSB1c2VTdGF0ZTxJbWFnZUVsZW1lbnRbXT4oW10pO1xyXG4gIGNvbnN0IFtzZWxlY3RlZEltYWdlLCBzZXRTZWxlY3RlZEltYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHRyYW5zZm9ybWVyUmVmID0gdXNlUmVmPEtvbnZhLlRyYW5zZm9ybWVyPihudWxsKTtcclxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xyXG4gIGNvbnN0IFtuZXdNZXNzYWdlLCBzZXROZXdNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbaXNNaW5pbWl6ZWQsIHNldElzTWluaW1pemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbY2hhdEhlaWdodCwgc2V0Q2hhdEhlaWdodF0gPSB1c2VTdGF0ZSgxNjApOyAvLyDpoJDoqK3pq5jluqYgMTYwcHggKDTliJcpXHJcbiAgY29uc3QgW3VzZXJzLCBzZXRVc2Vyc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xyXG4gIGNvbnN0IFtpc1Jvb21JbmZvTWluaW1pemVkLCBzZXRJc1Jvb21JbmZvTWluaW1pemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbcm9vbUluZm9IZWlnaHQsIHNldFJvb21JbmZvSGVpZ2h0XSA9IHVzZVN0YXRlKDIwMCk7IC8vIOmgkOioremrmOW6plxyXG4gIGNvbnN0IFtzZWxlY3Rpb25TdGFydCwgc2V0U2VsZWN0aW9uU3RhcnRdID0gdXNlU3RhdGU8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3NlbGVjdGVkRWxlbWVudHMsIHNldFNlbGVjdGVkRWxlbWVudHNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcclxuICBjb25zdCBbaXNEcmFnZ2luZ1NlbGVjdGlvbiwgc2V0SXNEcmFnZ2luZ1NlbGVjdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgZmFicmljUmVmID0gdXNlUmVmPEZhYnJpY0NhbnZhcyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpc01vYmlsZSwgc2V0SXNNb2JpbGVdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93TW9iaWxlTWVudSwgc2V0U2hvd01vYmlsZU1lbnVdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93Q2hhdCwgc2V0U2hvd0NoYXRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93VXNlcnMsIHNldFNob3dVc2Vyc10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIC8vIEZpcmViYXNlIOebo+iBvVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCByb29tUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2xpbmVzYCk7XHJcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uVmFsdWUocm9vbVJlZiwgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICBzZXRMaW5lcyhPYmplY3QudmFsdWVzKGRhdGEpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRMaW5lcyhbXSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW3Jvb21JZF0pO1xyXG5cclxuICAvLyDnm6Pogb0gRmlyZWJhc2Ug5Lit55qE5ZyW54mH5pW45pOaXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGltYWdlc1JlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9pbWFnZXNgKTtcclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25WYWx1ZShpbWFnZXNSZWYsIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgc2V0SW1hZ2VzKE9iamVjdC52YWx1ZXMoZGF0YSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldEltYWdlcyhbXSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW3Jvb21JZF0pO1xyXG5cclxuICAvLyDnlbbpgbjkuK3lnJbniYfororljJbmmYLmm7TmlrAgVHJhbnNmb3JtZXJcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHNlbGVjdGVkSW1hZ2UgJiYgdHJhbnNmb3JtZXJSZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGlmICghc3RhZ2UpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG5vZGUgPSBzdGFnZS5maW5kT25lKGAjJHtzZWxlY3RlZEltYWdlfWApO1xyXG4gICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgIHRyYW5zZm9ybWVyUmVmLmN1cnJlbnQubm9kZXMoW25vZGVdKTtcclxuICAgICAgICB0cmFuc2Zvcm1lclJlZi5jdXJyZW50LmdldExheWVyKCk/LmJhdGNoRHJhdygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW3NlbGVjdGVkSW1hZ2UsIGltYWdlc10pO1xyXG5cclxuICAvLyDkv67mlLnnm6Pogb3ogYrlpKnoqIrmga/nmoQgdXNlRWZmZWN0XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IG1lc3NhZ2VzUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L21lc3NhZ2VzYCk7XHJcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uVmFsdWUobWVzc2FnZXNSZWYsIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0gc25hcHNob3QudmFsKCk7XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZUxpc3Q6IE1lc3NhZ2VbXSA9IE9iamVjdC5lbnRyaWVzKGRhdGEpXHJcbiAgICAgICAgICAubWFwKChbaWQsIG1zZ106IFtzdHJpbmcsIGFueV0pID0+ICh7XHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICBuaWNrbmFtZTogbXNnLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICB0ZXh0OiBtc2cudGV4dCB8fCAnJyxcclxuICAgICAgICAgICAgdHlwZTogbXNnLnR5cGUgfHwgJ3RleHQnLCAgLy8g5re75Yqg6aCQ6Kit6aGe5Z6LXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1zZy5jb250ZW50IHx8ICcnLCAvLyDmt7vliqAgY29udGVudCDlrZfmrrVcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBtc2cudGltZXN0YW1wXHJcbiAgICAgICAgICB9KSlcclxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiAoYS50aW1lc3RhbXAgfHwgMCkgLSAoYi50aW1lc3RhbXAgfHwgMCkpO1xyXG4gICAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VMaXN0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRNZXNzYWdlcyhbXSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW3Jvb21JZF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlcnNSZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vdXNlcnNgKTtcclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25WYWx1ZSh1c2Vyc1JlZiwgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICBjb25zdCB1c2VyTGlzdCA9IE9iamVjdC5rZXlzKGRhdGEpO1xyXG4gICAgICAgIHNldFVzZXJzKHVzZXJMaXN0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW3Jvb21JZF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHJvb21JZCAmJiBuaWNrbmFtZSkge1xyXG4gICAgICBjb25zdCB1c2VyUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L3VzZXJzLyR7bmlja25hbWV9YCk7XHJcbiAgICAgIHNldCh1c2VyUmVmLCB7XHJcbiAgICAgICAgbmlja25hbWU6IG5pY2tuYW1lLFxyXG4gICAgICAgIGxhc3RBY3RpdmU6IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8g55W255So5oi26Zui6ZaL5pmC56e76ZmkXHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgc2V0KHVzZXJSZWYsIG51bGwpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0sIFtyb29tSWQsIG5pY2tuYW1lXSk7XHJcblxyXG4gIGNvbnN0IGdldExpbmVQcm9wZXJ0aWVzID0gKHRvb2xUeXBlOiBzdHJpbmcpID0+IHtcclxuICAgIHN3aXRjaCAodG9vbFR5cGUpIHtcclxuICAgICAgY2FzZSAncGVuY2lsJzpcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdGVuc2lvbjogMC4zLFxyXG4gICAgICAgICAgb3BhY2l0eTogMC45LFxyXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoICogMC44LFxyXG4gICAgICAgICAgbGluZUNhcDogJ3JvdW5kJyxcclxuICAgICAgICAgIGxpbmVKb2luOiAncm91bmQnLFxyXG4gICAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiAnc291cmNlLW92ZXInLFxyXG4gICAgICAgICAgc2hhZG93Q29sb3I6IHN0cm9rZUNvbG9yLFxyXG4gICAgICAgICAgc2hhZG93Qmx1cjogMC41LFxyXG4gICAgICAgICAgc2hhZG93T2Zmc2V0WDogMC4yLFxyXG4gICAgICAgICAgc2hhZG93T2Zmc2V0WTogMC4yLFxyXG4gICAgICAgICAgYmV6aWVyOiB0cnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgY2FzZSAncGVuJzpcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdGVuc2lvbjogMC42LFxyXG4gICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcclxuICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICBsaW5lSm9pbjogJ3JvdW5kJyxcclxuICAgICAgICAgIHNoYWRvd0NvbG9yOiBzdHJva2VDb2xvcixcclxuICAgICAgICAgIHNoYWRvd0JsdXI6IDAuMixcclxuICAgICAgICAgIGJlemllcjogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgIGNhc2UgJ2JydXNoJzpcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdGVuc2lvbjogMC40LFxyXG4gICAgICAgICAgb3BhY2l0eTogMC43LFxyXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoICogMixcclxuICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICBsaW5lSm9pbjogJ3JvdW5kJyxcclxuICAgICAgICAgIHNoYWRvd0NvbG9yOiBzdHJva2VDb2xvcixcclxuICAgICAgICAgIHNoYWRvd0JsdXI6IDIsXHJcbiAgICAgICAgICBiZXppZXI6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICBjYXNlICdtYXJrZXInOlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0ZW5zaW9uOiAwLjIsXHJcbiAgICAgICAgICBvcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGggKiAyLjUsXHJcbiAgICAgICAgICBsaW5lQ2FwOiAncm91bmQnLFxyXG4gICAgICAgICAgbGluZUpvaW46ICdyb3VuZCcsXHJcbiAgICAgICAgICBzaGFkb3dDb2xvcjogc3Ryb2tlQ29sb3IsXHJcbiAgICAgICAgICBzaGFkb3dCbHVyOiAwLFxyXG4gICAgICAgICAgYmV6aWVyOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICAgIGNhc2UgJ2VyYXNlcic6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHRlbnNpb246IDAuMyxcclxuICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGggKiAyLFxyXG4gICAgICAgICAgbGluZUNhcDogJ3JvdW5kJyxcclxuICAgICAgICAgIGxpbmVKb2luOiAncm91bmQnLFxyXG4gICAgICAgICAgc2hhZG93Qmx1cjogMCxcclxuICAgICAgICAgIGJlemllcjogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHRlbnNpb246IDAuNSxcclxuICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICBzdHJva2VXaWR0aCxcclxuICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICBsaW5lSm9pbjogJ3JvdW5kJ1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlV2hlZWwgPSAoZTogYW55KSA9PiB7XHJcbiAgICBlLmV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBzY2FsZUJ5ID0gMS4xO1xyXG4gICAgY29uc3Qgc3RhZ2UgPSBlLnRhcmdldC5nZXRTdGFnZSgpO1xyXG4gICAgY29uc3Qgb2xkU2NhbGUgPSBzdGFnZS5zY2FsZVgoKTtcclxuICAgIGNvbnN0IG1vdXNlUG9pbnRUbyA9IHtcclxuICAgICAgeDogc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueCAvIG9sZFNjYWxlIC0gc3RhZ2UueCgpIC8gb2xkU2NhbGUsXHJcbiAgICAgIHk6IHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLnkgLyBvbGRTY2FsZSAtIHN0YWdlLnkoKSAvIG9sZFNjYWxlLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBuZXdTY2FsZSA9IGUuZXZ0LmRlbHRhWSA8IDAgPyBvbGRTY2FsZSAqIHNjYWxlQnkgOiBvbGRTY2FsZSAvIHNjYWxlQnk7XHJcbiAgICBzZXRTY2FsZShuZXdTY2FsZSk7XHJcblxyXG4gICAgc2V0UG9zaXRpb24oe1xyXG4gICAgICB4OiAtKG1vdXNlUG9pbnRUby54IC0gc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueCAvIG5ld1NjYWxlKSAqIG5ld1NjYWxlLFxyXG4gICAgICB5OiAtKG1vdXNlUG9pbnRUby55IC0gc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueSAvIG5ld1NjYWxlKSAqIG5ld1NjYWxlLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gdXNlQ2FsbGJhY2soKGU6IGFueSkgPT4ge1xyXG4gICAgY29uc3Qgc3RhZ2UgPSBlLnRhcmdldC5nZXRTdGFnZSgpO1xyXG4gICAgY29uc3QgcG9zID0gc3RhZ2UuZ2V0UmVsYXRpdmVQb2ludGVyUG9zaXRpb24oKTtcclxuXHJcbiAgICBjb25zdCBpc1JpZ2h0Q2xpY2sgPSBlLmV2dC5idXR0b24gPT09IDI7XHJcbiAgICBjb25zdCBpc01pZGRsZUNsaWNrID0gZS5ldnQuYnV0dG9uID09PSAxO1xyXG4gICAgXHJcbiAgICAvLyDmqqLmn6XmmK/lkKbpu57mk4rlnKjlnJbniYfkuIpcclxuICAgIGNvbnN0IGNsaWNrZWRPbkltYWdlID0gZS50YXJnZXQuY2xhc3NOYW1lID09PSAnSW1hZ2UnO1xyXG4gICAgXHJcbiAgICAvLyDkv67mlLnliKTmlrfmop3ku7ZcclxuICAgIGlmIChpc1JpZ2h0Q2xpY2sgfHwgaXNNaWRkbGVDbGljayB8fCBlLmV2dC5jdHJsS2V5IHx8IGUuZXZ0Lm1ldGFLZXkgfHwgZHJhZ01vZGUpIHtcclxuICAgICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWmguaenOaYr+WcqOmBuOaTh+aooem7nuaTiuWclueJh++8jOS4jemWi+Wni+e5quijvVxyXG4gICAgaWYgKHRvb2wgPT09ICdzZWxlY3QnICYmIGNsaWNrZWRPbkltYWdlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRJc0RyYXdpbmcodHJ1ZSk7XHJcbiAgICBjb25zdCBsaW5lUHJvcHMgPSBnZXRMaW5lUHJvcGVydGllcyh0b29sKTtcclxuXHJcbiAgICBjb25zdCBuZXdMaW5lOiBMaW5lRWxlbWVudCA9IHtcclxuICAgICAgdG9vbCxcclxuICAgICAgcG9pbnRzOiBbcG9zLngsIHBvcy55XSxcclxuICAgICAgc3Ryb2tlQ29sb3I6IHRvb2wgPT09ICdlcmFzZXInID8gJyNmZmZmZmYnIDogc3Ryb2tlQ29sb3IsXHJcbiAgICAgIC4uLmxpbmVQcm9wc1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRDdXJyZW50TGluZShuZXdMaW5lKTtcclxuICAgIGNvbnN0IHJvb21SZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vbGluZXNgKTtcclxuICAgIGNvbnN0IG5ld0xpbmVSZWYgPSBwdXNoKHJvb21SZWYpO1xyXG4gICAgc2V0KG5ld0xpbmVSZWYsIG5ld0xpbmUpO1xyXG4gIH0sIFt0b29sLCBzdHJva2VDb2xvciwgZHJhZ01vZGUsIHJvb21JZF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSB1c2VDYWxsYmFjaygoZTogYW55KSA9PiB7XHJcbiAgICBpZiAoaXNEcmFnZ2luZykge1xyXG4gICAgICBjb25zdCBzdGFnZSA9IGUudGFyZ2V0LmdldFN0YWdlKCk7XHJcbiAgICAgIHNldFBvc2l0aW9uKHtcclxuICAgICAgICB4OiBzdGFnZS54KCkgKyBlLmV2dC5tb3ZlbWVudFgsXHJcbiAgICAgICAgeTogc3RhZ2UueSgpICsgZS5ldnQubW92ZW1lbnRZLFxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNEcmF3aW5nIHx8ICFjdXJyZW50TGluZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHN0YWdlID0gZS50YXJnZXQuZ2V0U3RhZ2UoKTtcclxuICAgIGNvbnN0IHBvcyA9IHN0YWdlLmdldFJlbGF0aXZlUG9pbnRlclBvc2l0aW9uKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IG5ld0xpbmUgPSB7XHJcbiAgICAgIC4uLmN1cnJlbnRMaW5lLFxyXG4gICAgICBwb2ludHM6IFsuLi5jdXJyZW50TGluZS5wb2ludHMsIHBvcy54LCBwb3MueV1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHNldEN1cnJlbnRMaW5lKG5ld0xpbmUpO1xyXG4gICAgZGVib3VuY2VkVXBkYXRlKGByb29tcy8ke3Jvb21JZH0vbGluZXMvJHtsaW5lcy5sZW5ndGh9YCwgbmV3TGluZSk7XHJcbiAgfSwgW2lzRHJhZ2dpbmcsIGlzRHJhd2luZywgY3VycmVudExpbmUsIHJvb21JZCwgbGluZXMubGVuZ3RoXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRJc0RyYXdpbmcoZmFsc2UpO1xyXG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICBzZXRDdXJyZW50TGluZShudWxsKTtcclxuXHJcbiAgICBpZiAodG9vbCA9PT0gJ3NlbGVjdCcgJiYgc2VsZWN0aW9uU3RhcnQpIHtcclxuICAgICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50O1xyXG4gICAgICBjb25zdCBwb3MgPSBzdGFnZS5nZXRSZWxhdGl2ZVBvaW50ZXJQb3NpdGlvbigpO1xyXG4gICAgICBcclxuICAgICAgLy8g542y5Y+W6YG45pOH5Y2A5Z+f5YWn55qE5YWD57SgXHJcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gbGluZXMuZmlsdGVyKGxpbmUgPT4ge1xyXG4gICAgICAgIHJldHVybiBsaW5lLnBvaW50cy5zb21lKChwb2ludDogbnVtYmVyLCBpOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgIGlmIChpICUgMiA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBsaW5lLnBvaW50c1tpICsgMV07XHJcbiAgICAgICAgICAgIHJldHVybiB4ID49IE1hdGgubWluKHNlbGVjdGlvblN0YXJ0LngsIHBvcy54KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgeCA8PSBNYXRoLm1heChzZWxlY3Rpb25TdGFydC54LCBwb3MueCkgJiZcclxuICAgICAgICAgICAgICAgICAgIHkgPj0gTWF0aC5taW4oc2VsZWN0aW9uU3RhcnQueSwgcG9zLnkpICYmXHJcbiAgICAgICAgICAgICAgICAgICB5IDw9IE1hdGgubWF4KHNlbGVjdGlvblN0YXJ0LnksIHBvcy55KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRTZWxlY3RlZEVsZW1lbnRzKHNlbGVjdGVkKTtcclxuICAgICAgc2V0SXNEcmFnZ2luZ1NlbGVjdGlvbih0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTZWxlY3Rpb25TdGFydChudWxsKTtcclxuICB9LCBbdG9vbCwgc2VsZWN0aW9uU3RhcnQsIGxpbmVzXSk7XHJcblxyXG4gIGNvbnN0IHpvb21JbiA9ICgpID0+IHtcclxuICAgIHNldFNjYWxlKHNjYWxlICogMS4yKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB6b29tT3V0ID0gKCkgPT4ge1xyXG4gICAgc2V0U2NhbGUoc2NhbGUgLyAxLjIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc2V0Wm9vbSA9ICgpID0+IHtcclxuICAgIHNldFNjYWxlKDEpO1xyXG4gICAgc2V0UG9zaXRpb24oeyB4OiAwLCB5OiAwIH0pO1xyXG4gIH07XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgIHNldFN0YWdlU2l6ZSh7XHJcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoICogMixcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAqIDJcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51ID0gKGU6IEV2ZW50KSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgaGFuZGxlQ29udGV4dE1lbnUpO1xyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGhhbmRsZUNvbnRleHRNZW51KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIOa4hemZpOeVq+W4g+WKn1xyXG4gIGNvbnN0IGhhbmRsZUNsZWFyQ2FudmFzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY29uc3Qgcm9vbVJlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9saW5lc2ApO1xyXG4gICAgc2V0KHJvb21SZWYsIG51bGwpO1xyXG4gIH0sIFtyb29tSWRdKTtcclxuXHJcbiAgLy8g5re75Yqg5riF6Zmk5YWo6YOo5Yqf6IO9XHJcbiAgY29uc3QgaGFuZGxlQ2xlYXJBbGwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCByb29tUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9YCk7XHJcbiAgICBzZXQocm9vbVJlZiwgbnVsbCk7IC8vIOa4hemZpOipsuaIv+mWk+eahOaJgOacieaVuOaTmlxyXG4gICAgc2V0U2VsZWN0ZWRJbWFnZShudWxsKTsgLy8g6YeN572u6YG45Lit5ZyW54mHXHJcbiAgfSwgW3Jvb21JZF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRHJvcCA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGZpbGUgPSBlLmRhdGFUcmFuc2Zlci5maWxlc1swXTtcclxuICAgIGlmIChmaWxlICYmIGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xyXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1nRGF0YSA9IGV2ZW50LnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZztcclxuICAgICAgICBjb25zdCBpbWFnZUlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyB3aW5kb3cuSW1hZ2UoKTtcclxuICAgICAgICBpbWcuc3JjID0gaW1nRGF0YTtcclxuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbmV3SW1hZ2UgPSB7XHJcbiAgICAgICAgICAgIGlkOiBpbWFnZUlkLFxyXG4gICAgICAgICAgICB4OiBlLm5hdGl2ZUV2ZW50Lm9mZnNldFggfHwgMTAwLFxyXG4gICAgICAgICAgICB5OiBlLm5hdGl2ZUV2ZW50Lm9mZnNldFkgfHwgMTAwLFxyXG4gICAgICAgICAgICB3aWR0aDogaW1nLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGltZy5oZWlnaHQsXHJcbiAgICAgICAgICAgIHNyYzogaW1nRGF0YSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIOabtOaWsOeLgOaFi+S7peinuOeZvOmHjeaWsOa4suafk1xyXG4gICAgICAgICAgc2V0SW1hZ2VzKChwcmV2SW1hZ2VzKSA9PiBbLi4ucHJldkltYWdlcywgbmV3SW1hZ2VdKTtcclxuXHJcbiAgICAgICAgICAvLyDlkIzmraXliLAgRmlyZWJhc2VcclxuICAgICAgICAgIGNvbnN0IGRiSW1hZ2VSZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vaW1hZ2VzLyR7aW1hZ2VJZH1gKTtcclxuICAgICAgICAgIHNldChkYkltYWdlUmVmLCBuZXdJbWFnZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSW1hZ2VUcmFuc2Zvcm0gPSAoaW1hZ2VJZDogc3RyaW5nLCBuZXdQcm9wczogUGFydGlhbDxJbWFnZUVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCBpbWFnZVJlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9pbWFnZXMvJHtpbWFnZUlkfWApO1xyXG4gICAgY29uc3QgdXBkYXRlZEltYWdlID0gaW1hZ2VzLmZpbmQoKGltZzogSW1hZ2VFbGVtZW50KSA9PiBpbWcuaWQgPT09IGltYWdlSWQpO1xyXG4gICAgaWYgKHVwZGF0ZWRJbWFnZSkge1xyXG4gICAgICBzZXQoaW1hZ2VSZWYsIHsgLi4udXBkYXRlZEltYWdlLCAuLi5uZXdQcm9wcyB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyDmt7vliqAgc3RhZ2Ug5byV55SoXHJcbiAgY29uc3Qgc3RhZ2VSZWYgPSB1c2VSZWY8YW55PihudWxsKTtcclxuXHJcbiAgLy8g6bue5pOK56m655m96JmV5Y+W5raI6YG45LitXHJcbiAgY29uc3QgY2hlY2tEZXNlbGVjdCA9IChlOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGNsaWNrZWRPbkVtcHR5ID0gZS50YXJnZXQgPT09IGUudGFyZ2V0LmdldFN0YWdlKCk7XHJcbiAgICBpZiAoY2xpY2tlZE9uRW1wdHkpIHtcclxuICAgICAgc2V0U2VsZWN0ZWRJbWFnZShudWxsKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyDpmLLmraLkuK3pjbXpu57mk4rnmoTpoJDoqK3ooYzngrrvvIjpgJrluLjmmK/oh6rli5Xmu77li5XvvIlcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgcHJldmVudERlZmF1bHQgPSAoZTogRXZlbnQpID0+IGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMSkgcHJldmVudERlZmF1bHQoZSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHByZXZlbnREZWZhdWx0KTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyDkvb/nlKjpmLLmipblhKrljJYgRmlyZWJhc2Ug5pu05pawXHJcbiAgY29uc3QgZGVib3VuY2VkVXBkYXRlID0gdXNlQ2FsbGJhY2soXHJcbiAgICBkZWJvdW5jZSgocGF0aDogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgZGJSZWYgPSByZWYoZGF0YWJhc2UsIHBhdGgpO1xyXG4gICAgICBzZXQoZGJSZWYsIGRhdGEpO1xyXG4gICAgfSwgMzApLFxyXG4gICAgW11cclxuICApO1xyXG5cclxuICAvLyDlhKrljJblnJbniYfmuLLmn5NcclxuICBjb25zdCBpbWFnZUNhY2hlID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBjYWNoZTogeyBba2V5OiBzdHJpbmddOiBIVE1MSW1hZ2VFbGVtZW50IH0gPSB7fTtcclxuICAgIGltYWdlcy5mb3JFYWNoKGltYWdlID0+IHtcclxuICAgICAgaWYgKCFjYWNoZVtpbWFnZS5zcmNdKSB7XHJcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IHdpbmRvdy5JbWFnZSgpO1xyXG4gICAgICAgIGltZy5zcmMgPSBpbWFnZS5zcmM7XHJcbiAgICAgICAgY2FjaGVbaW1hZ2Uuc3JjXSA9IGltZztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY2FjaGU7XHJcbiAgfSwgW2ltYWdlc10pO1xyXG5cclxuICAvLyDkvb/nlKggbWVtbyDlhKrljJbmuLLmn5NcclxuICBjb25zdCByZW5kZXJMaW5lcyA9IHVzZU1lbW8oKCkgPT4gKFxyXG4gICAgbGluZXMubWFwKChsaW5lLCBpKSA9PiAoXHJcbiAgICAgIDxMaW5lXHJcbiAgICAgICAga2V5PXtpfVxyXG4gICAgICAgIHBvaW50cz17bGluZS5wb2ludHN9XHJcbiAgICAgICAgc3Ryb2tlPXtsaW5lLnN0cm9rZUNvbG9yfVxyXG4gICAgICAgIHN0cm9rZVdpZHRoPXtsaW5lLnN0cm9rZVdpZHRoIC8gc2NhbGV9XHJcbiAgICAgICAgdGVuc2lvbj17bGluZS50ZW5zaW9ufVxyXG4gICAgICAgIG9wYWNpdHk9e2xpbmUub3BhY2l0eX1cclxuICAgICAgICBkYXNoPXtsaW5lLmRhc2h9XHJcbiAgICAgICAgbGluZUNhcD1cInJvdW5kXCJcclxuICAgICAgICBsaW5lSm9pbj1cInJvdW5kXCJcclxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb249e1xyXG4gICAgICAgICAgbGluZS50b29sID09PSAnZXJhc2VyJyA/ICdkZXN0aW5hdGlvbi1vdXQnIDogJ3NvdXJjZS1vdmVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgLz5cclxuICAgICkpXHJcbiAgKSwgW2xpbmVzLCBzY2FsZV0pO1xyXG5cclxuICBjb25zdCByZW5kZXJJbWFnZXMgPSB1c2VNZW1vKCgpID0+IChcclxuICAgIGltYWdlcy5tYXAoKGltYWdlLCBpKSA9PiAoXHJcbiAgICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e2l9PlxyXG4gICAgICAgIDxLb252YUltYWdlXHJcbiAgICAgICAgICBpZD17aW1hZ2UuaWR9XHJcbiAgICAgICAgICBpbWFnZT17aW1hZ2VDYWNoZVtpbWFnZS5zcmNdfVxyXG4gICAgICAgICAgeD17aW1hZ2UueH1cclxuICAgICAgICAgIHk9e2ltYWdlLnl9XHJcbiAgICAgICAgICB3aWR0aD17aW1hZ2Uud2lkdGh9XHJcbiAgICAgICAgICBoZWlnaHQ9e2ltYWdlLmhlaWdodH1cclxuICAgICAgICAgIGRyYWdnYWJsZT17dHJ1ZX1cclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkSW1hZ2UoaW1hZ2UuaWQpfVxyXG4gICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uRHJhZ01vdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uRHJhZ0VuZD17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5ldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2ltYWdlcy8ke2ltYWdlLmlkfWApO1xyXG4gICAgICAgICAgICBzZXQoaW1hZ2VSZWYsIHtcclxuICAgICAgICAgICAgICAuLi5pbWFnZSxcclxuICAgICAgICAgICAgICB4OiBlLnRhcmdldC54KCksXHJcbiAgICAgICAgICAgICAgeTogZS50YXJnZXQueSgpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgLz5cclxuICAgICAgICB7KHNlbGVjdGVkSW1hZ2UgPT09IGltYWdlLmlkIHx8IGRyYWdNb2RlKSAmJiAoXHJcbiAgICAgICAgICA8R3JvdXAgeD17aW1hZ2UueCArIGltYWdlLndpZHRoIC0gMjB9IHk9e2ltYWdlLnkgLSAyMH0+XHJcbiAgICAgICAgICAgIDxDaXJjbGVcclxuICAgICAgICAgICAgICByYWRpdXM9ezEwfVxyXG4gICAgICAgICAgICAgIGZpbGw9XCJyZWRcIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOWIqumZpOWclueJh1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VSZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vaW1hZ2VzLyR7aW1hZ2UuaWR9YCk7XHJcbiAgICAgICAgICAgICAgICBzZXQoaW1hZ2VSZWYsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbWFnZShudWxsKTtcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8S29udmFMaW5lXHJcbiAgICAgICAgICAgICAgcG9pbnRzPXtbLTUsIC01LCA1LCA1XX1cclxuICAgICAgICAgICAgICBzdHJva2U9XCJ3aGl0ZVwiXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxLb252YUxpbmVcclxuICAgICAgICAgICAgICBwb2ludHM9e1s1LCAtNSwgLTUsIDVdfVxyXG4gICAgICAgICAgICAgIHN0cm9rZT1cIndoaXRlXCJcclxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD17Mn1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvR3JvdXA+XHJcbiAgICAgICAgKX1cclxuICAgICAgICB7c2VsZWN0ZWRJbWFnZSA9PT0gaW1hZ2UuaWQgJiYgKFxyXG4gICAgICAgICAgPFRyYW5zZm9ybWVyXHJcbiAgICAgICAgICAgIHJlZj17dHJhbnNmb3JtZXJSZWZ9XHJcbiAgICAgICAgICAgIGJvdW5kQm94RnVuYz17KG9sZEJveCwgbmV3Qm94KSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgbWluV2lkdGggPSA1O1xyXG4gICAgICAgICAgICAgIGNvbnN0IG1pbkhlaWdodCA9IDU7XHJcbiAgICAgICAgICAgICAgaWYgKG5ld0JveC53aWR0aCA8IG1pbldpZHRoIHx8IG5ld0JveC5oZWlnaHQgPCBtaW5IZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvbGRCb3g7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBuZXdCb3g7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIGVuYWJsZWRBbmNob3JzPXtbXHJcbiAgICAgICAgICAgICAgJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsXHJcbiAgICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCcsXHJcbiAgICAgICAgICAgICAgJ21pZGRsZS1sZWZ0JywgJ21pZGRsZS1yaWdodCcsXHJcbiAgICAgICAgICAgICAgJ3RvcC1jZW50ZXInLCAnYm90dG9tLWNlbnRlcidcclxuICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgcm90YXRlRW5hYmxlZD17ZmFsc2V9XHJcbiAgICAgICAgICAgIGtlZXBSYXRpbz17ZmFsc2V9XHJcbiAgICAgICAgICAgIHBhZGRpbmc9ezV9XHJcbiAgICAgICAgICAgIGFuY2hvclNpemU9ezEwfVxyXG4gICAgICAgICAgICBhbmNob3JDb3JuZXJSYWRpdXM9ezV9XHJcbiAgICAgICAgICAgIGJvcmRlckVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgIGJvcmRlclN0cm9rZT1cIiMwMGZmMDBcIlxyXG4gICAgICAgICAgICBib3JkZXJTdHJva2VXaWR0aD17Mn1cclxuICAgICAgICAgICAgYW5jaG9yU3Ryb2tlPVwiIzAwZmYwMFwiXHJcbiAgICAgICAgICAgIGFuY2hvckZpbGw9XCIjZmZmZmZmXCJcclxuICAgICAgICAgICAgb25UcmFuc2Zvcm1FbmQ9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNjYWxlWCA9IG5vZGUuc2NhbGVYKCk7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2NhbGVZID0gbm9kZS5zY2FsZVkoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8g6YeN572u57iu5pS+XHJcbiAgICAgICAgICAgICAgbm9kZS5zY2FsZVgoMSk7XHJcbiAgICAgICAgICAgICAgbm9kZS5zY2FsZVkoMSk7XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IGltYWdlUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2ltYWdlcy8ke2ltYWdlLmlkfWApO1xyXG4gICAgICAgICAgICAgIHNldChpbWFnZVJlZiwge1xyXG4gICAgICAgICAgICAgICAgLi4uaW1hZ2UsXHJcbiAgICAgICAgICAgICAgICB4OiBub2RlLngoKSxcclxuICAgICAgICAgICAgICAgIHk6IG5vZGUueSgpLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgubWF4KDUsIG5vZGUud2lkdGgoKSAqIHNjYWxlWCksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGgubWF4KDUsIG5vZGUuaGVpZ2h0KCkgKiBzY2FsZVkpLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApfVxyXG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgKSlcclxuICApLCBbaW1hZ2VzLCBpbWFnZUNhY2hlLCBzZWxlY3RlZEltYWdlLCByb29tSWRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIHNlbmQgbWVzc2FnZTonLCB7XHJcbiAgICAgIHJvb21JZCxcclxuICAgICAgbmlja25hbWUsXHJcbiAgICAgIG1lc3NhZ2U6IG5ld01lc3NhZ2UsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChuZXdNZXNzYWdlLnRyaW0oKSAmJiBuaWNrbmFtZSAmJiByb29tSWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgbWVzc2FnZSByZWYgZm9yIHJvb206Jywgcm9vbUlkKTtcclxuICAgICAgICBjb25zdCBtZXNzYWdlc1JlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9tZXNzYWdlc2ApO1xyXG4gICAgICAgIGNvbnN0IG5ld01lc3NhZ2VSZWYgPSBwdXNoKG1lc3NhZ2VzUmVmKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZyBtZXNzYWdlIGRhdGEnKTtcclxuICAgICAgICBhd2FpdCBzZXQobmV3TWVzc2FnZVJlZiwge1xyXG4gICAgICAgICAgbmlja25hbWUsXHJcbiAgICAgICAgICB0ZXh0OiBuZXdNZXNzYWdlLnRyaW0oKSxcclxuICAgICAgICAgIHRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnTWVzc2FnZSBzZW50IHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgIHNldE5ld01lc3NhZ2UoJycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkczonLCB7XHJcbiAgICAgICAgICBoYXNNZXNzYWdlOiBCb29sZWFuKG5ld01lc3NhZ2UudHJpbSgpKSxcclxuICAgICAgICAgIGhhc05pY2tuYW1lOiBCb29sZWFuKG5pY2tuYW1lKSxcclxuICAgICAgICAgIGhhc1Jvb21JZDogQm9vbGVhbihyb29tSWQpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRldGFpbHM6Jywge1xyXG4gICAgICAgIGVycm9yLFxyXG4gICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXHJcbiAgICAgICAgZXJyb3JTdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJlc2l6ZVN0YXJ0ID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IChtb3ZlRXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgY29uc3QgY2hhdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LWNvbnRhaW5lcicpO1xyXG4gICAgICBpZiAoIWNoYXRDb250YWluZXIpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSBjaGF0Q29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBtYXhIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyOyAvLyDmnIDlpKfpq5jluqbngrronqLluZXpq5jluqbnmoTkuIDljYpcclxuICAgICAgY29uc3QgbWluSGVpZ2h0ID0gODA7IC8vIOacgOWwj+mrmOW6piAoMuWIlylcclxuICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gTWF0aC5tYXgobWluSGVpZ2h0LCBNYXRoLm1pbihtYXhIZWlnaHQsIGNvbnRhaW5lclJlY3QuYm90dG9tIC0gbW92ZUV2ZW50LmNsaWVudFkpKTtcclxuICAgICAgXHJcbiAgICAgIHNldENoYXRIZWlnaHQobmV3SGVpZ2h0ICsgODApOyAvLyDliqDkuIrpoK3pg6jlkozovLjlhaXmoYbnmoTpq5jluqZcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlTW91c2VVcCA9ICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApO1xyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJvb21JbmZvUmVzaXplID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IChtb3ZlRXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb20taW5mby1jb250YWluZXInKTtcclxuICAgICAgaWYgKCFjb250YWluZXIpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IG5ld0hlaWdodCA9IE1hdGgubWF4KDEwMCwgTWF0aC5taW4oNDAwLCBtb3ZlRXZlbnQuY2xpZW50WSAtIGNvbnRhaW5lclJlY3QudG9wKSk7XHJcbiAgICAgIHNldFJvb21JbmZvSGVpZ2h0KG5ld0hlaWdodCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XHJcbiAgICBpZiAoZmlsZSkge1xyXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1nRGF0YSA9IGV2ZW50LnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZztcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZmFicmljLkltYWdlLmZyb21VUkwoaW1nRGF0YSwge1xyXG4gICAgICAgICAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnXHJcbiAgICAgICAgfSwgKGltZzogZmFicmljLkltYWdlKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBpbWFnZUlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgY29uc3QgcG9pbnRlciA9IHtcclxuICAgICAgICAgICAgeDogKGUubmF0aXZlRXZlbnQgYXMgTW91c2VFdmVudCkub2Zmc2V0WCB8fCAxMDAsXHJcbiAgICAgICAgICAgIHk6IChlLm5hdGl2ZUV2ZW50IGFzIE1vdXNlRXZlbnQpLm9mZnNldFkgfHwgMTAwXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpbWcuc2V0KHtcclxuICAgICAgICAgICAgbGVmdDogcG9pbnRlci54LFxyXG4gICAgICAgICAgICB0b3A6IHBvaW50ZXIueSxcclxuICAgICAgICAgICAgY29ybmVyQ29sb3I6ICdibHVlJyxcclxuICAgICAgICAgICAgY29ybmVyU3Ryb2tlQ29sb3I6ICdibHVlJyxcclxuICAgICAgICAgICAgY29ybmVyU2l6ZTogMTIsXHJcbiAgICAgICAgICAgIHRyYW5zcGFyZW50Q29ybmVyczogZmFsc2UsXHJcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXHJcbiAgICAgICAgICAgIGJvcmRlclNjYWxlRmFjdG9yOiAyLFxyXG4gICAgICAgICAgICBwYWRkaW5nOiA1LFxyXG4gICAgICAgICAgICBkYXRhOiB7IGlkOiBpbWFnZUlkLCBzcmM6IGltZ0RhdGEgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZmFicmljUmVmLmN1cnJlbnQ/LmFkZChpbWcpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyDlkIzmraXliLAgRmlyZWJhc2VcclxuICAgICAgICAgIGNvbnN0IGRiSW1hZ2VSZWYgPSByZWYoZGF0YWJhc2UsIGByb29tcy8ke3Jvb21JZH0vaW1hZ2VzLyR7aW1hZ2VJZH1gKTtcclxuICAgICAgICAgIHNldChkYkltYWdlUmVmLCB7XHJcbiAgICAgICAgICAgIGlkOiBpbWFnZUlkLFxyXG4gICAgICAgICAgICB4OiBpbWcubGVmdCxcclxuICAgICAgICAgICAgeTogaW1nLnRvcCxcclxuICAgICAgICAgICAgd2lkdGg6IGltZy53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBpbWcuaGVpZ2h0LFxyXG4gICAgICAgICAgICBzcmM6IGltZ0RhdGFcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyDliJ3lp4vljJYgRmFicmljLmpzIGNhbnZhc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoc3RhZ2VSZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gc3RhZ2VSZWYuY3VycmVudC5jYW52YXMgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgIGZhYnJpY1JlZi5jdXJyZW50ID0gbmV3IGZhYnJpYy5DYW52YXMoY2FudmFzRWxlbWVudCwge1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDoqK3nva4gRmFicmljLmpzIOeahOS6i+S7tuiZleeQhlxyXG4gICAgICBmYWJyaWNSZWYuY3VycmVudC5vbignb2JqZWN0Om1vZGlmaWVkJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBvYmogPSBlLnRhcmdldDtcclxuICAgICAgICBpZiAob2JqICYmIG9iai50eXBlID09PSAnaW1hZ2UnKSB7XHJcbiAgICAgICAgICBjb25zdCBpbWFnZUlkID0gb2JqLmdldCgnZGF0YScpPy5pZDtcclxuICAgICAgICAgIGlmIChpbWFnZUlkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVmID0gcmVmKGRhdGFiYXNlLCBgcm9vbXMvJHtyb29tSWR9L2ltYWdlcy8ke2ltYWdlSWR9YCk7XHJcbiAgICAgICAgICAgIHNldChpbWFnZVJlZiwge1xyXG4gICAgICAgICAgICAgIGlkOiBpbWFnZUlkLFxyXG4gICAgICAgICAgICAgIHg6IG9iai5sZWZ0LFxyXG4gICAgICAgICAgICAgIHk6IG9iai50b3AsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IG9iai53aWR0aCEgKiBvYmouc2NhbGVYISxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IG9iai5oZWlnaHQhICogb2JqLnNjYWxlWSEsXHJcbiAgICAgICAgICAgICAgc3JjOiBvYmouZ2V0KCdkYXRhJyk/LnNyY1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGZhYnJpY1JlZi5jdXJyZW50Py5kaXNwb3NlKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8g5Zyo5bel5YW35YiH5o+b5pmC6JmV55CGIEZhYnJpYy5qcyDnmoTkuqTkupLmqKHlvI9cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGZhYnJpY1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGlmICh0b29sID09PSAnc2VsZWN0Jykge1xyXG4gICAgICAgIGZhYnJpY1JlZi5jdXJyZW50LnNlbGVjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgZmFicmljUmVmLmN1cnJlbnQuZm9yRWFjaE9iamVjdCgob2JqKSA9PiB7XHJcbiAgICAgICAgICBvYmouc2VsZWN0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmFicmljUmVmLmN1cnJlbnQuc2VsZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgZmFicmljUmVmLmN1cnJlbnQuZm9yRWFjaE9iamVjdCgob2JqKSA9PiB7XHJcbiAgICAgICAgICBvYmouc2VsZWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGZhYnJpY1JlZi5jdXJyZW50LnJlbmRlckFsbCgpO1xyXG4gICAgfVxyXG4gIH0sIFt0b29sXSk7XHJcblxyXG4gIC8vIOWcqOe1hOS7tumggumDqOa3u+WKoCBwcm9wcyDmqqLmn6VcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0NhbnZhcyBjb21wb25lbnQgcHJvcHM6Jywge1xyXG4gICAgICByb29tSWQsXHJcbiAgICAgIG5pY2tuYW1lXHJcbiAgICB9KTtcclxuICB9LCBbcm9vbUlkLCBuaWNrbmFtZV0pO1xyXG5cclxuICAvLyDmqqLmn6UgRmlyZWJhc2Ug6YCj5o6lXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdGaXJlYmFzZSBkYXRhYmFzZSBpbnN0YW5jZTonLCBkYXRhYmFzZSk7XHJcbiAgICBcclxuICAgIC8vIOa4rOippiBGaXJlYmFzZSDpgKPmjqVcclxuICAgIGNvbnN0IHRlc3RSZWYgPSByZWYoZGF0YWJhc2UsICcuaW5mby9jb25uZWN0ZWQnKTtcclxuICAgIG9uVmFsdWUodGVzdFJlZiwgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdGaXJlYmFzZSBjb25uZWN0aW9uIHN0YXR1czonLCBzbmFwc2hvdC52YWwoKSk7XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIOS/ruaUueeUn+aIkOabtOa3uuiJsueahOWHveaVuFxyXG4gIGNvbnN0IGdlbmVyYXRlUGFzdGVsQ29sb3IgPSAoc2VlZDogc3RyaW5nKSA9PiB7XHJcbiAgICBsZXQgaGFzaCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaGFzaCA9IHNlZWQuY2hhckNvZGVBdChpKSArICgoaGFzaCA8PCA1KSAtIGhhc2gpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOiqv+aVtOeCuuabtOa3uueahOmhj+iJslxyXG4gICAgY29uc3QgaHVlID0gaGFzaCAlIDM2MDtcclxuICAgIGNvbnN0IHNhdHVyYXRpb24gPSA1MCArIChoYXNoICUgMjApOyAvLyDpmY3kvY7po73lkozluqbliLAgNTAtNzAlXHJcbiAgICBjb25zdCBsaWdodG5lc3MgPSA4MCArIChoYXNoICUgMTApOyAgLy8g5o+Q6auY5Lqu5bqm5YiwIDgwLTkwJVxyXG5cclxuICAgIHJldHVybiBgaHNsKCR7aHVlfSwgJHtzYXR1cmF0aW9ufSUsICR7bGlnaHRuZXNzfSUpYDtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTdGlja2VyU2VsZWN0ID0gYXN5bmMgKHN0aWNrZXJVcmw6IHN0cmluZykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgc3RpY2tlcjonLCBzdGlja2VyVXJsKTsgLy8g5re75Yqg5pel6KqMXHJcbiAgICAgIGlmIChuaWNrbmFtZSAmJiByb29tSWQpIHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlc1JlZiA9IHJlZihkYXRhYmFzZSwgYHJvb21zLyR7cm9vbUlkfS9tZXNzYWdlc2ApO1xyXG4gICAgICAgIGNvbnN0IG5ld01lc3NhZ2VSZWYgPSBwdXNoKG1lc3NhZ2VzUmVmKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZXdNZXNzYWdlID0ge1xyXG4gICAgICAgICAgbmlja25hbWUsXHJcbiAgICAgICAgICB0eXBlOiAnc3RpY2tlcicsXHJcbiAgICAgICAgICBjb250ZW50OiBzdGlja2VyVXJsLFxyXG4gICAgICAgICAgdGV4dDogJycsIC8vIOa3u+WKoOepuueahCB0ZXh0IOWtl+autVxyXG4gICAgICAgICAgdGltZXN0YW1wOiBzZXJ2ZXJUaW1lc3RhbXAoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOZXcgbWVzc2FnZSBvYmplY3Q6JywgbmV3TWVzc2FnZSk7IC8vIOa3u+WKoOaXpeiqjFxyXG4gICAgICAgIGF3YWl0IHNldChuZXdNZXNzYWdlUmVmLCBuZXdNZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBzdGlja2VyOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyDlnKggdXNlRWZmZWN0IOS4reebo+iBveieouW5leWvrOW6puiuiuWMllxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjaGVja0lzTW9iaWxlID0gKCkgPT4ge1xyXG4gICAgICBzZXRJc01vYmlsZSh3aW5kb3cuaW5uZXJXaWR0aCA8IDc2OCk7IC8vIDc2OHB4IOaYr+W4uOeUqOeahOaJi+apny/lubPmnb/liIbnlYzpu55cclxuICAgIH07XHJcblxyXG4gICAgY2hlY2tJc01vYmlsZSgpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNoZWNrSXNNb2JpbGUpO1xyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBjaGVja0lzTW9iaWxlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIOa4suafk+S4jeWQjOeahOW4g+WxgFxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGxcIj5cclxuICAgICAgey8qIOS4u+eVq+W4g+WNgOWfnyAqL31cclxuICAgICAgPFN0YWdlXHJcbiAgICAgICAgcmVmPXtzdGFnZVJlZn1cclxuICAgICAgICB3aWR0aD17d2luZG93LmlubmVyV2lkdGh9XHJcbiAgICAgICAgaGVpZ2h0PXt3aW5kb3cuaW5uZXJIZWlnaHR9XHJcbiAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZU1vdXNlRG93bn1cclxuICAgICAgICBvbk1vdXNlbW92ZT17aGFuZGxlTW91c2VNb3ZlfVxyXG4gICAgICAgIG9uTW91c2V1cD17aGFuZGxlTW91c2VVcH1cclxuICAgICAgICBvbk1vdXNlbGVhdmU9e2hhbmRsZU1vdXNlVXB9XHJcbiAgICAgICAgb25XaGVlbD17aGFuZGxlV2hlZWx9XHJcbiAgICAgICAgc2NhbGVYPXtzY2FsZX1cclxuICAgICAgICBzY2FsZVk9e3NjYWxlfVxyXG4gICAgICAgIHg9e3Bvc2l0aW9uLnh9XHJcbiAgICAgICAgeT17cG9zaXRpb24ueX1cclxuICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAnI2ZmZmZmZicgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxMYXllcj5cclxuICAgICAgICAgIHtyZW5kZXJJbWFnZXN9XHJcbiAgICAgICAgICB7cmVuZGVyTGluZXN9XHJcbiAgICAgICAgICB7Y3VycmVudExpbmUgJiYgKFxyXG4gICAgICAgICAgICA8TGluZVxyXG4gICAgICAgICAgICAgIHBvaW50cz17Y3VycmVudExpbmUucG9pbnRzfVxyXG4gICAgICAgICAgICAgIHN0cm9rZT17Y3VycmVudExpbmUuc3Ryb2tlQ29sb3J9XHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2N1cnJlbnRMaW5lLnN0cm9rZVdpZHRoIC8gc2NhbGV9XHJcbiAgICAgICAgICAgICAgdGVuc2lvbj17Y3VycmVudExpbmUudGVuc2lvbn1cclxuICAgICAgICAgICAgICBvcGFjaXR5PXtjdXJyZW50TGluZS5vcGFjaXR5fVxyXG4gICAgICAgICAgICAgIGRhc2g9e2N1cnJlbnRMaW5lLmRhc2h9XHJcbiAgICAgICAgICAgICAgbGluZUNhcD1cInJvdW5kXCJcclxuICAgICAgICAgICAgICBsaW5lSm9pbj1cInJvdW5kXCJcclxuICAgICAgICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb249e1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExpbmUudG9vbCA9PT0gJ2VyYXNlcicgPyAnZGVzdGluYXRpb24tb3V0JyA6ICdzb3VyY2Utb3ZlcidcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvTGF5ZXI+XHJcbiAgICAgIDwvU3RhZ2U+XHJcblxyXG4gICAgICB7Lyog5qGM6Z2i54mI5biD5bGAICovfVxyXG4gICAgICB7IWlzTW9iaWxlICYmIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgey8qIOWPs+S4iuinkuaIv+mWk+izh+ioiiAqL31cclxuICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIHRvcC00IHJpZ2h0LTQgdy02NCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHotNDBcIlxyXG4gICAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgICBoZWlnaHQ6IGlzUm9vbUluZm9NaW5pbWl6ZWQgPyAnNDBweCcgOiBgJHtyb29tSW5mb0hlaWdodH1weGAsXHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2hlaWdodCAwLjJzJ1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBwLTIgYm9yZGVyLWIgYm9yZGVyLXdoaXRlIGJvcmRlci1vcGFjaXR5LTIwXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1tZWRpdW0gdHJ1bmNhdGVcIj7miL/plpPlkI06IHtyb29tSWR9PC9oMz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbSB3aGl0ZXNwYWNlLW5vd3JhcFwiPih7dXNlcnMubGVuZ3RofeS6uik8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNSb29tSW5mb01pbmltaXplZCghaXNSb29tSW5mb01pbmltaXplZCl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGhvdmVyOnRleHQtZ3JheS0zMDAgcC0xXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7aXNSb29tSW5mb01pbmltaXplZCA/IDxBaU91dGxpbmVEb3duIC8+IDogPEFpT3V0bGluZVVwIC8+fVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHshaXNSb29tSW5mb01pbmltaXplZCAmJiAoXHJcbiAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm92ZXJmbG93LXktYXV0byBweC0yXCJcclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBgJHtyb29tSW5mb0hlaWdodCAtIDcwfXB4YCB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gbWItMVwiPuWcqOe3muaIkOWToe+8mjwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dXNlcnMubWFwKCh1c2VyLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIHBsLTIgdHJ1bmNhdGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgdy1mdWxsIGgtMSBjdXJzb3ItbnMtcmVzaXplIGhvdmVyOmJnLWdyYXktNTAwXCJcclxuICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZVJvb21JbmZvUmVzaXplfVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcgfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7Lyog5Y+z5LiL6KeS6IGK5aSp5a6kICovfVxyXG4gICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgcmlnaHQtNCB3LTY0IGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgcm91bmRlZC1sZyBzaGFkb3ctbGcgei00MFwiXHJcbiAgICAgICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgICAgIGhlaWdodDogaXNNaW5pbWl6ZWQgPyAnNDBweCcgOiBgJHtjaGF0SGVpZ2h0fXB4YCxcclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnaGVpZ2h0IDAuMnMnXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHAtMiBib3JkZXItYiBib3JkZXItd2hpdGUgYm9yZGVyLW9wYWNpdHktMjBcIj5cclxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+6IGK5aSp5a6kPC9oMz5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc01pbmltaXplZCghaXNNaW5pbWl6ZWQpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBob3Zlcjp0ZXh0LWdyYXktMzAwIHAtMVwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge2lzTWluaW1pemVkID8gPEFpT3V0bGluZURvd24gLz4gOiA8QWlPdXRsaW5lVXAgLz59XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgeyFpc01pbmltaXplZCAmJiAoXHJcbiAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm92ZXJmbG93LXktYXV0b1wiXHJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogYCR7Y2hhdEhlaWdodCAtIDkwfXB4YCB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtc2cpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyQ29sb3IgPSBnZW5lcmF0ZVBhc3RlbENvbG9yKG1zZy5uaWNrbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bXNnLmlkfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIGhvdmVyOmJnLWJsYWNrIGhvdmVyOmJnLW9wYWNpdHktNDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gYnJlYWstd29yZHMgZmxleCBpdGVtcy1zdGFydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiB1c2VyQ29sb3IgfX0gY2xhc3NOYW1lPVwibXItMiBmbGV4LXNocmluay0wIHRydW5jYXRlIG1heC13LVs4MHB4XVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21zZy5uaWNrbmFtZX06XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttc2cudHlwZSA9PT0gJ3N0aWNrZXInID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LTMyIGgtMzIgaW5saW5lLWJsb2NrXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17bXNnLmNvbnRlbnQgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwic3RpY2tlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb250YWluXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bm9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgYnJlYWstYWxsXCI+e21zZy50ZXh0fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgYm9yZGVyLXQgYm9yZGVyLWdyYXktNzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxTdGlja2VyUGlja2VyIG9uU3RpY2tlclNlbGVjdD17aGFuZGxlU3RpY2tlclNlbGVjdH0gLz5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3TWVzc2FnZShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLovLjlhaXoqIrmga8uLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC0zIHB5LTEgYmctYmxhY2sgYmctb3BhY2l0eS01MCB0ZXh0LXdoaXRlIGJvcmRlciBib3JkZXItd2hpdGUgYm9yZGVyLW9wYWNpdHktMjAgcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0xIGZvY3VzOnJpbmctYmx1ZS01MDAgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNjAwIHRleHQtc20gd2hpdGVzcGFjZS1ub3dyYXBcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAg55m86YCBXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8Lz5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiDmiYvmqZ/niYjluIPlsYAgKi99XHJcbiAgICAgIHtpc01vYmlsZSAmJiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIHsvKiDpoILpg6jmiL/plpPos4foqIogKi99XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIHotNDAgYm9yZGVyLWIgYm9yZGVyLXdoaXRlIGJvcmRlci1vcGFjaXR5LTIwXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC0yXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbSBmb250LW1lZGl1bSB0cnVuY2F0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICDmiL/plpPvvJp7cm9vbUlkfVxyXG4gICAgICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14c1wiPih7dXNlcnMubGVuZ3RofeS6uik8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd01vYmlsZU1lbnUoIXNob3dNb2JpbGVNZW51KX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgcC0yXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8QWlPdXRsaW5lTWVudSAvPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiDlupXpg6jmir3lsZzlvI/ogYrlpKnlrqQgKi99XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BmaXhlZCBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIHotNDAgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwICR7XHJcbiAgICAgICAgICAgICAgc2hvd0NoYXQgPyAndHJhbnNsYXRlLXktMCcgOiAndHJhbnNsYXRlLXktZnVsbCdcclxuICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgIHN0eWxlPXt7IG1heEhlaWdodDogJzcwdmgnIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHAtMiBib3JkZXItYiBib3JkZXItd2hpdGUgYm9yZGVyLW9wYWNpdHktMjBcIj5cclxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+6IGK5aSp5a6kPC9oMz5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q2hhdChmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHAtMlwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEFpT3V0bGluZURvd24gLz5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtW2NhbGMoNzB2aC0xMjBweCldIG92ZXJmbG93LXktYXV0b1wiPlxyXG4gICAgICAgICAgICAgIHsvKiAuLi4g6IGK5aSp5raI5oGv5YiX6KGoIC4uLiAqL31cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHAtMiBib3JkZXItdCBib3JkZXItZ3JheS03MDBcIj5cclxuICAgICAgICAgICAgICA8U3RpY2tlclBpY2tlciBvblN0aWNrZXJTZWxlY3Q9e2hhbmRsZVN0aWNrZXJTZWxlY3R9IC8+XHJcbiAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3TWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3TWVzc2FnZShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIui8uOWFpeioiuaBry4uLlwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtMyBweS0yIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgdGV4dC13aGl0ZSBib3JkZXIgYm9yZGVyLXdoaXRlIGJvcmRlci1vcGFjaXR5LTIwIHJvdW5kZWQtbGdcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZE1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICDnmbzpgIFcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7Lyog5rWu5YuV5oyJ6YiVICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNCByaWdodC00IGZsZXggZmxleC1jb2wgZ2FwLTIgei01MFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0NoYXQodHJ1ZSl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0zIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIHNoYWRvdy1sZ1wiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8QWlPdXRsaW5lTWVzc2FnZSAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dVc2Vycyh0cnVlKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTMgYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIHNoYWRvdy1sZ1wiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8QWlPdXRsaW5lVGVhbSAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiDnlKjmiLbliJfooajlgbTpgormrIQgKi99XHJcbiAgICAgICAgICB7c2hvd1VzZXJzICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgei01MFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMCB0b3AtMCBib3R0b20tMCB3LTY0IGJnLWdyYXktOTAwIHAtNFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPuWcqOe3muaIkOWToTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93VXNlcnMoZmFsc2UpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFpT3V0bGluZUNsb3NlIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIHt1c2Vycy5tYXAoKHVzZXIsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGtleT17aW5kZXh9IGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3VzZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWVtbyhDYW52YXMpOyJdLCJuYW1lcyI6WyJSZWFjdCIsIlN0YWdlIiwiTGF5ZXIiLCJMaW5lIiwiSW1hZ2UiLCJLb252YUltYWdlIiwiVHJhbnNmb3JtZXIiLCJHcm91cCIsIkNpcmNsZSIsIktvbnZhTGluZSIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VNZW1vIiwibWVtbyIsInVzZUNhbnZhc1N0b3JlIiwiZGF0YWJhc2UiLCJyZWYiLCJvblZhbHVlIiwic2V0IiwicHVzaCIsInNlcnZlclRpbWVzdGFtcCIsImRlYm91bmNlIiwiQWlPdXRsaW5lRG93biIsIkFpT3V0bGluZVVwIiwiQWlPdXRsaW5lTWVudSIsIkFpT3V0bGluZU1lc3NhZ2UiLCJBaU91dGxpbmVUZWFtIiwiQWlPdXRsaW5lQ2xvc2UiLCJmYWJyaWMiLCJTdGlja2VyUGlja2VyIiwiQ2FudmFzIiwicm9vbUlkIiwibmlja25hbWUiLCJsaW5lcyIsInNldExpbmVzIiwiaXNEcmF3aW5nIiwic2V0SXNEcmF3aW5nIiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJjdXJyZW50TGluZSIsInNldEN1cnJlbnRMaW5lIiwidG9vbCIsInN0cm9rZVdpZHRoIiwic3Ryb2tlQ29sb3IiLCJzZXRTdHJva2VDb2xvciIsInNjYWxlIiwic2V0U2NhbGUiLCJ4IiwieSIsInBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsInN0YWdlU2l6ZSIsInNldFN0YWdlU2l6ZSIsImRyYWdNb2RlIiwic2V0RHJhZ01vZGUiLCJpbWFnZXMiLCJzZXRJbWFnZXMiLCJzZWxlY3RlZEltYWdlIiwic2V0U2VsZWN0ZWRJbWFnZSIsInRyYW5zZm9ybWVyUmVmIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsIm5ld01lc3NhZ2UiLCJzZXROZXdNZXNzYWdlIiwiaXNNaW5pbWl6ZWQiLCJzZXRJc01pbmltaXplZCIsImNoYXRIZWlnaHQiLCJzZXRDaGF0SGVpZ2h0IiwidXNlcnMiLCJzZXRVc2VycyIsImlzUm9vbUluZm9NaW5pbWl6ZWQiLCJzZXRJc1Jvb21JbmZvTWluaW1pemVkIiwicm9vbUluZm9IZWlnaHQiLCJzZXRSb29tSW5mb0hlaWdodCIsInNlbGVjdGlvblN0YXJ0Iiwic2V0U2VsZWN0aW9uU3RhcnQiLCJzZWxlY3RlZEVsZW1lbnRzIiwic2V0U2VsZWN0ZWRFbGVtZW50cyIsImlzRHJhZ2dpbmdTZWxlY3Rpb24iLCJzZXRJc0RyYWdnaW5nU2VsZWN0aW9uIiwiZmFicmljUmVmIiwiaXNNb2JpbGUiLCJzZXRJc01vYmlsZSIsInNob3dNb2JpbGVNZW51Iiwic2V0U2hvd01vYmlsZU1lbnUiLCJzaG93Q2hhdCIsInNldFNob3dDaGF0Iiwic2hvd1VzZXJzIiwic2V0U2hvd1VzZXJzIiwicm9vbVJlZiIsInVuc3Vic2NyaWJlIiwic25hcHNob3QiLCJkYXRhIiwidmFsIiwiT2JqZWN0IiwidmFsdWVzIiwiaW1hZ2VzUmVmIiwiY3VycmVudCIsInN0YWdlIiwic3RhZ2VSZWYiLCJub2RlIiwiZmluZE9uZSIsIm5vZGVzIiwiZ2V0TGF5ZXIiLCJiYXRjaERyYXciLCJtZXNzYWdlc1JlZiIsIm1lc3NhZ2VMaXN0IiwiZW50cmllcyIsIm1hcCIsImlkIiwibXNnIiwidGV4dCIsInR5cGUiLCJjb250ZW50IiwidGltZXN0YW1wIiwic29ydCIsImEiLCJiIiwidXNlcnNSZWYiLCJ1c2VyTGlzdCIsImtleXMiLCJ1c2VyUmVmIiwibGFzdEFjdGl2ZSIsImdldExpbmVQcm9wZXJ0aWVzIiwidG9vbFR5cGUiLCJ0ZW5zaW9uIiwib3BhY2l0eSIsImxpbmVDYXAiLCJsaW5lSm9pbiIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiYmV6aWVyIiwiaGFuZGxlV2hlZWwiLCJlIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJzY2FsZUJ5IiwidGFyZ2V0IiwiZ2V0U3RhZ2UiLCJvbGRTY2FsZSIsInNjYWxlWCIsIm1vdXNlUG9pbnRUbyIsImdldFBvaW50ZXJQb3NpdGlvbiIsIm5ld1NjYWxlIiwiZGVsdGFZIiwiaGFuZGxlTW91c2VEb3duIiwicG9zIiwiZ2V0UmVsYXRpdmVQb2ludGVyUG9zaXRpb24iLCJpc1JpZ2h0Q2xpY2siLCJidXR0b24iLCJpc01pZGRsZUNsaWNrIiwiY2xpY2tlZE9uSW1hZ2UiLCJjbGFzc05hbWUiLCJjdHJsS2V5IiwibWV0YUtleSIsImxpbmVQcm9wcyIsIm5ld0xpbmUiLCJwb2ludHMiLCJuZXdMaW5lUmVmIiwiaGFuZGxlTW91c2VNb3ZlIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiZGVib3VuY2VkVXBkYXRlIiwibGVuZ3RoIiwiaGFuZGxlTW91c2VVcCIsInNlbGVjdGVkIiwiZmlsdGVyIiwibGluZSIsInNvbWUiLCJwb2ludCIsImkiLCJNYXRoIiwibWluIiwibWF4Iiwiem9vbUluIiwiem9vbU91dCIsInJlc2V0Wm9vbSIsImhhbmRsZVJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlQ29udGV4dE1lbnUiLCJoYW5kbGVDbGVhckNhbnZhcyIsImhhbmRsZUNsZWFyQWxsIiwiaGFuZGxlRHJhZ092ZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJoYW5kbGVEcm9wIiwiZmlsZSIsImRhdGFUcmFuc2ZlciIsImZpbGVzIiwic3RhcnRzV2l0aCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldmVudCIsImltZ0RhdGEiLCJyZXN1bHQiLCJpbWFnZUlkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwiaW1nIiwic3JjIiwibmV3SW1hZ2UiLCJuYXRpdmVFdmVudCIsIm9mZnNldFgiLCJvZmZzZXRZIiwicHJldkltYWdlcyIsImRiSW1hZ2VSZWYiLCJyZWFkQXNEYXRhVVJMIiwiaGFuZGxlSW1hZ2VUcmFuc2Zvcm0iLCJuZXdQcm9wcyIsImltYWdlUmVmIiwidXBkYXRlZEltYWdlIiwiZmluZCIsImNoZWNrRGVzZWxlY3QiLCJjbGlja2VkT25FbXB0eSIsImRvY3VtZW50IiwicGF0aCIsImRiUmVmIiwiaW1hZ2VDYWNoZSIsImNhY2hlIiwiZm9yRWFjaCIsImltYWdlIiwicmVuZGVyTGluZXMiLCJzdHJva2UiLCJkYXNoIiwicmVuZGVySW1hZ2VzIiwiRnJhZ21lbnQiLCJkcmFnZ2FibGUiLCJvbkNsaWNrIiwib25EcmFnU3RhcnQiLCJvbkRyYWdNb3ZlIiwib25EcmFnRW5kIiwicmFkaXVzIiwiZmlsbCIsImJvdW5kQm94RnVuYyIsIm9sZEJveCIsIm5ld0JveCIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiZW5hYmxlZEFuY2hvcnMiLCJyb3RhdGVFbmFibGVkIiwia2VlcFJhdGlvIiwicGFkZGluZyIsImFuY2hvclNpemUiLCJhbmNob3JDb3JuZXJSYWRpdXMiLCJib3JkZXJFbmFibGVkIiwiYm9yZGVyU3Ryb2tlIiwiYm9yZGVyU3Ryb2tlV2lkdGgiLCJhbmNob3JTdHJva2UiLCJhbmNob3JGaWxsIiwib25UcmFuc2Zvcm1FbmQiLCJzY2FsZVkiLCJoYW5kbGVTZW5kTWVzc2FnZSIsIm5ld01lc3NhZ2VSZWYiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwidHJpbSIsImhhc01lc3NhZ2UiLCJCb29sZWFuIiwiaGFzTmlja25hbWUiLCJoYXNSb29tSWQiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsImVycm9yU3RhY2siLCJzdGFjayIsInVuZGVmaW5lZCIsImhhbmRsZVJlc2l6ZVN0YXJ0IiwibW92ZUV2ZW50IiwiY2hhdENvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbmVyUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm1heEhlaWdodCIsIm5ld0hlaWdodCIsImJvdHRvbSIsImNsaWVudFkiLCJoYW5kbGVSb29tSW5mb1Jlc2l6ZSIsImNvbnRhaW5lciIsInRvcCIsImhhbmRsZUltYWdlVXBsb2FkIiwiZnJvbVVSTCIsImNyb3NzT3JpZ2luIiwicG9pbnRlciIsImxlZnQiLCJjb3JuZXJDb2xvciIsImNvcm5lclN0cm9rZUNvbG9yIiwiY29ybmVyU2l6ZSIsInRyYW5zcGFyZW50Q29ybmVycyIsImJvcmRlckNvbG9yIiwiYm9yZGVyU2NhbGVGYWN0b3IiLCJhZGQiLCJjYW52YXNFbGVtZW50IiwiY2FudmFzIiwib24iLCJvYmoiLCJnZXQiLCJkaXNwb3NlIiwic2VsZWN0aW9uIiwiZm9yRWFjaE9iamVjdCIsInNlbGVjdGFibGUiLCJyZW5kZXJBbGwiLCJ0ZXN0UmVmIiwiZ2VuZXJhdGVQYXN0ZWxDb2xvciIsInNlZWQiLCJoYXNoIiwiY2hhckNvZGVBdCIsImh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJoYW5kbGVTdGlja2VyU2VsZWN0Iiwic3RpY2tlclVybCIsImNoZWNrSXNNb2JpbGUiLCJkaXYiLCJvbk1vdXNlRG93biIsIm9uTW91c2Vtb3ZlIiwib25Nb3VzZXVwIiwib25Nb3VzZWxlYXZlIiwib25XaGVlbCIsInN0eWxlIiwiYmFja2dyb3VuZCIsInRyYW5zaXRpb24iLCJoMyIsInNwYW4iLCJwIiwidWwiLCJ1c2VyIiwiaW5kZXgiLCJsaSIsImJhY2tncm91bmRDb2xvciIsInVzZXJDb2xvciIsImNvbG9yIiwiYWx0IiwidW5vcHRpbWl6ZWQiLCJvblN0aWNrZXJTZWxlY3QiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/Canvas/index.tsx\n"));

/***/ })

});